!function(e){function n(n){for(var t,l,s=n[0],o=n[1],u=n[2],p=0,d=[];p<s.length;p++)l=s[p],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&d.push(i[l][0]),i[l]=0;for(t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t]);for(c&&c(n);d.length;)d.shift()();return r.push.apply(r,u||[]),a()}function a(){for(var e,n=0;n<r.length;n++){for(var a=r[n],t=!0,s=1;s<a.length;s++){var o=a[s];0!==i[o]&&(t=!1)}t&&(r.splice(n--,1),e=l(l.s=a[0]))}return e}var t={},i={8:0},r=[];function l(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=t,l.d=function(e,n,a){l.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:a})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,n){if(1&n&&(e=l(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var t in e)l.d(a,t,function(n){return e[n]}.bind(null,t));return a},l.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(n,"a",n),n},l.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},l.p="";var s=window.webpackJsonp=window.webpackJsonp||[],o=s.push.bind(s);s.push=n,s=s.slice();for(var u=0;u<s.length;u++)n(s[u]);var c=o;r.push(["8Rb2",0]),a()}({"8Rb2":function(e,n,a){!function(){"use strict";"undefined"!=typeof tui&&tui._bundle.isLoaded("pathway_learning_plan")?console.warn('[tui bundle] The bundle "pathway_learning_plan" is already loaded, skipping initialisation.'):(tui._bundle.register("pathway_learning_plan"),tui._bundle.addModulesFromContext("pathway_learning_plan/components",a("UJoe")))}()},KGot:function(e,n){e.exports=tui.require("tui/components/datatable/Cell")},UJoe:function(e,n,a){var t={"./achievements/AchievementDisplay":"ix1Q","./achievements/AchievementDisplay.vue":"ix1Q"};function i(e){var n=r(e);return a(n)}function r(e){if(!a.o(t,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t[e]}i.keys=function(){return Object.keys(t)},i.resolve=r,e.exports=i,i.id="UJoe"},Zoit:function(e,n){e.exports=tui.require("totara_competency/components/achievements/AchievementLayout")},fCWf:function(e,n){e.exports=tui.require("tui/components/links/ActionLink")},ix1Q:function(e,n,a){"use strict";a.r(n);var t=function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("div",{staticClass:"tui-pathwayLearningPlanAchievement"},[e.hasPlans?a("div",{staticClass:"tui-pathwayLearningPlanAchievement__content"},[a("AchievementLayout",{scopedSlots:e._u([{key:"left",fn:function(){return[a("div",{staticClass:"tui-pathwayLearningPlanAchievement__overview"},[a("h5",{staticClass:"tui-pathwayLearningPlanAchievement__title"},[e._v("\n            "+e._s(e.$str("achievement_via_learning_plan","pathway_learning_plan"))+"\n          ")]),e._v(" "),e.hasValue?[a("div",{staticClass:"tui-pathwayLearningPlanAchievement__value"},[a("span",{staticClass:"tui-pathwayLearningPlanAchievement__value-title"},[e._v("\n                "+e._s(e.plans.scale_value.name)+"\n              ")]),e._v("\n              "+e._s(e.$str("set_on","pathway_learning_plan",e.plans.date))+"\n            ")])]:[a("div",{staticClass:"tui-pathwayLearningPlanAchievement__noValue"},[e._v("\n              "+e._s(e.$str("no_rating_set","pathway_learning_plan"))+"\n            ")])]],2)]},proxy:!0},{key:"right",fn:function(){return[a("Table",{staticClass:"tui-pathwayLearningPlanAchievement__list",attrs:{data:e.plans.learning_plans,"expandable-rows":!0},scopedSlots:e._u([{key:"row",fn:function(n){var t=n.row,i=n.expand,r=n.expandState;return[t.can_view?[t.can_view?a("ExpandCell",{attrs:{"expand-state":r},on:{click:function(e){return i()}}}):e._e(),e._v(" "),a("Cell",{attrs:{size:"11","column-header":e.$str("name","pathway_learning_plan")}},[e._v("\n                "+e._s(t.name)+"\n              ")])]:[a("ExpandCell",{attrs:{header:!0}}),e._v(" "),a("Cell",{attrs:{size:"11"}},[e._v("\n                "+e._s(e.$str("no_permission_view_plan","pathway_learning_plan"))+"\n              ")])]]}},{key:"expand-content",fn:function(n){var t=n.row;return[a("div",{staticClass:"tui-pathwayLearningPlanAchievement__summary"},[a("h6",{staticClass:"tui-pathwayLearningPlanAchievement__summary-header"},[e._v("\n                "+e._s(t.name)+"\n              ")]),e._v(" "),t.description?a("div",{staticClass:"tui-pathwayLearningPlanAchievement__summary-body",domProps:{innerHTML:e._s(t.description)}}):e._e(),e._v(" "),a("ActionLink",{class:"tui-pathwayLearningPlanAchievement__summary-button",attrs:{href:e.getPlanUrl(t.id),text:e.$str("view_plan","pathway_learning_plan"),styleclass:{primary:!0,small:!0}}})],1)]}}])})]},proxy:!0}])})],1):a("div",{staticClass:"tui-pathwayLearningPlanAchievement__empty"},[e._v("\n    "+e._s(e.$str("no_available_learning_plans","pathway_learning_plan"))+"\n  ")])])};t._withStripped=!0;var i=a("Zoit"),r=a.n(i),l=a("fCWf"),s=a.n(l),o=a("KGot"),u=a.n(o),c=a("rsf9"),p=a.n(c),d=a("yikf"),_=a.n(d),m={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"pathway_learning_plan_competency_plans"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"user_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"assignment_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pathway_learning_plan_competency_plans"},arguments:[{kind:"Argument",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}},{kind:"Argument",name:{kind:"Name",value:"assignment_id"},value:{kind:"Variable",name:{kind:"Name",value:"assignment_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"learning_plans"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"scale_value"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"date"},name:{kind:"Name",value:"date_assigned"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"DATE"}}],directives:[]}]}}]}}]},v={components:{AchievementLayout:r.a,ActionLink:s.a,Cell:u.a,ExpandCell:p.a,Table:_.a},inheritAttrs:!1,props:{assignmentId:{required:!0,type:Number},userId:{required:!0,type:Number}},data:function(){return{plans:[]}},apollo:{plans:{query:m,context:{batch:!0},variables:function(){return{assignment_id:this.assignmentId,user_id:this.userId}},update:function(e){var n=e.pathway_learning_plan_competency_plans;return this.$emit("loaded"),n}}},computed:{hasPlans:function(){return this.plans.learning_plans},hasValue:function(){return this.hasPlans&&null!=this.plans.scale_value}},methods:{getPlanUrl:function(e){return this.$url("/totara/plan/component.php",{c:"competency",id:e})}}},h=a("KHd+"),y=function(e){e.options.__langStrings={pathway_learning_plan:["achievement_via_learning_plan","name","no_available_learning_plans","no_rating_set","no_permission_view_plan","set_on","view_plan","work_towards_level"]}},f=Object(h.a)(v,t,[],!1,null,null,null);"function"==typeof y&&y(f),f.options.__hasBlocks={script:!0,template:!0},f.options.__file="client/src/pathway_learning_plan/components/achievements/AchievementDisplay.vue";n.default=f.exports},rsf9:function(e,n){e.exports=tui.require("tui/components/datatable/ExpandCell")},yikf:function(e,n){e.exports=tui.require("tui/components/datatable/Table")}});