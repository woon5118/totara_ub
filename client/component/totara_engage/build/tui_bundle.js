!function(e){var t={};function i(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s="1+D+")}({"+1Jo":function(e,t){e.exports=tui.require("totara_engage/components/icons/access/computed/AccessIcon")},"+AKK":function(e,t,i){"use strict";i.r(t),t.default={props:{selectedId:{type:String,required:!0},values:{type:Object,default:()=>({})},showContribute:Boolean},methods:{getNavigationLinkClass(e,t){return{"tui-engageNavigationPanel__link":!0,"tui-engageNavigationPanel__link--inactive":this.selectedId!==e,"tui-engageNavigationPanel__link--active":this.selectedId===e,"tui-engageNavigationPanel__link--first":0===t}}}}},"+MEP":function(e,t){e.exports=tui.require("tui/components/profile/MiniProfileCard")},"+hBV":function(e,t,i){"use strict";i.r(t);var n=i("5h9J"),a=i.n(n),r=i("fPwS"),s=i.n(r),o=i("vF5l"),l=i.n(o),c={components:{ButtonIcon:a.a,Loading:s.a,Button:l.a},props:{loading:{type:Boolean,required:!0},text:{type:String,required:!0},type:{type:String,default:"button",validator:e=>["button","submit","reset"].includes(e)},ariaLabel:{type:String,default:""},primary:Boolean,small:Boolean,disabled:Boolean},computed:{ariaLabelCompute(){return""===this.ariaLabel?this.loading?this.$str("loading","totara_engage"):this.text:this.ariaLabel},labelText(){return this.loading?"":this.text}}},d=i("KHd+"),u=function(e){e.options.__langStrings={totara_engage:["loading"]}},m=Object(d.a)(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.loading?i("ButtonIcon",{attrs:{"aria-label":e.ariaLabelCompute,styleclass:{primary:e.primary,small:e.small},disabled:e.disabled||e.loading,text:e.labelText,type:e.type},on:{click:function(t){return e.$emit("click",t)}}},[i("Loading")],1):i("Button",{attrs:{"aria-label":e.ariaLabelCompute,styleclass:{primary:e.primary,small:e.small},disabled:e.disabled||e.loading,text:e.labelText,type:e.type},on:{click:function(t){return e.$emit("click",t)}}})}),[],!1,null,null,null);"function"==typeof u&&u(m),m.options.__hasBlocks={script:!0,template:!0};t.default=m.exports},"/Fxc":function(e,t){e.exports=tui.require("totara_engage/components/form/SharedBoard")},"/NyT":function(e,t,i){"use strict";var n=i("hNLq");i.n(n).a},"/ae1":function(e,t){e.exports=tui.require("tui/components/icons/BackArrow")},"/djH":function(e,t,i){"use strict";i.r(t);var n=i("s5vj"),a=i.n(n),r=i("Uhf3"),s=i.n(r),o=i("tyu8"),l=i("pxdy"),c=i.n(l),d=i("zEvk"),u=i.n(d),m={components:{ContributionBaseContent:a.a,ContributionFilter:s.a},mixins:[c.a,u.a],data(){return{search:this.pageProps.search}},computed:{pageHeading(){return this.pageProps.search?this.$str("searchresultsdetail","totara_engage",this.pageProps.search):this.$str("search","totara_engage")}},created(){this.filterValue=Object.assign({},this.filterValue,{search:this.pageProps.search}),this.contributionComponent="totara_engage",this.contributionArea="search",this.contributionSource=o.UrlSourceType.librarySearchResults(),this.includeFootnotes=!0,this.footnotes.footnotes_type="search"}},p=(i("WqfG"),i("KHd+")),g=function(e){e.options.__langStrings={totara_engage:["search","searchresultsdetail"]}},h=Object(p.a)(m,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tui-contributionSearchResults"},[i("ContributionBaseContent",{attrs:{units:e.units,loading:e.$apollo.loading,"loading-more":e.loadingMore,cards:e.contribution.cards,"total-cards":e.contribution.cursor.total,"show-heading":"vertical"!==e.gridDirection,"grid-direction":e.gridDirection,"show-footnotes":e.includeFootnotes,"is-load-more-visible":e.isLoadMoreVisible,"show-empty-content":!0},on:{"scrolled-to-bottom":e.scrolledToBottom,"load-more":e.loadMore},scopedSlots:e._u([{key:"heading",fn:function(){return[e._v("\n      "+e._s(e.pageHeading)+"\n    ")]},proxy:!0},{key:"filters",fn:function(){return[i("ContributionFilter",{attrs:{component:"totara_engage",area:"search",value:e.filterValue,"show-access":!0,"show-type":!0,"show-topic":!0,"show-section":!0},on:{access:e.filterAccess,type:e.filterType,topic:e.filterTopic,sort:e.filterSort,section:e.filterSection}})]},proxy:!0}])})],1)}),[],!1,null,null,null);"function"==typeof g&&g(h),h.options.__hasBlocks={script:!0,template:!0};t.default=h.exports},"/vW5":function(e,t,i){"use strict";var n=i("bUOz");i.n(n).a},"/zRO":function(e,t,i){"use strict";var n=i("0I9f");i.n(n).a},"004H":function(e,t,i){"use strict";i.r(t);const n=[45,0,15,90,90,34,0,34,75,90];var a={inheritAttrs:!1,props:{fill:{type:Number,default:0},points:{type:Array,default:()=>[]},rtl:{type:Boolean,default:!1},starIndex:{type:Number,required:!0},defaultSize:{type:Number,default:22},borderWidth:{type:Number,default:0},size:{type:Number,default:15},readOnly:{type:Boolean,default:!0}},data(){return{starPoints:n,grad:this.$id("engageStarComp"),starSize:0}},computed:{getSize(){const e=this.borderWidth<=0?parseInt(this.size,10)-parseInt(this.border,10):this.size;return parseInt(e,10)+parseInt(this.border,10)},border(){return this.borderWidth<=0?1:this.borderWidth},starPointsToString(){return this.starPoints.join(",")},getGradId(){return"url(#"+this.grad+")"},getFill(){return(this.rtl?100-this.fill:this.fill)+"%"},maxStarSize(){return Math.max(...this.starPoints)},viewBox(){return"0 0 "+this.maxStarSize+" "+this.maxStarSize},svgId(){return this.$id("engageStarSVG")},focusable(){return this.readOnly?"false":null},tabIndex(){return this.readOnly?null:0},role(){return this.readOnly?null:"button"},ariaLabel(){return 1===this.starIndex?this.$str("rate_one_star","totara_engage"):this.$str("rate_x_stars","totara_engage",this.starIndex)}},mounted(){this.starPoints=this.points.length?this.points:this.starPoints,this.starSize=this.$refs[this.svgId].clientWidth||this.defaultSize,this.calculatePoints()},methods:{mouseMoving(e){this.$emit("star-mouse-move",{event:e,index:this.starIndex,position:this.getPosition(e)})},getPosition(e){if(!e.offsetX)return!1;const t=this.rtl?Math.min(e.offsetX,this.starSize):Math.max(e.offsetX,1),i=Math.round(100/this.starSize*t);return Math.min(i,100)},selected(e){this.$emit("star-selected",{index:this.starIndex,position:this.getPosition(e)})},calculatePoints(){this.starPoints=this.starPoints.map(e=>this.starSize/this.maxStarSize*e)},getStopClass:e=>({"tui-engageStarIcon__filled":e,"tui-engageStarIcon__unfilled":!e})}},r=(i("Xcst"),i("KHd+")),s=function(e){e.options.__langStrings={totara_engage:["rate_one_star","rate_x_stars"]}},o=Object(r.a)(a,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("svg",{ref:e.svgId,staticClass:"tui-engageStarIcon",attrs:{focusable:e.focusable,tabindex:e.tabIndex,role:e.role,height:e.getSize,width:e.getSize,viewBox:e.viewBox,"aria-label":e.ariaLabel},on:{mousemove:e.mouseMoving,click:e.selected,keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.selected(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:e.selected(t)}]}},[i("linearGradient",{attrs:{id:e.grad,x1:"0",x2:"100%",y1:"0",y2:"0"}},[i("stop",{class:e.getStopClass(!e.rtl),attrs:{offset:e.getFill}}),e._v(" "),i("stop",{class:e.getStopClass(e.rtl),attrs:{offset:e.getFill}})],1),e._v(" "),i("polygon",{staticClass:"tui-engageStarIcon__polygon",attrs:{points:e.starPointsToString,fill:e.getGradId,"stroke-width":e.border}}),e._v(" "),i("polygon",{attrs:{points:e.starPointsToString,fill:e.getGradId}})],1)}),[],!1,null,null,null);"function"==typeof s&&s(o),o.options.__hasBlocks={script:!0,template:!0};t.default=o.exports},"01S2":function(e,t,i){"use strict";i.r(t);var n=i("12HA"),a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_engage_user_contribution_cards"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"user_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"component"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"area"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_area"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"page"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"access"}},type:{kind:"NamedType",name:{kind:"Name",value:"totara_engage_access"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"type"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"topic"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sort"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"section"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"include_footnotes"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"source"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"theme"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"contribution"},name:{kind:"Name",value:"totara_engage_user_contributions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}},{kind:"Argument",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"component"}}},{kind:"Argument",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"area"}}},{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"page"},value:{kind:"Variable",name:{kind:"Name",value:"page"}}},{kind:"ObjectField",name:{kind:"Name",value:"access"},value:{kind:"Variable",name:{kind:"Name",value:"access"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"type"}}},{kind:"ObjectField",name:{kind:"Name",value:"topic"},value:{kind:"Variable",name:{kind:"Name",value:"topic"}}},{kind:"ObjectField",name:{kind:"Name",value:"sort"},value:{kind:"Variable",name:{kind:"Name",value:"sort"}}},{kind:"ObjectField",name:{kind:"Name",value:"search"},value:{kind:"Variable",name:{kind:"Name",value:"search"}}},{kind:"ObjectField",name:{kind:"Name",value:"section"},value:{kind:"Variable",name:{kind:"Name",value:"section"}}}]}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"next"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"instanceid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"summary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tuicomponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timecreated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sharedbycount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bookmarked"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"extra"},arguments:[{kind:"Argument",name:{kind:"Name",value:"theme"},value:{kind:"Variable",name:{kind:"Name",value:"theme"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"owned"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"footnotes"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"include_footnotes"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tuicomponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"props"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[{kind:"Argument",name:{kind:"Name",value:"source"},value:{kind:"Variable",name:{kind:"Name",value:"source"}}},{kind:"Argument",name:{kind:"Name",value:"search"},value:{kind:"Variable",name:{kind:"Name",value:"search"}}}],directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"count"},name:{kind:"Name",value:"totara_engage_user_contributions_count"},arguments:[{kind:"Argument",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}},{kind:"Argument",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"component"}}},{kind:"Argument",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"area"}}}],directives:[]}]}}]};t.default={data:()=>({skipCardsQuery:!0,isLoadMoreVisible:!1,contributionComponent:"",contributionArea:"",contributionSource:"",filterValue:{access:null,type:null,topic:null,sort:1,section:null,search:null},contribution:{cursor:{total:0,next:null},cards:[]},contributionCount:0,loadingMore:!1}),apollo:{otherUserContributions:{query:a,fetchPolicy:"network-only",loadingKey:"loading",variables(){return Object.assign({},this.filterValue,{component:this.contributionComponent,area:"otheruserlib",include_footnotes:!1,source:this.contributionSource,user_id:this.userId,theme:n.config.theme.name})},update:({contribution:e,count:t})=>({contribution:e,count:t}),result({data:{contribution:e,count:t}}){if(this.contributionCount=t,this.contribution=e,this.filterValue.type){const{cards:t,cursor:i}=e,n=t.filter(e=>e.component===this.filterValue.type);this.contribution={cursor:i,cards:n}}var i;null===(i=e).cursor.next&&i.cards.length<i.cursor.total&&(this.contribution={cursor:{total:e.cards.length,next:null},cards:e.cards})},skip(){return this.skipCardsQuery}}},created(){this.skipCardsQuery=!1},methods:{filterAccess({value:e}){this.filterValue.access=e},filterTopic({value:e}){this.filterValue.topic=e},filterType({value:e}){this.filterValue.type=e},filterSort({value:e}){this.filterValue.sort=e},filterSection({value:e}){this.filterValue.section=e},filterSearch({value:e}){this.filterValue.search=e},async scrolledToBottom(){this.isLoadMoreVisible||(await this.loadMoreItems(),this.isLoadMoreVisible=!0)},async loadMore(){await this.loadMoreItems(),this.isLoadMoreVisible=!1},async loadMoreItems(){this.contribution.cursor.next&&(this.loadingMore=!0,this.$apollo.queries.otherUserContributions.fetchMore({variables:Object.assign({},this.filterValue,{cursor:this.contribution.cursor.next}),updateQuery:(e,{fetchMoreResult:t})=>{const i=e.contribution,n=t.contribution,a=i.cards.concat(n.cards);return this.loadingMore=!1,{contribution:{cursor:n.cursor,cards:a}}}}))}}}},"0CX/":function(e,t,i){"use strict";var n=i("aMhK");i.n(n).a},"0DFY":function(e,t,i){"use strict";i.r(t);var n=i("x4Wp"),a=i.n(n),r=i("/ae1"),s=i.n(r),o={components:{ForwardArrow:a.a,BackArrow:s.a},props:{backButton:{type:Object,required:!1},navigationButtons:{type:Object,required:!1}},methods:{backClick(){this.backButton.history?window.history.back():window.location.href=this.backButton.url}}},l=(i("E/kv"),i("KHd+")),c=function(e){e.options.__langStrings={totara_engage:["resourcenavnext","resourcenavprevious"]}},d=Object(l.a)(o,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tui-resourceNavigationBar"},[e.backButton?i("a",{staticClass:"tui-resourceNavigationBar__backLink",attrs:{href:e.backButton.url,title:e.backButton.label},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.backClick(t)}}},[i("BackArrow",{staticClass:"tui-resourceNavigationBar__backIcon",attrs:{size:"200"}}),e._v(" "),i("span",[e._v(" "+e._s(e.backButton.label)+" ")])],1):e._e(),e._v(" "),e.navigationButtons?i("div",{staticClass:"tui-resourceNavigationBar__nextPrevious"},[e.navigationButtons.previous?i("a",{staticClass:"tui-resourceNavigationBar__previousLink",attrs:{href:e.navigationButtons.previous,title:e.$str("resourcenavprevious","totara_engage")}},[i("BackArrow",{attrs:{size:"100"}})],1):i("span",{staticClass:"tui-resourceNavigationBar__previousLink tui-resourceNavigationBar--disabled"},[i("BackArrow",{attrs:{size:"100"}})],1),e._v(" "),i("span",[e._v(e._s(e.navigationButtons.label))]),e._v(" "),e.navigationButtons.next?i("a",{staticClass:"tui-resourceNavigationBar__nextLink",attrs:{href:e.navigationButtons.next,title:e.$str("resourcenavnext","totara_engage")}},[i("ForwardArrow",{attrs:{size:"100"}})],1):i("span",{staticClass:"tui-resourceNavigationBar__nextLink tui-resourceNavigationBar--disabled"},[i("ForwardArrow",{attrs:{size:"100"}})],1)]):e._e()])}),[],!1,null,null,null);"function"==typeof c&&c(d),d.options.__hasBlocks={script:!0,template:!0};t.default=d.exports},"0I9f":function(e,t,i){},"0MEa":function(e,t,i){"use strict";var n=i("X9R4");i.n(n).a},"1+D+":function(e,t,i){!function(){"use strict";"undefined"!=typeof tui&&tui._bundle.isLoaded("totara_engage")?console.warn('[tui bundle] The bundle "totara_engage" is already loaded, skipping initialisation.'):(tui._bundle.register("totara_engage"),tui._bundle.addModulesFromContext("totara_engage",i("6ZOV")),tui._bundle.addModulesFromContext("totara_engage/components",i("Lw07")),tui._bundle.addModulesFromContext("totara_engage/pages",i("xeAR")))}()},"12HA":function(e,t){e.exports=tui.require("tui/config")},"1cpS":function(e,t,i){"use strict";i.r(t);var n=i("vF5l"),a=i.n(n),r=i("5h9J"),s=i.n(r),o=i("C+/B"),l=i.n(o),c=i("tkAW"),d=i.n(c),u=i("u5iS"),m=i.n(u),p=i("Lgm+"),g=i.n(p),h=i("YqQ4"),v=i.n(h),f=i("1i2V"),_=i.n(f),k=i("txsu"),b=i.n(k),y=i("H/tB"),S=i.n(y),N={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_engage_modals"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"exclude"}},type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"modals"},name:{kind:"Name",value:"totara_engage_modals"},arguments:[{kind:"Argument",name:{kind:"Name",value:"exclude"},value:{kind:"Variable",name:{kind:"Name",value:"exclude"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expandable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]},C=i("4Lp8"),x=i.n(C);const w=Object.prototype.hasOwnProperty;var B={components:{Button:a.a,ButtonIcon:s.a,ConfirmationModal:l.a,Modal:d.a,ModalContent:m.a,SizeContractIcon:g.a,SizeExpandIcon:v.a,Tab:_.a,Tabs:b.a},mixins:[x.a],props:{excludeModals:Array,adder:{type:Object,default:null,validator:e=>["destination","text"].every(t=>t in e)},showNotification:{type:Boolean}},apollo:{modals:{query:N,variables(){return{exclude:this.getExcludeModals()}},result({data:{modals:e}}){this.modals=e.slice();for(let e in this.modals){if(!w.call(this.modals,e))continue;let t=this.modals[e];this.$options.components[t.id]=S.a.asyncComponent(t.component),null===this.selectedTab&&(this.selectedTab=t.id)}return this.modals}}},data(){return{compress:this.$str("compress","totara_engage"),expand:this.$str("expand","totara_engage"),selectedTab:null,size:"large",expanded:!1,dismissable:{overlayClose:!1,esc:!0,backdropClick:!1},modals:[],hideTabs:!1,disabledId:0,stage:0,hasUnsavedChanges:!1,unsavedChangesModalOpen:!1,requestedTab:null}},computed:{expandable(){if(0!==this.modals.length){return this.getSelectedModal().expandable}return!1},resizeIcon(){return this.expanded?"compress":"expand"},resizeAriaLabel(){return this.expanded?this.compress:this.expand},getTitle(){return 1===this.stage?this.$str("accesssettings","totara_engage"):this.$str("contribute","totara_engage")}},watch:{selectedTab(){this.expanded&&!this.expandable&&(this.size="large",this.expanded=!1)},stage(){this.hideTabs=0!==this.stage}},methods:{resize(){this.expanded=!this.expanded,this.expanded?this.size="sheet":this.size="large"},getSelectedModal(){const e=this;return e.modals.find((function(t){return t.id===e.selectedTab}))},getExcludeModals(){if(null===this.container||void 0===this.container)return this.excludeModals;const{component:e,showModal:t}=this.container;return t?[]:[e]},changeTabRequest(e){this.hasUnsavedChanges?(this.unsavedChangesModalOpen=!0,this.requestedTab=e):this.selectedTab=e},changeTabConfirm(){this.hasUnsavedChanges=!1,this.unsavedChangesModalOpen=!1,this.selectedTab=this.requestedTab}}},R=(i("a2CH"),i("KHd+")),A=function(e){e.options.__langStrings={totara_engage:["accesssettings","button_continue","compress","contribute","expand","or","unsaved_changes_message","unsaved_changes_title"]}},T=Object(R.a)(B,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[i("Modal",{attrs:{size:e.size,"aria-labelledby":e.$id("title"),dismissable:e.dismissable}},[i("ModalContent",{staticClass:"tui-engageContributeModal",attrs:{"close-button":!1,title:e.getTitle,"content-padding":!1}},[i("div",{staticClass:"tui-engageContributeModal__content"},[e.adder&&!e.hideTabs?i("div",{staticClass:"tui-engageContributeModal__adderContainer"},[i("span",[e._v("\n            "+e._s(e.$str("or","totara_engage"))+"\n            "),i("Button",{attrs:{text:e.adder.text,disabled:!1,styleclass:{transparent:!0}},on:{click:function(t){return e.$emit("adder-open")}}}),e._v("\n            "+e._s(e.adder.destination)+"\n          ")],1)]):e._e(),e._v(" "),e.$apollo.loading?e._e():i("Tabs",{directives:[{name:"show",rawName:"v-show",value:!e.hideTabs,expression:"!hideTabs"}],staticClass:"tui-engageContributeModal__tabs",attrs:{selected:e.selectedTab,"small-tabs":!0,controlled:!0},on:{input:e.changeTabRequest}},e._l(e.modals,(function(t){return i("Tab",{key:t.id,attrs:{id:t.id,name:t.label,disabled:e.disabledId===t.id}})})),1),e._v(" "),e.$apollo.loading?e._e():i("div",{staticClass:"tui-engageContributeModal__componentContent"},[i(e.selectedTab,{tag:"component",attrs:{container:e.container,"show-notification":e.showNotification},on:{"change-title":function(t){e.stage=t},done:function(t){return e.$emit("done",t)},cancel:function(t){return e.$emit("request-close")},"unsaved-changes":function(t){e.hasUnsavedChanges=!0}}})],1),e._v(" "),e.expandable?i("ButtonIcon",{directives:[{name:"show",rawName:"v-show",value:!e.hideTabs,expression:"!hideTabs"}],staticClass:"tui-engageContributeModal__resize",attrs:{"aria-label":e.resizeAriaLabel,styleclass:{transparentNoPadding:!0}},on:{click:e.resize}},[e.expanded?i("SizeContractIcon"):i("SizeExpandIcon")],1):e._e()],1)])],1),e._v(" "),i("ConfirmationModal",{attrs:{open:e.unsavedChangesModalOpen,title:e.$str("unsaved_changes_title","totara_engage"),"confirm-button-text":e.$str("button_continue","totara_engage")},on:{confirm:e.changeTabConfirm,cancel:function(t){e.unsavedChangesModalOpen=!1}}},[i("p",[e._v(e._s(e.$str("unsaved_changes_message","totara_engage")))])])],1)}),[],!1,null,null,null);"function"==typeof A&&A(T),T.options.__hasBlocks={script:!0,template:!0};t.default=T.exports},"1i2V":function(e,t){e.exports=tui.require("tui/components/tabs/Tab")},"1o3J":function(e,t,i){"use strict";i.r(t);var n=i("gMjL");i.d(t,"cardMixin",(function(){return n.default}));var a=i("4oLa");i.d(t,"imageMixin",(function(){return a.default}));var r=i("hNvV");i.d(t,"AccessManager",(function(){return r.default}));var s=i("opHR");i.d(t,"AnswerType",(function(){return s.default}));var o=i("xa9Y");i.d(t,"TimeViewType",(function(){return o.default}));var l=i("UZO1");i.d(t,"UrlSourceType",(function(){return l.default}));var c=i("Ld83");i.d(t,"engageGrid",(function(){return c.engageGrid})),i.d(t,"calculateRow",(function(){return c.calculateRow}))},"1rLN":function(e,t,i){"use strict";var n=i("TVsZ");i.n(n).a},"1uHf":function(e,t,i){"use strict";var n=i("FNMz");i.n(n).a},"1ySY":function(e,t,i){"use strict";i.r(t);var n=i("NAOU"),a=i.n(n),r=i("D9If"),s=i.n(r),o={components:{Grid:a.a,GridItem:s.a},props:{maxPageUnits:{type:[Number,String]},contentUnits:{type:[Number,String],required:!0},sidePanelUnits:{type:[Number,String],required:!0}}},l=i("KHd+"),c=Object(l.a)(o,(function(){var e=this.$createElement,t=this._self._c||e;return t("Grid",{attrs:{"max-units":String(this.maxPageUnits)}},[t("GridItem",{attrs:{units:parseInt(this.contentUnits)}},[this._t("content")],2),this._v(" "),t("GridItem",{attrs:{units:this.sidePanelUnits}},[this._t("sidepanel")],2)],1)}),[],!1,null,null,null);c.options.__hasBlocks={script:!0,template:!0};t.default=c.exports},"2icm":function(e,t,i){},"2xW9":function(e,t,i){},"34SQ":function(e,t,i){"use strict";i.r(t);var n=i("VLsa"),a={components:{Star:i.n(n).a},inheritAttrs:!1,model:{prop:"rating",event:"rating-selected"},props:{increment:{type:Number,default:1},rating:{type:Number,default:0},maxRating:{type:Number,default:5},starPoints:{type:Array,default:()=>[]},readOnly:{type:Boolean,default:!0},inline:{type:Boolean,default:!1},rtl:{type:Boolean,default:!1},size:{type:Number,default:15}},data:()=>({fillLevel:[],currentRating:0,selectedRating:0,ratingSelected:!1}),computed:{ratingClasses(){return[{"tui-engageStarRating--rtl":this.rtl,"tui-engageStarRating--inline":this.inline}]},starClasses(){return[{"tui-engageStarRating__star--pointer":!this.readOnly}]},starId(){return this.$id("engageRatingStar")}},watch:{rating(e){this.currentRating=e,this.selectedRating=e,this.createStars()}},created(){this.currentRating=this.rating,this.selectedRating=this.currentRating,this.createStars()},methods:{setRating(e,t){if(!this.readOnly){if(e.position){const t=this.rtl?(100-e.position)/100:e.position/100;this.currentRating=Math.min(this.maxRating,Number(e.index+t-1).toFixed(2))}else this.currentRating=Math.min(this.maxRating,e.index);t?(this.selectedRating=this.currentRating,this.$emit("rating-selected",this.selectedRating),this.ratingSelected=!0):this.$emit("current-rating",this.currentRating),this.createStars()}},resetRating(){this.readOnly||(this.currentRating=this.selectedRating,this.createStars())},createStars(){this.round();for(let e=0;e<this.maxRating;e++){let t=0;e<this.currentRating&&(t=this.currentRating-e>1?100:100*(this.currentRating-e)),this.$set(this.fillLevel,e,Math.round(t))}},round(){const e=1/this.increment;this.currentRating=Math.min(this.maxRating,Math.ceil(this.currentRating*e)/e)}}},r=(i("mJiS"),i("KHd+")),s=function(e){e.options.__langStrings={totara_engage:["ratingsforscreenreader"]}},o=Object(r.a)(a,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tui-engageStarRating",class:e.ratingClasses,on:{mouseleave:e.resetRating}},[e._l(e.maxRating,(function(t){return[i("Star",{key:t,staticClass:"tui-engageStarRating__star",class:e.starClasses,attrs:{fill:e.fillLevel[t-1],"star-points":e.starPoints,"star-index":t,rtl:e.rtl,size:e.size,"read-only":e.readOnly},on:{"star-selected":function(t){return e.setRating(t,!0)},"star-mouse-move":e.setRating}})]})),e._v(" "),i("span",{staticClass:"tui-engageStarRating__srOnly"},[e._v(e._s(e.$str("ratingsforscreenreader","totara_engage",e.rating)))])],2)}),[],!1,null,null,null);"function"==typeof s&&s(o),o.options.__hasBlocks={script:!0,template:!0};t.default=o.exports},"3ERu":function(e,t,i){"use strict";var n=i("X2d+");i.n(n).a},"3JY2":function(e,t,i){"use strict";var n=i("ZuWw");i.n(n).a},"3Jh+":function(e,t){e.exports=tui.require("totara_engage/components/form/access/RecipientsSelector")},"3RBF":function(e,t,i){"use strict";var n=i("nVjy");i.n(n).a},"3ReM":function(e,t,i){},"3Rq4":function(e,t,i){"use strict";var n=i("2icm");i.n(n).a},"3XoF":function(e,t){e.exports=tui.require("tui/components/icons/BookmarkActive")},"48AS":function(e,t,i){"use strict";var n=i("e8t2");i.n(n).a},"49h4":function(e,t){e.exports=tui.require("tui/components/filters/SelectFilter")},"4Jia":function(e,t){e.exports=tui.require("tui/components/icons/Tags")},"4Lp8":function(e,t){e.exports=tui.require("totara_engage/mixins/container_mixin")},"4c/E":function(e,t,i){},"4ky8":function(e,t){e.exports=tui.require("totara_engage/components/card/compute/EngageCard")},"4lk8":function(e,t,i){},"4oLa":function(e,t,i){"use strict";i.r(t),t.default={props:{instanceId:{required:!0,type:[String,Number]},image:{type:String},name:{type:String}}}},"4zQ+":function(e,t){e.exports=tui.require("totara_engage/components/icons/access/Private")},"59Wj":function(e,t){e.exports=tui.require("tui/components/filters/FilterBar")},"5BVH":function(e,t,i){"use strict";var n=i("7PwN");i.n(n).a},"5BiX":function(e,t,i){"use strict";i.r(t);var n=i("W/79"),a=i.n(n),r=i("5h9J"),s=i.n(r),o=i("fPwS"),l=i.n(o),c=i("vyVp"),d={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"totara_engage_unshare"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"item_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"component"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"recipient_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"result"},name:{kind:"Name",value:"totara_engage_unshare"},arguments:[{kind:"Argument",name:{kind:"Name",value:"item_id"},value:{kind:"Variable",name:{kind:"Name",value:"item_id"}}},{kind:"Argument",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"component"}}},{kind:"Argument",name:{kind:"Name",value:"recipient_id"},value:{kind:"Variable",name:{kind:"Name",value:"recipient_id"}}}],directives:[]}]}}]},u={components:{ButtonIcon:s.a,Loading:l.a,Remove:a.a},props:{instanceId:{type:Number,required:!0},component:{type:String,required:!0},sharer:{type:Object,default:()=>({}),validator:e=>["fullname","url"].every(t=>t in e)},area:{type:String,required:!0},recipientId:{type:Number,required:!0},showButton:{type:Boolean,required:!0},name:{type:String,required:!0}},data:()=>({loading:!1}),methods:{async unshare(){this.loading||(this.loading=!0);let e=["totara_engage_contribution_cards"],t=this.$str("removefromsharedlibrary","totara_engage",this.name);"user"!==this.area&&(e=["container_workspace_contribution_cards","container_workspace_shared_cards"],t=this.$str("removefromyourworkspace","totara_engage",this.name));try{let{data:{result:i}}=await this.$apollo.mutate({mutation:d,refetchQueries:e,variables:{recipient_id:this.recipientId,component:this.component,item_id:this.instanceId}});i&&await Object(c.notify)({message:t,type:"success"})}finally{this.loading=!1}}}},m=(i("RAlx"),i("KHd+")),p=function(e){e.options.__langStrings={core:["from"],totara_engage:["removefromlibary","removefromsharedlibrary","removefromsharedwithyou","removefromyourworkspace"]}},g=Object(m.a)(u,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.sharer,expression:"sharer"}],staticClass:"tui-cardSharedByFootnote"},[i("div",{staticClass:"tui-cardSharedByFootnote__sharer"},[i("span",{staticClass:"tui-cardSharedByFootnote__text"},[e._v("\n      "+e._s(e.$str("from","core"))+"\n    ")]),e._v(" "),i("a",{staticClass:"tui-cardSharedByFootnote__url",attrs:{href:e.sharer.url}},[e._v("\n      "+e._s(e.sharer.fullname)+"\n    ")])]),e._v(" "),e.showButton?i("ButtonIcon",{staticClass:"tui-cardSharedByFootnote__deleteButton",attrs:{"aria-label":e.$str("user"===e.area?"removefromsharedwithyou":"removefromlibary","totara_engage"),styleclass:{small:!0,transparentNoPadding:!0,alert:!0},disabled:e.loading},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.unshare(t)}}},[e.loading?i("Loading"):i("Remove",{attrs:{size:300,state:"alert"}})],1):e._e()],1)}),[],!1,null,null,null);"function"==typeof p&&p(g),g.options.__hasBlocks={script:!0,template:!0};t.default=g.exports},"5W67":function(e,t,i){"use strict";i.r(t);var n={props:{message:{type:String,default(){return this.$str("resource_unavailable","totara_engage")}}}},a=(i("5BVH"),i("KHd+")),r=function(e){e.options.__langStrings={totara_engage:["resource_unavailable"]}},s=Object(a.a)(n,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tui-engageUnavailableResource"},[t("p",{staticClass:"tui-engageUnavailableResource__text"},[this._v(this._s(this.message))])])}),[],!1,null,null,null);"function"==typeof r&&r(s),s.options.__hasBlocks={script:!0,template:!0};t.default=s.exports},"5h9J":function(e,t){e.exports=tui.require("tui/components/buttons/ButtonIcon")},"5qAA":function(e,t){e.exports=tui.require("tui/components/datatable/HeaderCell")},"63ZS":function(e,t,i){},"67Ea":function(e,t,i){"use strict";i.r(t);var n=i("avcD"),a=i.n(n),r={functional:!0,components:{AccessPublic:a.a},props:{alt:String,size:[String,Number],title:String,coloring:{type:Boolean,default:!0}},render(e,{props:t}){let i=[];i.push("tui-engageIconPublic"),t.coloring&&i.push("tui-engageIconPublic--color");let n={alt:t.alt,customClass:i,size:t.size,title:t.title};return e(a.a,{props:n})}},s=(i("48AS"),i("KHd+")),o=Object(s.a)(r,void 0,void 0,!1,null,null,null);o.options.__hasBlocks={script:!0,template:!1};t.default=o.exports},"6B61":function(e,t,i){"use strict";i.r(t);var n=i("tkAW"),a=i.n(n),r=i("Xi9X"),s=i.n(r),o=i("zKrm"),l=i.n(o),c=i("fPwS"),d=i.n(c),u={components:{Avatar:s.a,Modal:a.a,CloseButton:l.a,Loading:d.a},props:{title:{type:String,required:!0},allLoaded:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},profiles:{default:()=>[{name:"",src:""}],type:Array,required:!0}},data:()=>({watching:!1}),watch:{allLoaded(){this.detectLoad()}},mounted(){this.detectLoad()},methods:{triggerLoad(){if(!this.$refs.loadMore)return;const e=this.$refs.watchTarget.scrollHeight-this.$refs.watchTarget.clientHeight-2*this.$refs.loadMore.clientHeight;this.$refs.watchTarget.scrollTop>e&&(this.$emit("load-more"),this.$refs.watchTarget.removeEventListener("scroll",this.triggerLoad),setTimeout(()=>{this.allLoaded||this.$refs.watchTarget.addEventListener("scroll",this.triggerLoad)},1e3))},detectLoad(){this.$refs.loadMore?this.$refs.watchTarget.addEventListener("scroll",this.triggerLoad):(this.watching=!1,this.$refs.watchTarget.removeEventListener("scroll",this.triggerLoad))},profileUrl(e){return this.$url("/user/profile.php",{id:e})}}},m=(i("1uHf"),i("KHd+")),p=function(e){e.options.__langStrings={core:["loading"]}},g=Object(m.a)(u,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("Modal",{attrs:{size:"small","aria-labelledby":e.$id("title")}},[i("h2",{staticClass:"tui-engageArticleNameListModal__title",attrs:{id:e.$id("title")}},[e._v("\n    "+e._s(e.title)+"\n  ")]),e._v(" "),i("CloseButton",{staticClass:"tui-engageArticleNameListModal__close",attrs:{size:300},on:{click:function(t){return e.$emit("dismiss")}}}),e._v(" "),i("div",{ref:"watchTarget",staticClass:"tui-engageArticleNameListModal__content"},[e.loading?i("Loading"):i("ul",{staticClass:"tui-engageArticleNameListModal__content-list"},e._l(e.profiles,(function(t){return i("li",{key:t.id},[i("Avatar",{attrs:{src:t.src,alt:"",size:"xsmall"}}),e._v(" "),i("a",{attrs:{href:e.profileUrl(t.id)}},[e._v("\n          "+e._s(t.name)+"\n        ")])],1)})),0),e._v(" "),e.allLoaded?e._e():i("div",{ref:"loadMore",staticClass:"tui-engageArticleNameListModal__content-loadmore"},[i("Loading"),e._v("\n      "+e._s(e.$str("loading","core"))+"\n    ")],1)],1)],1)}),[],!1,null,null,null);"function"==typeof p&&p(g),g.options.__hasBlocks={script:!0,template:!0};t.default=g.exports},"6Klb":function(e,t,i){},"6R+H":function(e,t,i){"use strict";var n=i("j2cw");i.n(n).a},"6ZOV":function(e,t,i){var n={".":"1o3J","./":"1o3J","./access_manager":"hNvV","./access_manager.js":"hNvV","./answer_type":"opHR","./answer_type.js":"opHR","./grid":"Ld83","./grid.js":"Ld83","./index":"1o3J","./index.js":"1o3J","./mixins/adder_mixin":"HVi7","./mixins/adder_mixin.js":"HVi7","./mixins/card_mixin":"gMjL","./mixins/card_mixin.js":"gMjL","./mixins/container_mixin":"dEMw","./mixins/container_mixin.js":"dEMw","./mixins/contribution_mixin":"DXDu","./mixins/contribution_mixin.js":"DXDu","./mixins/image_mixin":"4oLa","./mixins/image_mixin.js":"4oLa","./mixins/library_mixin":"STea","./mixins/library_mixin.js":"STea","./mixins/navigation_mixin":"+AKK","./mixins/navigation_mixin.js":"+AKK","./mixins/other_contribution_mixin":"01S2","./mixins/other_contribution_mixin.js":"01S2","./mixins/recipient_mixin":"wqj1","./mixins/recipient_mixin.js":"wqj1","./time_view_type":"xa9Y","./time_view_type.js":"xa9Y","./url_source_type":"UZO1","./url_source_type.js":"UZO1"};function a(e){var t=r(e);return i(t)}function r(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id="6ZOV"},"6sqB":function(e,t,i){"use strict";i.r(t);var n=i("4zQ+"),a=i.n(n),r=i("GMWg"),s=i.n(r),o=i("FAKS"),l=i.n(o),c=i("tyu8"),d={components:{PrivateIcon:a.a,PublicIcon:s.a,RestrictedIcon:l.a},props:{alt:String,customClass:[String,Object,Array],size:[String,Number],title:String,coloring:{type:Boolean,default:!0},access:{required:!0,type:String,validator:e=>c.AccessManager.isValid(e.toUpperCase())}},computed:{innerDefaultStr(){let e=this.access.toLowerCase();return this.$str(e,"totara_engage")},innerTitle(){return this.title?this.title:this.innerDefaultStr},innerAlt(){return this.alt?this.alt:this.innerDefaultStr},icon(){let e=this.access.toUpperCase();return c.AccessManager.isPublic(e)?"PublicIcon":c.AccessManager.isRestricted(e)?"RestrictedIcon":"PrivateIcon"}}},u=i("KHd+"),m=function(e){e.options.__langStrings={totara_engage:["public","private","restricted"]}},p=Object(u.a)(d,(function(){var e=this.$createElement;return(this._self._c||e)(this.icon,{tag:"component",class:this.customClass,attrs:{coloring:this.coloring,alt:this.alt,size:this.size,title:this.title}})}),[],!1,null,null,null);"function"==typeof m&&m(p),p.options.__hasBlocks={script:!0,template:!0};t.default=p.exports},"7PwN":function(e,t,i){},"7wUB":function(e,t){e.exports=tui.require("totara_engage/components/contribution/CardsGrid")},"8PdP":function(e,t,i){"use strict";var n=i("63ZS");i.n(n).a},"8Svf":function(e,t,i){"use strict";i.r(t);var n=i("fPwS"),a={components:{Loading:i.n(n).a},props:{total:{type:Number,required:!0},names:{type:Array,required:!0},loading:{type:Boolean,default:!1},noItems:{type:String,required:!0}}},r=(i("/vW5"),i("KHd+")),s=function(e){e.options.__langStrings={totara_engage:["numberofmore"]}},o=Object(r.a)(a,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tui-engageSidepanelLazylist"},[0===e.total?[e._v("\n    "+e._s(e.noItems)+"\n  ")]:e.loading?i("Loading"):[i("ul",{staticClass:"tui-engageSidepanelLazylist__list"},e._l(e.names.slice(0,9),(function(t){return i("li",{key:t},[e._v("\n        "+e._s(t)+"\n      ")])})),0),e._v(" "),e.total>10?i("p",[e._v("\n      "+e._s(e.$str("numberofmore","totara_engage",e.total-10))+"\n    ")]):e._e()]],2)}),[],!1,null,null,null);"function"==typeof s&&s(o),o.options.__hasBlocks={script:!0,template:!0};t.default=o.exports},"99/I":function(e,t){e.exports=tui.require("tui/components/icons/AccessRestricted")},A7nm:function(e,t,i){"use strict";i.r(t);var n=i("s5vj"),a=i.n(n),r=i("Uhf3"),s=i.n(r),o=i("tyu8"),l=i("pxdy"),c=i.n(l),d=i("zEvk"),u=i.n(d),m={components:{ContributionBaseContent:a.a,ContributionFilter:s.a},mixins:[c.a,u.a],props:{pageProps:{type:Object,validator:function(e){return e.filters instanceof Object}}},computed:{filterChange(){const{access:e,type:t,topic:i,sort:n}=this.filterValue;return null!==e||null!==t||null!==i||1!==n}},created(){this.contributionComponent="totara_engage",this.contributionArea="owned",this.contributionSource=o.UrlSourceType.libraryYourResources()}},p=i("KHd+"),g=function(e){e.options.__langStrings={totara_engage:["yourresources"]}},h=Object(p.a)(m,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tui-contributionYourResources"},[i("ContributionBaseContent",{attrs:{units:e.units,loading:e.$apollo.loading,"loading-more":e.loadingMore,cards:e.contribution.cards,"total-cards":e.contribution.cursor.total,"show-heading":"vertical"!==e.gridDirection,"grid-direction":e.gridDirection,"is-load-more-visible":e.isLoadMoreVisible,"show-empty-content":e.filterChange},on:{"scrolled-to-bottom":e.scrolledToBottom,"load-more":e.loadMore},scopedSlots:e._u([{key:"heading",fn:function(){return[e._v("\n      "+e._s(e.$str("yourresources","totara_engage"))+"\n    ")]},proxy:!0},{key:"filters",fn:function(){return[i("ContributionFilter",{attrs:{component:"totara_engage",area:"owned","has-bottom-bar":!0,"has-top-bar":!0,value:e.filterValue,"show-access":!0,"show-type":!0,"show-topic":!0,"initial-filters":e.pageProps.filters},on:{access:e.filterAccess,type:e.filterType,topic:e.filterTopic,sort:e.filterSort}})]},proxy:!0}])})],1)}),[],!1,null,null,null);"function"==typeof g&&g(h),h.options.__hasBlocks={script:!0,template:!0};t.default=h.exports},Aros:function(e,t){e.exports=tui.require("tui/components/tag/TagList")},Axb5:function(e,t,i){"use strict";i.r(t);var n=i("J+G9"),a=i.n(n),r=i("ULOL"),s=i.n(r),o=i("Mnur"),l=i.n(o),c=i("tyu8"),d=i("LJiL"),u=i.n(d),m={components:{AccessModal:a.a,EngagePrivacyWarningModal:s.a,ModalPresenter:l.a,AccessDisplay:u.a},props:{submitting:{type:Boolean,default:!1},itemId:{type:[Number,String],required:!0},component:{type:String,required:!0},accessValue:{type:String,required:!0,validator:e=>c.AccessManager.isValid(e)},topics:{type:Array,default:()=>[]},shares:{type:Array,default:()=>[]},openAccessModal:Boolean,openWarningModal:Boolean,selectedTimeView:{type:String,default:null},enableTimeView:{type:Boolean,default:!1},hasNonPublicResources:Boolean},data(){return{showAccessModal:this.openAccessModal,showWarningModal:this.openWarningModal,privacyWarningEvent:null,privacyWarningMessage:null}},computed:{selectedOptions(){return{shares:this.shares,topics:this.topics}},restrictedDisabled(){return c.AccessManager.isPublic(this.accessValue)},privateDisabled(){return c.AccessManager.isPublic(this.accessValue)||c.AccessManager.isRestricted(this.accessValue)},isPrivate(){return c.AccessManager.isPrivate(this.accessValue)},isRestricted(){return c.AccessManager.isRestricted(this.accessValue)}},watch:{showAccessModal(e){e||this.$emit("close-modal")},openAccessModal(e){this.showAccessModal=e},showWarningModal(e){e||this.$emit("close-modal")},openWarningModal(e){this.showWarningModal=e}},methods:{submit({access:e,topics:t,shares:i,timeView:n}){this.showAccessModal=!1,this.showWarningModal=!1,this.$emit("access-update",{access:e,topics:t,shares:i,timeView:n})},warnPrivateToRestrictedOrPublic(e){this.showAccessModal=!1,this.privacyWarningMessage=this.$str("privacychangeprivatetorestrictedorpublic","totara_playlist"),this.privacyWarningEvent=e,this.showWarningModal=!0},warnRestrictedToPublic(e){this.showAccessModal=!1,this.privacyWarningMessage=this.$str("privacychangerestrictedtopublic","totara_playlist"),this.privacyWarningEvent=e,this.showWarningModal=!0},cancelPrivacyChange(){this.showWarningModal=!1,this.showAccessModal=!0}}},p=i("KHd+"),g=function(e){e.options.__langStrings={totara_playlist:["privacywarningtitle","privacychangeprivatetorestrictedorpublic","privacychangerestrictedtopublic"]}},h=Object(p.a)(m,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tui-accessSetting"},[i("ModalPresenter",{attrs:{open:e.showAccessModal},on:{"request-close":function(t){e.showAccessModal=!1}}},[i("AccessModal",{attrs:{"item-id":e.itemId,component:e.component,"selected-access":e.accessValue,"selected-options":e.selectedOptions,"restricted-disabled":e.restrictedDisabled,"private-disabled":e.privateDisabled,"selected-time-view":e.selectedTimeView,"enable-time-view":e.enableTimeView,submitting:e.submitting,"has-non-public-resources":e.hasNonPublicResources,"is-private":e.isPrivate,"is-restricted":e.isRestricted},on:{done:e.submit,"warning-privatetorestrictedorpublic":e.warnPrivateToRestrictedOrPublic,"warning-restrictedtopublic":e.warnRestrictedToPublic}})],1),e._v(" "),i("ModalPresenter",{attrs:{open:e.showWarningModal},on:{"request-close":function(t){e.showWarningModal=!1}}},[i("EngagePrivacyWarningModal",{attrs:{title:e.$str("privacywarningtitle","totara_playlist"),"message-content":e.privacyWarningMessage,"privacy-warning":e.privacyWarningEvent},on:{cancel:e.cancelPrivacyChange,confirm:function(t){return e.submit(e.privacyWarningEvent)}}})],1),e._v(" "),i("AccessDisplay",{attrs:{slot:"content","access-value":e.accessValue,topics:e.topics,"time-view":e.selectedTimeView},on:{"request-open":function(t){e.showAccessModal=!0}},slot:"content"})],1)}),[],!1,null,null,null);"function"==typeof g&&g(h),h.options.__hasBlocks={script:!0,template:!0};t.default=h.exports},BN8m:function(e,t){e.exports=tui.require("tui/components/buttons/ButtonGroup")},BaY1:function(e,t){e.exports=tui.require("tui/components/sidepanel/SidePanel")},"C+/B":function(e,t){e.exports=tui.require("tui/components/modal/ConfirmationModal")},CBaH:function(e,t,i){},Cp3u:function(e,t,i){},CuHa:function(e,t){e.exports=tui.require("totara_engage/components/table/AdderBrowseAllTable")},D9If:function(e,t){e.exports=tui.require("tui/components/grid/GridItem")},DW3S:function(e,t){e.exports=tui.require("totara_engage/components/sidepanel/NavigationPanel")},DXDu:function(e,t,i){"use strict";i.r(t);var n=i("12HA"),a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_engage_contribution_cards"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"component"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"area"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_area"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"page"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"access"}},type:{kind:"NamedType",name:{kind:"Name",value:"totara_engage_access"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"type"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"topic"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sort"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"section"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"include_footnotes"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"footnotes_type"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"footnotes_item_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"footnotes_area"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_area"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"footnotes_component"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"source"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"image_preview_mode"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"theme"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"contribution"},name:{kind:"Name",value:"totara_engage_contributions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"component"}}},{kind:"Argument",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"area"}}},{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"page"},value:{kind:"Variable",name:{kind:"Name",value:"page"}}},{kind:"ObjectField",name:{kind:"Name",value:"access"},value:{kind:"Variable",name:{kind:"Name",value:"access"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"type"}}},{kind:"ObjectField",name:{kind:"Name",value:"topic"},value:{kind:"Variable",name:{kind:"Name",value:"topic"}}},{kind:"ObjectField",name:{kind:"Name",value:"sort"},value:{kind:"Variable",name:{kind:"Name",value:"sort"}}},{kind:"ObjectField",name:{kind:"Name",value:"search"},value:{kind:"Variable",name:{kind:"Name",value:"search"}}},{kind:"ObjectField",name:{kind:"Name",value:"section"},value:{kind:"Variable",name:{kind:"Name",value:"section"}}}]}},{kind:"Argument",name:{kind:"Name",value:"footnotes"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_type"}}},{kind:"ObjectField",name:{kind:"Name",value:"item_id"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_item_id"}}},{kind:"ObjectField",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_area"}}},{kind:"ObjectField",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_component"}}}]}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"next"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"instanceid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"summary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tuicomponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imagetuicomponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[{kind:"Argument",name:{kind:"Name",value:"theme"},value:{kind:"Variable",name:{kind:"Name",value:"theme"}}},{kind:"Argument",name:{kind:"Name",value:"preview_mode"},value:{kind:"Variable",name:{kind:"Name",value:"image_preview_mode"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timecreated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sharedbycount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bookmarked"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"extra"},arguments:[{kind:"Argument",name:{kind:"Name",value:"theme"},value:{kind:"Variable",name:{kind:"Name",value:"theme"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"owned"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"footnotes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_type"}}},{kind:"Argument",name:{kind:"Name",value:"item_id"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_item_id"}}},{kind:"Argument",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_area"}}},{kind:"Argument",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_component"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"include_footnotes"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tuicomponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"props"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[{kind:"Argument",name:{kind:"Name",value:"source"},value:{kind:"Variable",name:{kind:"Name",value:"source"}}},{kind:"Argument",name:{kind:"Name",value:"search"},value:{kind:"Variable",name:{kind:"Name",value:"search"}}}],directives:[]}]}}]}}]}}]};t.default={props:{units:{type:Number,required:!0},gridDirection:{type:String,required:!0}},data:()=>({skipCardsQuery:!0,isLoadMoreVisible:!1,contributionComponent:"",contributionArea:"",contributionSource:"",filterValue:{access:null,type:null,topic:null,sort:1,section:null,search:null},includeFootnotes:!1,footnotes:{footnotes_type:null,footnotes_item_id:null,footnotes_area:null,footnotes_component:null},contribution:{cursor:{total:0,next:null},cards:[]},loadingMore:!1}),apollo:{contribution:{query:a,fetchPolicy:"network-only",loadingKey:"loading",variables(){return Object.assign({},this.filterValue,{component:this.contributionComponent,area:this.contributionArea,include_footnotes:this.includeFootnotes,source:this.contributionSource,theme:n.config.theme.name},this.footnotes)},skip(){return this.skipCardsQuery}}},created(){this.skipCardsQuery=!1},methods:{filterAccess({value:e}){this.filterValue.access=e},filterTopic({value:e}){this.filterValue.topic=e},filterType({value:e}){this.filterValue.type=e},filterSort({value:e}){this.filterValue.sort=e},filterSection({value:e}){this.filterValue.section=e},filterSearch({value:e}){this.filterValue.search=e},async scrolledToBottom(){this.isLoadMoreVisible||(await this.loadMoreItems(),this.isLoadMoreVisible=!0)},async loadMore(){await this.loadMoreItems(),this.isLoadMoreVisible=!1},async loadMoreItems(){this.contribution.cursor.next&&(this.loadingMore=!0,this.$apollo.queries.contribution.fetchMore({variables:Object.assign({},this.filterValue,{include_footnotes:this.includeFootnotes,cursor:this.contribution.cursor.next},this.footnotes),updateQuery:(e,{fetchMoreResult:t})=>{const i=e.contribution,n=t.contribution,a=i.cards.concat(n.cards);return this.loadingMore=!1,{contribution:{cursor:n.cursor,cards:a}}}}))}}}},"E/kv":function(e,t,i){"use strict";var n=i("4c/E");i.n(n).a},"EA/2":function(e,t,i){"use strict";var n=i("XHhP");i.n(n).a},"Ebz+":function(e,t,i){},"F+j4":function(e,t,i){"use strict";i.r(t);var n=i("H/tB"),a=i.n(n);const r=Object.prototype.hasOwnProperty,s={};var o={props:{cardAttribute:{type:Object,required:!0,validator:e=>"imagetuicomponent"in e&&"component"in e}},data:()=>({loaded:!1}),computed:{propAttributes(){const e=Object.assign({},this.cardAttribute);return{key:`${e.component}-${e.instanceid}`,instanceId:e.instanceid||0,name:e.name,image:e.image}},component(){return this.cardAttribute.component}},watch:{cardAttribute:{deep:!0,immediate:!0,handler(e){this.loaded=!1,new Promise(t=>{const{component:i,imagetuicomponent:n}=e;r.call(s,i)||(s[i]=a.a.asyncComponent(n)),this.$options.components[i]=s[i],t("done")}).then(()=>{this.loaded=!0})}}}},l=i("KHd+"),c=Object(l.a)(o,(function(){var e=this.$createElement,t=this._self._c||e;return this.loaded?t(this.component,this._b({tag:"component"},"component",this.propAttributes,!1)):this._e()}),[],!1,null,null,null);c.options.__hasBlocks={script:!0,template:!0};t.default=c.exports},FAKS:function(e,t){e.exports=tui.require("totara_engage/components/icons/access/Restricted")},FBvN:function(e,t){e.exports=tui.require("tui/components/filters/SearchFilter")},FF5y:function(e,t,i){"use strict";i.r(t);var n=i("tkAW"),a=i.n(n),r=i("u5iS"),s=i.n(r),o=i("lLj0"),l=i.n(o),c=i("BN8m"),d=i.n(c),u=i("vF5l"),m=i.n(u),p={components:{Modal:a.a,ModalContent:s.a,Warning:l.a,ButtonGroup:d.a,Button:m.a},props:{closeButton:{type:Boolean,default:!0},open:{type:Boolean},size:{type:String,default:"normal"},title:{type:String,default:""},messageContent:{type:String,required:!0}},data(){return{dismissable:{overlayClose:!1,esc:!0,backdropClick:!1},id:this.$id(this.title)}}},g=(i("t/Jz"),i("KHd+")),h=function(e){e.options.__langStrings={moodle:["continue","cancel"]}},v=Object(g.a)(p,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("Modal",{staticClass:"tui-engageWarningModal",attrs:{dismissable:e.dismissable,"aria-labelledby":e.$id("title")}},[i("ModalContent",{attrs:{"close-button":e.closeButton,"title-id":e.$id("title"),"title-visible":!1},on:{dismiss:function(t){return e.$emit("cancel")}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("\n      "+e._s(e.title)+"\n    ")]},proxy:!0},{key:"buttons",fn:function(){return[i("ButtonGroup",[i("Button",{attrs:{styleclass:{primary:!0,small:!0},text:e.$str("continue","moodle")},on:{click:function(t){return e.$emit("confirm")}}}),e._v(" "),i("Button",{attrs:{styleclass:{small:!0},text:e.$str("cancel","moodle")},on:{click:function(t){return e.$emit("cancel")}}})],1)]},proxy:!0}])},[e._v(" "),i("div",{staticClass:"tui-engageWarningModal__container"},[i("div",{staticClass:"tui-engageWarningModal__icon"},[i("warning",{attrs:{size:"700","custom-class":"tui-icon--warning"}})],1),e._v(" "),i("div",{staticClass:"tui-engageWarningModal__box"},[i("p",{directives:[{name:"show",rawName:"v-show",value:e.title,expression:"title"}],staticClass:"tui-engageWarningModal__title"},[e._v("\n          "+e._s(e.title)+"\n        ")]),e._v(" "),i("p",[e._v("\n          "+e._s(e.messageContent)+"\n        ")])])])])],1)}),[],!1,null,null,null);"function"==typeof h&&h(v),v.options.__hasBlocks={script:!0,template:!0};t.default=v.exports},FHpO:function(e,t,i){"use strict";i.r(t);var n=i("4Jia"),a=i.n(n),r=i("YMfc"),s=i.n(r),o=i("khcT"),l=i.n(o),c=i("tyu8"),d=i("+1Jo"),u=i.n(d),m=i("vF5l"),p=i.n(m),g={components:{AccessIcon:u.a,TagIcon:a.a,TimeIcon:l.a,Tag:s.a,Button:p.a},props:{accessValue:{type:String,required:!0,validator:e=>c.AccessManager.isValid(e)},topics:{type:[Array,Object],default:()=>[],validator(e){e=Array.prototype.slice.call(e);for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&!e[t].value)return!1;return!0}},timeView:{type:String,default:null},showButton:{type:Boolean,default:!0}},computed:{viewLabel(){return c.AccessManager.isPublic(this.accessValue)?this.$str("viewpublic","totara_engage"):c.AccessManager.isRestricted(this.accessValue)?this.$str("viewrestricted","totara_engage"):this.$str("viewprivate","totara_engage")},getTimeView(){return c.TimeViewType.isLessThanFive(this.timeView)?this.$str("timelessthanfive","engage_article"):c.TimeViewType.isFiveToTen(this.timeView)?this.$str("timefivetoten","engage_article"):c.TimeViewType.isMoreThanTen(this.timeView)?this.$str("timemorethanten","engage_article"):null}}},h=(i("yavI"),i("KHd+")),v=function(e){e.options.__langStrings={totara_engage:["viewprivate","viewpublic","viewrestricted","tags","time","share","editsettings"],engage_article:["timelessthanfive","timefivetoten","timemorethanten"]}},f=Object(h.a)(g,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tui-engageAccessDisplay"},[i("div",{staticClass:"tui-engageAccessDisplay__accessIcon"},[i("div",{staticClass:"tui-engageAccessDisplay__accessIcon-icons"},[i("AccessIcon",{attrs:{access:e.accessValue,size:"300"}}),e._v(" "),i("span",[e._v(e._s(e.viewLabel))])],1),e._v(" "),e.showButton?i("div",{staticClass:"tui-engageAccessDisplay__accessIcon-shareButton"},[i("Button",{attrs:{text:e.$str("share","totara_engage"),styleclass:{primary:!0,small:!0}},on:{click:function(t){return e.$emit("request-open")}}})],1):e._e()]),e._v(" "),e.timeView?i("div",{staticClass:"tui-engageAccessDisplay__timeView"},[i("TimeIcon",{attrs:{size:"300",alt:e.$str("time","totara_engage"),"custom-class":"tui-icon--dimmed"}}),e._v("\n    "+e._s(e.getTimeView)+"\n  ")],1):e._e(),e._v(" "),e.topics.length?i("div",{staticClass:"tui-engageAccessDisplay__topics"},[i("TagIcon",{attrs:{size:"300",alt:e.$str("tags","totara_engage"),"custom-class":"tui-icon--dimmed"}}),e._v(" "),e._l(e.topics,(function(t,n){return[i("Tag",{key:n,staticClass:"tui-engageAccessDisplay__topic",attrs:{text:t.value,href:e.$url("/totara/catalog/index.php?"+t.catalog)}})]}))],2):e._e(),e._v(" "),e.showButton?i("div",{staticClass:"tui-engageAccessDisplay__editSettings"},[i("Button",{attrs:{text:e.$str("editsettings","totara_engage"),styleclass:{transparent:!0,small:!0}},on:{click:function(t){return e.$emit("request-open")}}})],1):e._e()])}),[],!1,null,null,null);"function"==typeof v&&v(f),f.options.__hasBlocks={script:!0,template:!0};t.default=f.exports},FNMz:function(e,t,i){},FerE:function(e,t){e.exports=tui.require("totara_engage/mixins/recipient_mixin")},G6cq:function(e,t){e.exports=tui.require("tui/components/form/RadioGroup")},G7Yv:function(e,t){e.exports=tui.require("totara_engage/components/sidepanel/navigation/YourResources")},GCaZ:function(e,t,i){"use strict";i.r(t);var n=i("tkAW"),a=i.n(n),r=i("u5iS"),s=i.n(r),o=i("K59g"),l=i.n(o),c=i("tyu8"),d={components:{Modal:a.a,ModalContent:s.a,AccessForm:l.a},props:{itemId:{type:[Number,String],required:!0},component:{type:String,required:!0},selectedAccess:{type:String,default:c.AccessManager.PRIVATE,validator:e=>c.AccessManager.isValid(e)},selectedOptions:{type:Object,default:()=>({shares:[],topics:[]})},selectedTimeView:{type:String,default:null},enableTimeView:{type:Boolean,default:!1},submitting:{type:Boolean,default:!1},publicDisabled:{type:Boolean,default:!1},restrictedDisabled:{type:Boolean,default:!1},privateDisabled:{type:Boolean,default:!1},showCloseButton:{type:Boolean,default:!1},showBack:{type:Boolean,default:!1},hasNonPublicResources:Boolean,isPrivate:Boolean,isRestricted:Boolean},computed:{done(){return this.isPrivate&&this.hasNonPublicResources?"warning-privatetorestrictedorpublic":this.isRestricted&&this.hasNonPublicResources?"warning-restrictedtopublic":"done"}}},u=(i("uisN"),i("KHd+")),m=function(e){e.options.__langStrings={totara_engage:["accesssettings"]}},p=Object(u.a)(d,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("Modal",{staticClass:"tui-engageAccessModal",attrs:{size:"normal","aria-labelledby":e.$id("title"),dismissable:{backdropClick:!1}}},[i("ModalContent",{staticClass:"tui-engageAccessModal__content",attrs:{title:e.$str("accesssettings","totara_engage"),"title-id":e.$id("title"),"close-button":e.showCloseButton}},[i("AccessForm",{attrs:{"item-id":e.itemId,component:e.component,"show-back":e.showBack,submitting:e.submitting,"selected-access":e.selectedAccess,"selected-options":e.selectedOptions,"public-disabled":e.publicDisabled,"restricted-disabled":e.restrictedDisabled,"private-disabled":e.privateDisabled,"selected-time-view":e.selectedTimeView,"enable-time-view":e.enableTimeView},on:{back:function(t){return e.$emit("back")},done:function(t){return e.$emit(e.done,t)},cancel:function(t){return e.$emit("request-close")}}})],1)],1)}),[],!1,null,null,null);"function"==typeof m&&m(p),p.options.__hasBlocks={script:!0,template:!0};t.default=p.exports},GMWg:function(e,t){e.exports=tui.require("totara_engage/components/icons/access/Public")},Gur8:function(e,t,i){"use strict";t.a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_engage_share_recipients"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"itemid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"component"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"theme"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"recipients"},name:{kind:"Name",value:"totara_engage_share_recipients"},arguments:[{kind:"Argument",name:{kind:"Name",value:"itemid"},value:{kind:"Variable",name:{kind:"Name",value:"itemid"}}},{kind:"Argument",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"component"}}},{kind:"Argument",name:{kind:"Name",value:"theme"},value:{kind:"Variable",name:{kind:"Name",value:"theme"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"area"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instanceid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"other"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"category"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageurl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imagealt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}}]}}]}},"H/tB":function(e,t){e.exports=tui.require("tui/tui")},HGFA:function(e,t){e.exports=tui.require("totara_engage/components/sidepanel/media/Share")},HNJ7:function(e,t,i){"use strict";i.r(t);var n=i("bYkL"),a=i.n(n),r=i("Uhf3"),s=i.n(r),o=i("CuHa"),l=i.n(o),c=i("zdnc"),d=i.n(c),u=i("vtAP"),m=i.n(u),p={components:{Adder:a.a,ContributionFilter:s.a,AdderBrowseAllTable:l.a,AdderSelectedTable:d.a},mixins:[m.a],props:{title:{type:String,required:!0},existingItems:{type:Array,default:()=>[]},open:Boolean,filterValue:{type:Object,default:()=>({topic:null,search:null,section:null})},cards:{type:Array,required:!0},cursor:{type:Object,default:()=>({total:null,next:null})},filterComponent:{type:String,required:!0},filterArea:{type:String,required:!0}},data(){return{cardsSelected:[],isLoadMore:!!this.cursor.next}},watch:{cursor(e){this.isLoadMore=!!e.next}},methods:{selectCard(e,t){t(e),this.cardsSelected=this.cards.filter(t=>e.includes(this.createCardId(t))).map(e=>Object.assign({},e,{id:this.createCardId(e)}))},removeCard(e,t){t(e),this.cardsSelected=this.cardsSelected.filter(t=>e.includes(t.id))}}},g=i("KHd+"),h=Object(g.a)(p,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("Adder",{attrs:{open:e.open,title:e.title,"existing-items":e.existingItems,"show-load-more":e.isLoadMore},on:{"load-more":function(t){return e.$emit("load-more")},added:function(t){return e.$emit("added",t)},cancel:function(t){return e.$emit("cancel")}},scopedSlots:e._u([{key:"browse-filters",fn:function(){return[i("ContributionFilter",{attrs:{component:e.filterComponent,area:e.filterArea,"has-bottom-bar":!0,value:e.filterValue,"show-access":!1,"show-type":!1,"show-topic":!0,"show-sort":!1,"show-search":!0,"show-section":!0},on:{topic:function(t){return e.$emit("topic",t)},search:function(t){return e.$emit("search",t)},section:function(t){return e.$emit("section",t)}}})]},proxy:!0},{key:"browse-list",fn:function(t){var n=t.disabledItems,a=t.selectedItems,r=t.update;return[i("AdderBrowseAllTable",{attrs:{"disabled-items":n,"selected-items":a,cards:e.cards},on:{update:function(t){return e.selectCard(t,r)}}})]}},{key:"basket-list",fn:function(t){var n=t.disabledItems,a=t.selectedItems,r=t.update;return[i("AdderSelectedTable",{attrs:{"disabled-items":n,"selected-items":a,cards:e.cardsSelected},on:{update:function(t){return e.removeCard(t,r)}}})]}}])})}),[],!1,null,null,null);h.options.__hasBlocks={script:!0,template:!0};t.default=h.exports},HSAV:function(e,t){e.exports=tui.require("tui/components/form/SearchBox")},HVi7:function(e,t,i){"use strict";i.r(t),t.default={methods:{createCardId:e=>JSON.stringify({component:e.component,itemid:e.instanceid})}}},IHWR:function(e,t,i){"use strict";var n=i("xxdA");i.n(n).a},IjAb:function(e,t,i){"use strict";i.r(t);var n=i("+MEP"),a=i.n(n),r=i("Xi9X"),s=i.n(r),o=i("e3MU"),l=i.n(o),c=i("JThd"),d=i.n(c),u=i("PRN7"),m=i.n(u),p=i("Aros"),g=i.n(p),h=i("tyu8"),v=i("12HA"),f={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_engage_shareto_recipients"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"itemid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"component"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"access"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"totara_engage_access"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"theme"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"recipients"},name:{kind:"Name",value:"totara_engage_shareto_recipients"},arguments:[{kind:"Argument",name:{kind:"Name",value:"itemid"},value:{kind:"Variable",name:{kind:"Name",value:"itemid"}}},{kind:"Argument",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"component"}}},{kind:"Argument",name:{kind:"Name",value:"search"},value:{kind:"Variable",name:{kind:"Name",value:"search"}}},{kind:"Argument",name:{kind:"Name",value:"access"},value:{kind:"Variable",name:{kind:"Name",value:"access"}}},{kind:"Argument",name:{kind:"Name",value:"theme"},value:{kind:"Variable",name:{kind:"Name",value:"theme"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"area"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instanceid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alreadyshared"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"summary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minimum_access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_display"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"profile_picture_alt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_picture_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"display_fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"associate_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_custom"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"other"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"category"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageurl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imagealt"},arguments:[],directives:[]}]}}]}}]}}]},_=i("t+cO"),k=i("4Lp8"),b=i.n(k),y={components:{Avatar:s.a,InfoIconButton:l.a,Label:m.a,TagList:g.a,CheckSuccess:d.a,MiniProfileCard:a.a},mixins:[b.a],props:{itemId:{type:[Number,String],required:!0},component:{type:String,required:!0},access:{type:String,default:null,validator:e=>h.AccessManager.isValid(e)},owned:{type:Boolean,default:!0}},apollo:{features:{query:_.a},recipients:{query:f,fetchPolicy:"network-only",variables(){return{itemid:this.itemId,component:this.component,search:this.query,access:this.access,theme:v.config.theme.name}},result({data:{recipients:e}}){let t=[];t=e.map(e=>Object.assign({},e,{id:e.component+"/"+e.area+"/"+e.instanceid})),t=t.filter(e=>"user"!==e.area||e.user.card_display.display_fields.some(e=>null!=e.value)),this.recipients=t}}},data:()=>({query:"",recipients:[],publicTags:[],restrictedTags:[],features:{}}),computed:{tags(){return this.accessPublic?this.publicTags:this.restrictedTags},items(){return this.recipients.filter(e=>!this.tags.some(t=>e.id===t.id))},containerRecipient(){return!(!this.container||!this.container.autoShareRecipient)&&{instanceid:this.containerValues.instanceId,component:this.containerValues.component,area:this.containerValues.area,minimum_access:this.containerValues.access,other:{fullname:this.containerValues.name}}},generatedId(){return this.$id()},featureWorkspaces(){return this.features&&this.features.workspaces},shareLabel(){const e=this.featureWorkspaces?["resharetorecipientsworkspaces","sharetorecipientsworkspaces","sharetorecipientsoptionalworkspaces"]:["resharetorecipients","sharetorecipients","sharetorecipientsoptional"];return this.owned?this.$str(this.accessRestricted?e[1]:e[2],"totara_engage"):this.$str(e[0],"totara_engage")},shareHelpInfo(){return this.$str(this.featureWorkspaces?"sharehelpinfoworkspaces":"sharehelpinfo","totara_engage")},accessPublic(){return h.AccessManager.isPublic(this.access)},accessRestricted(){return h.AccessManager.isRestricted(this.access)}},mounted(){this.containerRecipient&&this.select(this.containerRecipient)},methods:{find(e){""!==e?(this.query=e,this.skip=!1,this.$apollo.queries.recipients.refetch()):this.query=e},select(e){if(e.alreadyshared)return;const t=this.createTag(e);this.publicTags.push(t),h.AccessManager.isRestricted(e.minimum_access)&&this.restrictedTags.push(t),this.$emit("pick-recipient",e),this.query=""},remove(e){this.publicTags=this.publicTags.filter(t=>t!==e),h.AccessManager.isRestricted(e.minimum_access)&&(this.restrictedTags=this.restrictedTags.filter(t=>t!==e)),this.$emit("remove-recipient",e)},getRecipientDetails(e,t){switch(t){case"alreadyshared":return e.alreadyshared;case"summary":return e.summary}if("user"===e.area){return(e.user.card_display.display_fields.find(e=>"Full name"===e.label)||e.user.card_display.display_fields[0]).value}switch(t){case"src":return e.other.imageurl||"";case"alt":return e.other.imagealt||"";case"fullname":return e.other.fullname}},createTag(e){return{text:this.getRecipientDetails(e,"fullname"),id:e.component+"/"+e.area+"/"+e.instanceid,instanceid:e.instanceid,area:e.area,component:e.component,minimum_access:e.minimum_access}}}},S=(i("3Rq4"),i("KHd+")),N=function(e){e.options.__langStrings={totara_engage:["alreadyshared","resharetorecipients","resharetorecipientsworkspaces","sharehelpinfo","sharehelpinfoworkspaces","sharetorecipients","sharetorecipientsworkspaces","sharetorecipientsoptional","sharetorecipientsoptionalworkspaces"]}},C=Object(S.a)(y,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tui-engageSharedRecipientsSelector"},[i("Label",{staticClass:"tui-engageSharedRecipientsSelector__label",attrs:{label:e.shareLabel,"for-id":e.generatedId}}),e._v(" "),i("InfoIconButton",{staticClass:"tui-engageSharedRecipientsSelector__icon",attrs:{"is-help-for":e.shareLabel}},[e._v("\n    "+e._s(e.shareHelpInfo)+"\n  ")]),e._v(" "),i("TagList",{attrs:{id:e.generatedId,filter:e.query,items:e.items,tags:e.tags,separator:!0},on:{filter:e.find,select:e.select,remove:e.remove},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[n.user?i("div",{staticClass:"tui-engageSharedRecipientsSelector__profileContainer"},[i("MiniProfileCard",{attrs:{"no-border":!0,"no-padding":!0,"read-only":!0,display:n.user.card_display}}),e._v(" "),e.getRecipientDetails(n,"alreadyshared")?i("div",{staticClass:"tui-engageSharedRecipientsSelector__profileContainer-badge"},[i("CheckSuccess"),e._v(" "),i("span",[e._v(e._s(e.$str("alreadyshared","totara_engage")))])],1):e._e()],1):i("div",{staticClass:"tui-engageSharedRecipientsSelector__recipient"},[i("Avatar",{attrs:{src:e.getRecipientDetails(n,"src"),alt:e.getRecipientDetails(n,"fullname"),size:"xsmall"}}),e._v(" "),i("ul",{staticClass:"tui-engageSharedRecipientsSelector__recipient-summary"},[i("li",[e._v(e._s(e.getRecipientDetails(n,"fullname")))]),e._v(" "),i("li",[e._v(e._s(e.getRecipientDetails(n,"summary")))])]),e._v(" "),e.getRecipientDetails(n,"alreadyshared")?i("div",{staticClass:"tui-engageSharedRecipientsSelector__recipient-badge"},[i("CheckSuccess"),e._v(" "),i("span",[e._v(e._s(e.$str("alreadyshared","totara_engage")))])],1):e._e()],1)]}}])})],1)}),[],!1,null,null,null);"function"==typeof N&&N(C),C.options.__hasBlocks={script:!0,template:!0};t.default=C.exports},"J+G9":function(e,t){e.exports=tui.require("totara_engage/components/modal/AccessModal")},"J/aQ":function(e,t,i){"use strict";i.r(t);var n=i("s5vj"),a=i.n(n),r=i("Uhf3"),s=i.n(r),o=i("w07m"),l=i.n(o),c=i("zEvk"),d=i.n(c),u=i("U4eW"),m=i.n(u),p={components:{ContributionBaseContent:a.a,ContributionFilter:s.a,ResourceNavigationBar:l.a},mixins:[m.a,d.a],props:{userId:{type:Number,required:!0},name:{type:String,required:!0}},computed:{loadMoreText(){return`${this.$str("viewedresources","engage_article",this.contribution.cards.length)} ${this.$str("itemscount","totara_engage",this.contribution.cursor.total)}`},countSharedResource(){return 1===this.contribution.cursor.total?this.$str("itemscountone","totara_engage",this.contribution.cursor.total):this.$str("itemscount","totara_engage",this.contribution.cursor.total)},filterChange(){const{type:e,topic:t,sort:i}=this.filterValue;return null!==e||null!==t||5!==i},showEmptyContribution(){return 0===this.contributionCount}},created(){this.contributionComponent="totara_engage"}},g=(i("6R+H"),i("KHd+")),h=function(e){e.options.__langStrings={totara_engage:["nocontributions","usersresources","itemscount","itemscountone"],engage_article:["viewedresources"]}},v=Object(g.a)(p,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tui-otherUserLibrary"},[i("ContributionBaseContent",{attrs:{loading:e.$apollo.loading,"loading-more":e.loadingMore,cards:e.contribution.cards,"show-heading":!0,"grid-direction":"horizontal","show-footnotes":!1,"is-load-more-visible":e.isLoadMoreVisible,"total-cards":e.contribution.cursor.total,"custom-title":e.countSharedResource,"custom-load-more-text":e.loadMoreText,"show-empty-content":e.filterChange,"show-empty-contribution":e.showEmptyContribution,"custom-empty-content":e.$str("nocontributions","totara_engage",e.name)},on:{"scrolled-to-bottom":e.scrolledToBottom,"load-more":e.loadMore},scopedSlots:e._u([{key:"buttons",fn:function(){return[i("ResourceNavigationBar",{staticClass:"tui-otherUserLibrary__header",attrs:{"back-button":{label:e.name,url:e.$url("/user/profile.php",{id:e.userId})}}})]},proxy:!0},{key:"heading",fn:function(){return[e._v("\n      "+e._s(e.$str("usersresources","totara_engage",e.name))+"\n    ")]},proxy:!0},{key:"filters",fn:function(){return[e.contributionCount?i("ContributionFilter",{attrs:{component:"totara_engage",area:"otheruserlib","has-bottom-bar":!0,"has-top-bar":!0,value:e.filterValue,"show-access":!1,"show-type":!0,"show-topic":!0},on:{access:e.filterAccess,type:e.filterType,topic:e.filterTopic,sort:e.filterSort}}):e._e()]},proxy:!0}])})],1)}),[],!1,null,null,null);"function"==typeof h&&h(v),v.options.__hasBlocks={script:!0,template:!0};t.default=v.exports},JThd:function(e,t){e.exports=tui.require("tui/components/icons/CheckSuccess")},JXQf:function(e,t){e.exports=tui.require("tui/components/loading/Loader")},K1nw:function(e,t){e.exports=tui.require("totara_topic/components/form/TopicsSelector")},K59g:function(e,t){e.exports=tui.require("totara_engage/components/form/AccessForm")},KGcv:function(e,t){e.exports=tui.require("tui/components/dropdown/DropdownItem")},KGot:function(e,t){e.exports=tui.require("tui/components/datatable/Cell")},"KHd+":function(e,t,i){"use strict";function n(e,t,i,n,a,r,s,o){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):a&&(l=o?function(){a.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:a),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(e,t){return l.call(t),d(e,t)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:c}}i.d(t,"a",(function(){return n}))},KRNv:function(e,t,i){"use strict";i.r(t);var n=i("mURQ"),a=i.n(n),r=i("KGot"),s=i.n(r),o=i("5qAA"),l=i.n(o),c=i("+1Jo"),d=i.n(c),u=i("ULNG"),m=i.n(u),p={components:{AccessIcon:d.a,Cell:s.a,EngageCardImage:m.a,HeaderCell:l.a,SelectTable:a.a},props:{disabledItems:{type:Array,default:()=>[]},selectedItems:{type:Array,default:()=>[]},cards:{type:Array,default:()=>[]}}},g=(i("g7zI"),i("KHd+")),h=function(e){e.options.__langStrings={totara_engage:["contributor","title","filteraccess"]}},v=Object(g.a)(p,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("SelectTable",{attrs:{"large-check-box":!0,"no-label-offset":!0,value:e.selectedItems,data:e.cards,"checkbox-v-align":"center","border-bottom-hidden":!0,"select-all-enabled":!0},on:{input:function(t){return e.$emit("update",t)}},scopedSlots:e._u([{key:"header-row",fn:function(){return[i("HeaderCell",{attrs:{size:"2",valign:"center"}}),e._v(" "),i("HeaderCell",{attrs:{size:"8",valign:"center"}},[e._v("\n      "+e._s(e.$str("title","totara_engage"))+"\n    ")]),e._v(" "),i("HeaderCell",{attrs:{size:"6",valign:"center"}},[e._v("\n      "+e._s(e.$str("filteraccess","totara_engage"))+"\n    ")]),e._v(" "),i("HeaderCell",{attrs:{size:"4",valign:"center"}},[e._v("\n      "+e._s(e.$str("contributor","totara_engage"))+"\n    ")])]},proxy:!0},{key:"row",fn:function(t){var n=t.row;return[i("Cell",{attrs:{size:"2","column-header":"Img",valign:"center"}},[i("EngageCardImage",{staticClass:"tui-engageAdderSelectedTable__img",attrs:{"card-attribute":n}})],1),e._v(" "),i("Cell",{attrs:{size:"8","column-header":e.$str("title","totara_engage"),valign:"center"}},[i("span",{staticClass:"tui-engageAdderSelectedTable__title"},[e._v("\n        "+e._s(n.name)+"\n      ")])]),e._v(" "),i("Cell",{attrs:{size:"4","column-header":e.$str("filteraccess","totara_engage"),valign:"center"}},[i("AccessIcon",{attrs:{access:n.access,size:"300"}})],1),e._v(" "),i("Cell",{attrs:{size:"6","column-header":e.$str("contributor","totara_engage"),valign:"center"}},[e._v("\n      "+e._s(n.user.fullname)+"\n    ")])]}}])})}),[],!1,null,null,null);"function"==typeof h&&h(v),v.options.__hasBlocks={script:!0,template:!0};t.default=v.exports},KluM:function(e,t,i){"use strict";var n=i("Ebz+");i.n(n).a},KpVf:function(e,t,i){"use strict";i.r(t);var n=i("H/tB"),a=i.n(n),r=i("vF5l"),s=i.n(r),o=i("ixxs"),l=i.n(o),c=i("Vj7v"),d=i.n(c),u=i("oQSm"),m=i.n(u),p={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_engage_navigation_panel_sections"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"sections"},name:{kind:"Name",value:"totara_engage_navigation_panel_sections"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tuicomponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"showcontribute"},arguments:[],directives:[]}]}}]}}]};const g=Object.prototype.hasOwnProperty;var h={components:{Button:s.a,Show:l.a,EngageSection:d.a},mixins:[m.a],props:{title:{type:String,required:!0},units:{type:[String,Number],required:!0},gridDirection:{type:String,required:!0},redirection:Boolean},data:()=>({navPanelLoading:0,menuVisible:!1}),apollo:{sections:{query:p,loadingKey:"navPanelLoading",result({data:{sections:e}}){void 0!==e&&0<e.length&&this.$_loadTuiComponents(e)}}},computed:{showMenuControl(){return"vertical"===this.gridDirection},showMenu(){return!this.showMenuControl||this.menuVisible}},methods:{$_loadTuiComponents(e){e.forEach(({component:e,tuicomponent:t})=>{g.call(this.$options.components,e)||(this.$options.components[e]=a.a.asyncComponent(t))})},toggleMenu(){this.menuVisible=!this.menuVisible}}},v=(i("/zRO"),i("KHd+")),f=function(e){e.options.__langStrings={totara_engage:["navigation"]}},_=Object(v.a)(h,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:["tui-engageNavigationPanel","tui-engageNavigationPanel__"+e.gridDirection]},[e.showMenuControl?i("div",{staticClass:"tui-engageNavigationPanel__selected"},[i("h2",{staticClass:"tui-engageNavigationPanel__header"},[i("Button",{staticClass:"tui-engageNavigationPanel__btn",attrs:{text:e.title,caret:!0,styleclass:{transparent:!0},"aria-expanded":e.showMenu.toString()},on:{click:e.toggleMenu}})],1)]):e._e(),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showMenu,expression:"showMenu"}],ref:"navigationPanelMenu",staticClass:"tui-engageNavigationPanel__menu"},[i("h2",{staticClass:"sr-only"},[e._v(e._s(e.$str("navigation","totara_engage")))]),e._v(" "),e.navPanelLoading?e._e():[e._l(e.sections,(function(t,n){return[i(t.component,{key:n,tag:"component",attrs:{"selected-id":e.selectedId,values:e.values,"show-contribute":t.showcontribute,redirection:e.redirection}})]}))]],2)])}),[],!1,null,null,null);"function"==typeof f&&f(_),_.options.__hasBlocks={script:!0,template:!0};t.default=_.exports},"L+6P":function(e,t,i){"use strict";i.r(t);var n=i("H/tB"),a=i.n(n);const r=Object.prototype.hasOwnProperty,s={};var o={props:{cardAttribute:{type:Object,required:!0,validator:e=>"tuicomponent"in e&&"component"in e},showFootnotes:{type:Boolean,default:!1},labelId:{type:String,default:"",required:!1}},data:()=>({loaded:!1}),computed:{propAttributes(){const e=Object.assign({},this.cardAttribute);let t={};return e.extra&&("string"==typeof e.extra?t=JSON.parse(e.extra):"object"==typeof e.extra&&(t=e.extra)),{key:`${e.component}-${e.instanceid}`,instanceId:e.instanceid||0,name:e.name,summary:e.summary||null,access:e.access,timeCreated:e.timecreated,userId:e.user.id,userFullName:e.user.fullname,userProfileImageUrl:e.user.profileimageurl,userProfileImageAlt:e.user.profileImageAlt||"",extra:e.extra,topics:e.topics,rating:t.rating||0,bookmarked:e.bookmarked,totalComments:e.comments,totalReactions:e.reactions,sharedbycount:e.sharedbycount,owned:e.owned,url:e.url,numberOfPeopleRated:0,showFootnotes:this.showFootnotes,footnotes:e.footnotes,labelId:this.labelId}},component(){return this.cardAttribute.component}},watch:{cardAttribute:{deep:!0,immediate:!0,handler(e){this.loaded=!1,new Promise(t=>{const{component:i,tuicomponent:n}=e;r.call(s,i)||(s[i]=a.a.asyncComponent(n)),this.$options.components[i]=s[i],t("done")}).then(()=>{this.loaded=!0})}}},methods:{refetch(){this.$emit("refetch")}}},l=i("KHd+"),c=Object(l.a)(o,(function(){var e=this.$createElement,t=this._self._c||e;return this.loaded?t(this.component,this._b({tag:"component",on:{deleted:this.refetch,updated:this.refetch}},"component",this.propAttributes,!1)):this._e()}),[],!1,null,null,null);c.options.__hasBlocks={script:!0,template:!0};t.default=c.exports},L4Qe:function(e,t,i){"use strict";i.r(t);var n={props:{title:{required:!0,type:String},statNumber:{required:!0,type:[String,Number]},iconSize:{type:[String,Number]}},computed:{iconCss(){return this.clickable?"tui-engageStatIcon__icon--clickable":""}}},a=(i("KluM"),i("KHd+")),r=Object(a.a)(n,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tui-engageStatIcon"},[t("span",{staticClass:"tui-engageStatIcon__iconContainer",attrs:{role:"img","aria-label":this.title}},[t("span",{staticClass:"tui-engageStatIcon__icon",class:this.iconCss},[this._t("default")],2)]),this._v(" "),t("span",{staticClass:"tui-engageStatIcon__statNumber",attrs:{"aria-hidden":"true"}},[this._v("\n    "+this._s(this.statNumber)+"\n  ")])])}),[],!1,null,null,null);r.options.__hasBlocks={script:!0,template:!0};t.default=r.exports},LJiL:function(e,t){e.exports=tui.require("totara_engage/components/sidepanel/access/AccessDisplay")},Ld83:function(e,t,i){"use strict";i.r(t),i.d(t,"calculateRow",(function(){return a})),i.d(t,"engageGrid",(function(){return r}));const n=Array.prototype.slice;function a(e,t,i=!1){if(!Array.isArray(e)||!e.length)return[];let a=e.slice(),r=[];for(let e=0;e<a.length;e+=t){let i=n.call(a,e,e+t);r.push({index:r.length,items:i})}if(!i)return r;const s=e.length%t;if(s<=0)return r;const o=t-s;for(let e=0;e<o;e+=1)r[r.length-1].items.push({component:"FillSlot"});return r}const r={xsmall:{name:"xsmall",boundaries:[0,480],direction:"horizontal",maxItemsPerRow:1,cardUnits:3},small:{name:"small",boundaries:[481,649],direction:"horizontal",maxItemsPerRow:2,cardUnits:3},medium:{name:"medium",boundaries:[650,822],direction:"horizontal",maxItemsPerRow:3,cardUnits:3},large:{name:"large",boundaries:[823,1072],direction:"horizontal",maxItemsPerRow:4,cardUnits:2},xlarge:{name:"xlarge",boundaries:[1073,1372],direction:"horizontal",maxItemsPerRow:5,cardUnits:2}}},"Lgm+":function(e,t){e.exports=tui.require("tui/components/icons/SizeContract")},Lw07:function(e,t,i){var n={"./buttons/BookmarkButton":"QzBT","./buttons/BookmarkButton.vue":"QzBT","./buttons/DoneCancelGroup":"tFmr","./buttons/DoneCancelGroup.vue":"tFmr","./buttons/LoadingButton":"+hBV","./buttons/LoadingButton.vue":"+hBV","./card/BaseCard":"mYRU","./card/BaseCard.vue":"mYRU","./card/CardHeader":"yXAG","./card/CardHeader.vue":"yXAG","./card/Footnotes":"OhxZ","./card/Footnotes.vue":"OhxZ","./card/ImageHeader":"qMiU","./card/ImageHeader.vue":"qMiU","./card/compute/EngageCard":"L+6P","./card/compute/EngageCard.vue":"L+6P","./card/compute/EngageCardImage":"F+j4","./card/compute/EngageCardImage.vue":"F+j4","./card/footnote/FoundInFootnote":"xOe2","./card/footnote/FoundInFootnote.vue":"xOe2","./card/footnote/SharedByFootnote":"5BiX","./card/footnote/SharedByFootnote.vue":"5BiX","./contribution/BaseContent":"RxMw","./contribution/BaseContent.vue":"RxMw","./contribution/CardsGrid":"oRr7","./contribution/CardsGrid.vue":"oRr7","./contribution/Contribute":"wBFv","./contribution/Contribute.vue":"wBFv","./contribution/Filter":"gRyG","./contribution/Filter.vue":"gRyG","./contribution/SavedResources":"OAxN","./contribution/SavedResources.vue":"OAxN","./contribution/SearchResults":"/djH","./contribution/SearchResults.vue":"/djH","./contribution/SharedWithYou":"NdZm","./contribution/SharedWithYou.vue":"NdZm","./contribution/YourResources":"A7nm","./contribution/YourResources.vue":"A7nm","./dropdown/EngageDropDown":"hoSh","./dropdown/EngageDropDown.vue":"hoSh","./form/AccessForm":"cda/","./form/AccessForm.vue":"cda/","./form/InlineEditing":"zrqB","./form/InlineEditing.vue":"zrqB","./form/SharedBoard":"ao90","./form/SharedBoard.vue":"ao90","./form/UnsavedChangesWarning":"aW9u","./form/UnsavedChangesWarning.vue":"aW9u","./form/access/AccessSelector":"k0Iz","./form/access/AccessSelector.vue":"k0Iz","./form/access/EngageTopicsSelector":"WfSi","./form/access/EngageTopicsSelector.vue":"WfSi","./form/access/RecipientsSelector":"IjAb","./form/access/RecipientsSelector.vue":"IjAb","./form/access/TimeViewSelector":"aQTg","./form/access/TimeViewSelector.vue":"aQTg","./header/ResourceNavigationBar":"0DFY","./header/ResourceNavigationBar.vue":"0DFY","./icons/Star":"004H","./icons/Star.vue":"004H","./icons/StarRating":"34SQ","./icons/StarRating.vue":"34SQ","./icons/StatIcon":"L4Qe","./icons/StatIcon.vue":"L4Qe","./icons/access/Private":"nkRd","./icons/access/Private.vue":"nkRd","./icons/access/Public":"67Ea","./icons/access/Public.vue":"67Ea","./icons/access/Restricted":"oRlt","./icons/access/Restricted.vue":"oRlt","./icons/access/computed/AccessIcon":"6sqB","./icons/access/computed/AccessIcon.vue":"6sqB","./modal/AccessModal":"GCaZ","./modal/AccessModal.vue":"GCaZ","./modal/ContributeModal":"1cpS","./modal/ContributeModal.vue":"1cpS","./modal/EngageAdderModal":"HNJ7","./modal/EngageAdderModal.vue":"HNJ7","./modal/EngagePrivacyWarningModal":"FF5y","./modal/EngagePrivacyWarningModal.vue":"FF5y","./modal/NameListModal":"6B61","./modal/NameListModal.vue":"6B61","./page/BaseLayout":"1ySY","./page/BaseLayout.vue":"1ySY","./page/LayoutOneColumnContentWithSidePanel":"RwP+","./page/LayoutOneColumnContentWithSidePanel.vue":"RwP+","./page/LayoutOneColumnWithMultiSidePanel":"tY3g","./page/LayoutOneColumnWithMultiSidePanel.vue":"tY3g","./page/LayoutOneColumnWithSidePanel":"tU1q","./page/LayoutOneColumnWithSidePanel.vue":"tU1q","./sidepanel/EngageSidePanel":"PH/2","./sidepanel/EngageSidePanel.vue":"PH/2","./sidepanel/NavigationPanel":"KpVf","./sidepanel/NavigationPanel.vue":"KpVf","./sidepanel/access/AccessDisplay":"FHpO","./sidepanel/access/AccessDisplay.vue":"FHpO","./sidepanel/access/AccessSetting":"Axb5","./sidepanel/access/AccessSetting.vue":"Axb5","./sidepanel/media/LazyList":"8Svf","./sidepanel/media/LazyList.vue":"8Svf","./sidepanel/media/MediaSetting":"vkm1","./sidepanel/media/MediaSetting.vue":"vkm1","./sidepanel/media/Share":"UhmB","./sidepanel/media/Share.vue":"UhmB","./sidepanel/navigation/EngageSection":"o0tL","./sidepanel/navigation/EngageSection.vue":"o0tL","./sidepanel/navigation/SearchLibrary":"o5qV","./sidepanel/navigation/SearchLibrary.vue":"o5qV","./sidepanel/navigation/YourResources":"h+IK","./sidepanel/navigation/YourResources.vue":"h+IK","./table/AdderBrowseAllTable":"WF/q","./table/AdderBrowseAllTable.vue":"WF/q","./table/AdderSelectedTable":"KRNv","./table/AdderSelectedTable.vue":"KRNv"};function a(e){var t=r(e);return i(t)}function r(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id="Lw07"},MBDo:function(e,t){e.exports=tui.require("totara_engage/components/form/access/EngageTopicsSelector")},MhHb:function(e,t,i){"use strict";var n=i("Cp3u");i.n(n).a},Mnur:function(e,t){e.exports=tui.require("tui/components/modal/ModalPresenter")},NAOU:function(e,t){e.exports=tui.require("tui/components/grid/Grid")},NbNJ:function(e,t){e.exports=tui.require("totara_engage/components/sidepanel/navigation/SearchLibrary")},NdZm:function(e,t,i){"use strict";i.r(t);var n=i("s5vj"),a=i.n(n),r=i("Uhf3"),s=i.n(r),o=i("tyu8"),l=i("pxdy"),c=i.n(l),d=i("zEvk"),u=i.n(d),m={components:{ContributionBaseContent:a.a,ContributionFilter:s.a},mixins:[c.a,u.a],computed:{loadMoreText(){return`${this.$str("viewedresources","engage_article",this.contribution.cards.length)} ${this.$str("itemscount","totara_engage",this.contribution.cursor.total)}`},countSharedResource(){return 1===this.contribution.cursor.total?this.$str("itemscountone","totara_engage",this.contribution.cursor.total):this.$str("itemscount","totara_engage",this.contribution.cursor.total)},filterChange(){const{type:e,topic:t,sort:i}=this.filterValue;return null!==e||null!==t||5!==i}},created(){this.filterValue=Object.assign({},this.filterValue,{sort:5}),this.contributionComponent="totara_engage",this.contributionArea="shared",this.includeFootnotes=!0,this.footnotes.footnotes_type="shared",this.contributionSource=o.UrlSourceType.libraryShared()}},p=i("KHd+"),g=function(e){e.options.__langStrings={totara_engage:["sharedwithyou","itemscount","itemscountone"],engage_article:["viewedresources"]}},h=Object(p.a)(m,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tui-contributionSharedWithYou"},[i("ContributionBaseContent",{attrs:{units:e.units,loading:e.$apollo.loading,"loading-more":e.loadingMore,cards:e.contribution.cards,"show-heading":"vertical"!==e.gridDirection,"grid-direction":e.gridDirection,"show-footnotes":e.includeFootnotes,"is-load-more-visible":e.isLoadMoreVisible,"total-cards":e.contribution.cursor.total,"custom-title":e.countSharedResource,"custom-load-more-text":e.loadMoreText,"show-empty-content":e.filterChange},on:{"scrolled-to-bottom":e.scrolledToBottom,"load-more":e.loadMore},scopedSlots:e._u([{key:"heading",fn:function(){return[e._v("\n      "+e._s(e.$str("sharedwithyou","totara_engage"))+"\n    ")]},proxy:!0},{key:"filters",fn:function(){return[i("ContributionFilter",{attrs:{component:"totara_engage",area:"shared","has-bottom-bar":!0,"has-top-bar":!0,value:e.filterValue,"show-access":!1,"show-type":!0,"show-topic":!0},on:{access:e.filterAccess,type:e.filterType,topic:e.filterTopic,sort:e.filterSort}})]},proxy:!0}])})],1)}),[],!1,null,null,null);"function"==typeof g&&g(h),h.options.__hasBlocks={script:!0,template:!0};t.default=h.exports},"Nj+/":function(e,t,i){"use strict";var n=i("6Klb");i.n(n).a},"O+Pg":function(e,t,i){},OAxN:function(e,t,i){"use strict";i.r(t);var n=i("s5vj"),a=i.n(n),r=i("Uhf3"),s=i.n(r),o=i("tyu8"),l=i("pxdy"),c=i.n(l),d=i("zEvk"),u=i.n(d),m={components:{ContributionBaseContent:a.a,ContributionFilter:s.a},mixins:[c.a,u.a],computed:{filterChange(){const{type:e,topic:t}=this.filterValue;return null!==e||null!==t}},created(){this.contributionComponent="totara_engage",this.contributionArea="saved",this.contributionSource=o.UrlSourceType.libraryBookmarked()},methods:{refetch(){this.$apollo.queries.contribution.refetch()}}},p=(i("xnFb"),i("KHd+")),g=function(e){e.options.__langStrings={totara_engage:["savedresources"]}},h=Object(p.a)(m,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tui-contributionSavedResources"},[i("ContributionBaseContent",{attrs:{units:e.units,loading:e.$apollo.loading,"loading-more":e.loadingMore,cards:e.contribution.cards,"total-cards":e.contribution.cursor.total,"show-heading":"vertical"!==e.gridDirection,"grid-direction":e.gridDirection,"is-load-more-visible":e.isLoadMoreVisible,"show-empty-content":e.filterChange},on:{"scrolled-to-bottom":e.scrolledToBottom,"load-more":e.loadMore},scopedSlots:e._u([{key:"heading",fn:function(){return[e._v("\n      "+e._s(e.$str("savedresources","totara_engage"))+"\n    ")]},proxy:!0},{key:"filters",fn:function(){return[i("ContributionFilter",{attrs:{component:"totara_engage",area:"saved","has-bottom-bar":!0,"has-top-bar":!0,value:e.filterValue,"show-access":!1,"show-type":!0,"show-topic":!0,"show-sort":!1},on:{access:e.filterAccess,type:e.filterType,topic:e.filterTopic}})]},proxy:!0}])})],1)}),[],!1,null,null,null);"function"==typeof g&&g(h),h.options.__hasBlocks={script:!0,template:!0};t.default=h.exports},OSeL:function(e,t,i){},OhxZ:function(e,t,i){"use strict";i.r(t);var n=i("H/tB"),a=i.n(n);const r=Object.prototype.hasOwnProperty;var s={props:{footnotes:{type:Array,required:!1,default:()=>[],validator:e=>e.every(e=>["component","tuicomponent","props"].every(t=>t in e))}},created(){this.footnotes.forEach(({component:e,tuicomponent:t})=>{r.call(this.$options.components,e)||(this.$options.components[e]=a.a.asyncComponent(t))})},methods:{getFootnoteProps:e=>JSON.parse(e.props)}},o=(i("r6lN"),i("KHd+")),l=Object(o.a)(s,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tui-cardFootnotes"},[e._l(e.footnotes,(function(t,n){return[i(t.component,e._b({key:"footnote_"+n,tag:"component"},"component",e.getFootnoteProps(t),!1))]}))],2)}),[],!1,null,null,null);l.options.__hasBlocks={script:!0,template:!0};t.default=l.exports},"PH/2":function(e,t,i){"use strict";i.r(t);var n=i("txsu"),a=i.n(n),r=i("1i2V"),s=i.n(r),o={components:{Tabs:a.a,Tab:s.a},data:()=>({selectedTab:"overview",showRelated:!1})},l=(i("jfAl"),i("KHd+")),c=function(e){e.options.__langStrings={totara_engage:["comments","overview","related"]}},d=Object(l.a)(o,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tui-engageSidePanel"},[e._t("modal"),e._v(" "),e._t("author-profile"),e._v(" "),i("Tabs",{staticClass:"tui-engageSidePanel__tabs",attrs:{"small-tabs":!0},model:{value:e.selectedTab,callback:function(t){e.selectedTab=t},expression:"selectedTab"}},[i("Tab",{staticClass:"tui-engageSidePanel__overviewBox",attrs:{id:"overview",name:e.$str("overview","totara_engage")}},[e._t("overview")],2),e._v(" "),i("Tab",{staticClass:"tui-engageSidePanel__commentBox",attrs:{id:"comments",name:e.$str("comments","totara_engage")}},[e._t("comments")],2),e._v(" "),i("Tab",{staticClass:"tui-engageSidePanel__related",attrs:{id:"related","always-render":!0,hidden:!e.showRelated,name:e.$str("related","totara_engage")}},[e._t("related",null,{triggerShowRelated:function(){return e.showRelated=!0}})],2)],1)],2)}),[],!1,null,null,null);"function"==typeof c&&c(d),d.options.__hasBlocks={script:!0,template:!0};t.default=d.exports},PNFE:function(e,t){e.exports=tui.require("tui/components/icons/Add")},PRN7:function(e,t){e.exports=tui.require("tui/components/form/Label")},QGXx:function(e,t){e.exports=tui.require("totara_engage/components/buttons/DoneCancelGroup")},QMBZ:function(e,t){e.exports=tui.require("totara_engage/components/form/access/TimeViewSelector")},QwsQ:function(e,t,i){},QzBT:function(e,t,i){"use strict";i.r(t);var n=i("5h9J"),a=i.n(n),r=i("rOe/"),s=i.n(r),o=i("3XoF"),l=i.n(o),c={components:{ButtonIcon:a.a,Bookmark:s.a,BookmarkActive:l.a},props:{ariaLabel:String,size:[String,Number],bookmarked:{type:Boolean,required:!0},disabled:{type:Boolean,default:!1},small:{type:Boolean,default:!1},primary:{type:Boolean,default:!1},square:{type:Boolean,default:!1},toggle:{type:Boolean,default:!1},transparent:{type:Boolean,default:!1},circle:{type:Boolean,default:!0}},computed:{styleClass(){return{small:this.small,primary:this.primary,square:this.square,toggle:this.toggle,transparent:this.transparent,circle:this.circle}},ariaLabelText(){return this.ariaLabel?this.ariaLabel:this.bookmarked?this.$str("unbookmark","totara_engage"):this.$str("bookmark","totara_engage")}}},d=i("KHd+"),u=function(e){e.options.__langStrings={totara_engage:["bookmark","unbookmark"]}},m=Object(d.a)(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ButtonIcon",{attrs:{styleclass:e.styleClass,disabled:e.disabled,"aria-label":e.ariaLabelText},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.$emit("click",!e.bookmarked)}}},[e.bookmarked?i("BookmarkActive",{attrs:{size:e.size}}):i("Bookmark",{attrs:{size:e.size}})],1)}),[],!1,null,null,null);"function"==typeof u&&u(m),m.options.__hasBlocks={script:!0,template:!0};t.default=m.exports},R5BP:function(e,t){e.exports=tui.require("tui/components/virtualscroll/VirtualScroll")},RAlx:function(e,t,i){"use strict";var n=i("dNg+");i.n(n).a},"RiT/":function(e,t){e.exports=tui.require("totara_engage/components/form/access/AccessSelector")},"RwP+":function(e,t,i){"use strict";i.r(t);var n=i("NAOU"),a=i.n(n),r=i("D9If"),s=i.n(r),o=i("dtfu"),l=i.n(o),c=i("BaY1"),d=i.n(c);const u=new(i("SFZN").WebStorageStore)("engage",window.localStorage);var m={components:{Grid:a.a,GridItem:s.a,Responsive:l.a,SidePanel:d.a},data:()=>({boundaryDefaults:{xsmall:{gridUnitsLeftExpanded:0,gridUnitsLeftCollapsed:11,gridUnitsRightExpanded:12,gridUnitsRightCollapsed:1},small:{gridUnitsLeftExpanded:0,gridUnitsLeftCollapsed:11,gridUnitsRightExpanded:12,gridUnitsRightCollapsed:1},medium:{gridUnitsLeftExpanded:7,gridUnitsLeftCollapsed:11,gridUnitsRightExpanded:5,gridUnitsRightCollapsed:1},large:{gridUnitsLeftExpanded:7,gridUnitsLeftCollapsed:11,gridUnitsRightExpanded:5,gridUnitsRightCollapsed:1},xlarge:{gridUnitsLeftExpanded:7,gridUnitsLeftCollapsed:11,gridUnitsRightExpanded:5,gridUnitsRightCollapsed:1}},currentBoundaryName:null,sidePanelIsOpen:null}),computed:{gridUnitsColumn(){return this.sidePanelIsOpen?this.onBigScreen?{gapLeft:2,content:8,gapRight:2}:"medium"===this.currentBoundaryName?{gapLeft:0,content:10,gapRight:2}:(this.currentBoundaryName,{gapLeft:0,content:0,gapRight:0}):this.onBigScreen?{gapLeft:3,content:6,gapRight:3}:"medium"===this.currentBoundaryName?{gapLeft:2,content:8,gapRight:2}:"small"===this.currentBoundaryName?{gapLeft:1,content:10,gapRight:1}:{gapLeft:0,content:12,gapRight:0}},gridUnitsLeft(){let e=this.sidePanelIsOpen?"gridUnitsLeftExpanded":"gridUnitsLeftCollapsed";return this.boundaryDefaults[this.currentBoundaryName][e]},gridUnitsRight(){let e=this.sidePanelIsOpen?"gridUnitsRightExpanded":"gridUnitsRightCollapsed";return this.boundaryDefaults[this.currentBoundaryName][e]},onBigScreen(){return"xlarge"===this.currentBoundaryName||"large"===this.currentBoundaryName},onSmallScreen(){return"xsmall"===this.currentBoundaryName||"small"===this.currentBoundaryName}},watch:{sidePanelIsOpen(e){u.set("sidepanel",{isOpen:e})}},mounted(){let e=!this.onSmallScreen;const t=u.get("sidepanel");t&&(e=t.isOpen),this.sidePanelIsOpen=e},methods:{$_resize(e){this.currentBoundaryName=e},expandRequest:function(){this.sidePanelIsOpen=!0},collapseRequest:function(){this.sidePanelIsOpen=!1}}},p=(i("EA/2"),i("KHd+")),g=Object(p.a)(m,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tui-engagelayoutOneColumnContentWithSidepanel",class:{"tui-engagelayoutOneColumnContentWithSidepanel-fullSidePanel":null!==e.currentBoundaryName&&12===e.gridUnitsRight}},[i("Responsive",{attrs:{breakpoints:[{name:"xsmall",boundaries:[0,480]},{name:"small",boundaries:[481,764]},{name:"medium",boundaries:[765,1192]},{name:"large",boundaries:[1193,1396]},{name:"xlarge",boundaries:[1397,1672]}]},on:{"responsive-resize":e.$_resize}},[null!==e.currentBoundaryName?i("Grid",{attrs:{direction:"horizontal"}},[i("GridItem",{directives:[{name:"show",rawName:"v-show",value:e.gridUnitsLeft>0,expression:"gridUnitsLeft > 0"}],attrs:{units:e.gridUnitsLeft}},[i("div",{staticClass:"tui-engagelayoutOneColumnContentWithSidepanel__heading"},[e._t("header")],2),e._v(" "),i("Grid",{attrs:{direction:"horizontal"}},[i("GridItem",{attrs:{units:e.gridUnitsColumn.gapLeft}}),e._v(" "),i("GridItem",{attrs:{units:e.gridUnitsColumn.content}},[e._t("column",null,{units:e.gridUnitsLeft,boundaryName:e.currentBoundaryName,direction:"horizontal"})],2),e._v(" "),i("GridItem",{attrs:{units:e.gridUnitsColumn.gapRight}})],1)],1),e._v(" "),i("GridItem",{attrs:{units:e.gridUnitsRight}},[i("SidePanel",{ref:"sidepanel",attrs:{direction:"rtl",animated:!e.onSmallScreen,sticky:!e.onSmallScreen,"show-button-control":!0,"initially-open":e.sidePanelIsOpen,overflows:!1},on:{"sidepanel-expanding":e.expandRequest,"sidepanel-collapsing":e.collapseRequest}},[e._t("sidepanel",null,{units:e.gridUnitsRight,boundaryName:e.currentBoundaryName,direction:"horizontal"})],2)],1)],1):e._e()],1)],1)}),[],!1,null,null,null);g.options.__hasBlocks={script:!0,template:!0};t.default=g.exports},RxMw:function(e,t,i){"use strict";i.r(t);var n=i("7wUB"),a=i.n(n),r=i("vF5l"),s=i.n(r),o=i("JXQf"),l=i.n(o),c={components:{CardsGrid:a.a,Button:s.a,PageLoader:l.a},props:{loading:{type:Boolean,required:!0},loadingMore:{type:Boolean,required:!0},isLoadMoreVisible:{type:Boolean,default:!1},cards:{type:Array,default:()=>[]},totalCards:Number,showHeading:{type:Boolean,default:!0},gridDirection:{type:String,required:!0},showFootnotes:{type:Boolean,default:!1},customTitle:String,customLoadMoreText:String,showEmptyContent:{type:Boolean,default:!1},showEmptyContribution:Boolean,fromLibrary:Boolean,customEmptyContent:String},data:()=>({initialLoad:!0}),computed:{countResource(){return 1===this.totalCards?this.$str(this.fromLibrary?"itemscountone":"resourcecountone","totara_engage",this.totalCards):this.$str(this.fromLibrary?"itemscount":"resourcecount","totara_engage",this.totalCards)}},watch:{cards(){this.initialLoad=!1}},methods:{scrolledToBottom(){this.$emit("scrolled-to-bottom")},loadMore(){this.$emit("load-more")}}},d=(i("vAZ/"),i("KHd+")),u=function(e){e.options.__langStrings={totara_engage:["resourcecount","resourcecountone","emptycontent","itemscount","itemscountone"],engage_article:["loadmore","viewedresources"]}},m=Object(d.a)(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:["tui-contributionBaseContent","tui-contributionBaseContent__"+e.gridDirection]},[e.showHeading?i("section",{staticClass:"tui-contributionBaseContent__navButtons"},[e._t("buttons")],2):e._e(),e._v(" "),e.showHeading?i("section",{staticClass:"tui-contributionBaseContent__header"},[i("div",{staticClass:"tui-contributionBaseContent__title"},[e._t("heading")],2),e._v(" "),e._t("bookmark")],2):e._e(),e._v(" "),e._t("filters"),e._v(" "),i("section",{directives:[{name:"show",rawName:"v-show",value:!e.loading||e.loadingMore,expression:"!loading || loadingMore"}]},[e.showEmptyContribution?e._e():i("div",{staticClass:"tui-contributionBaseContent__counterContainer"},[i("div",{staticClass:"tui-contributionBaseContent__counter"},[e.customTitle?[e._v("\n          "+e._s(e.customTitle)+"\n        ")]:[e._v("\n          "+e._s(e.countResource)+"\n        ")]],2)])]),e._v(" "),i("section",{directives:[{name:"show",rawName:"v-show",value:!e.loading||e.loadingMore,expression:"!loading || loadingMore"}],staticClass:"tui-contributionBaseContent__cards"},[e._t("cards",[e.showEmptyContent&&0===e.cards.length?[i("h5",{staticClass:"tui-contributionBaseContent__emptyText"},[e.showEmptyContribution?[e._v("\n            "+e._s(e.customEmptyContent)+"\n          ")]:[e._v("\n            "+e._s(e.$str("emptycontent","totara_engage"))+"\n          ")]],2)]:i("CardsGrid",{attrs:{cards:e.cards,"is-loading":e.loading,"show-footnotes":e.showFootnotes},on:{scrolledtobottom:e.scrolledToBottom}}),e._v(" "),e.isLoadMoreVisible&&e.cards.length<e.totalCards&&!e.loading?i("div",{staticClass:"tui-contributionBaseContent__loadMoreContainer"},[i("div",{staticClass:"tui-contributionBaseContent__viewedResources"},[e.customLoadMoreText?[e._v("\n            "+e._s(e.customLoadMoreText)+"\n          ")]:[e._v("\n            "+e._s(e.$str("viewedresources","engage_article",e.cards.length))+"\n            "+e._s(e.$str("resourcecount","totara_engage",e.totalCards))+"\n          ")]],2),e._v(" "),i("Button",{staticClass:"tui-contributionBaseContent__loadMore",attrs:{text:e.$str("loadmore","engage_article")},on:{click:e.loadMore}})],1):e._e()])],2),e._v(" "),i("PageLoader",{attrs:{fullpage:!1,loading:e.loading&&!e.loadingMore}})],2)}),[],!1,null,null,null);"function"==typeof u&&u(m),m.options.__hasBlocks={script:!0,template:!0};t.default=m.exports},SFZN:function(e,t){e.exports=tui.require("tui/storage")},STea:function(e,t,i){"use strict";function n(e){return["component","tuicomponent"].every(t=>t in e)}i.r(t),i.d(t,"validatePageComponent",(function(){return n})),t.default={props:{pageId:{type:String,required:!0},pageProps:{type:Object,default:()=>({})}}}},TVsZ:function(e,t,i){},TYa8:function(e,t,i){},U4eW:function(e,t){e.exports=tui.require("totara_engage/mixins/other_contribution_mixin")},ULNG:function(e,t){e.exports=tui.require("totara_engage/components/card/compute/EngageCardImage")},ULOL:function(e,t){e.exports=tui.require("totara_engage/components/modal/EngagePrivacyWarningModal")},UZO1:function(e,t,i){"use strict";i.r(t),t.default={article:e=>["ea",e].join("."),workspace:e=>["ws",e,"1"].join("."),playlist(e,t=!1){let i=["pl",e];return t&&i.push("l"),i.join(".")},library:e=>["lb",e].join("."),libraryYourResources(){return this.library(0)},libraryBookmarked(){return this.library(1)},libraryShared(){return this.library(2)},libraryOwnersResources(){return this.library(3)},librarySearchResults(){return this.library(4)}}},Uhf3:function(e,t){e.exports=tui.require("totara_engage/components/contribution/Filter")},UhmB:function(e,t,i){"use strict";i.r(t);var n=i("tkAW"),a=i.n(n),r=i("u5iS"),s=i.n(r),o=i("Mnur"),l=i.n(o),c=i("oB6E"),d=i.n(c),u=i("12HA"),m=i("tyu8"),p=i("roED"),g=i.n(p),h=i("QGXx"),v=i.n(h),f=i("3Jh+"),_=i.n(f),k=i("/Fxc"),b=i.n(k),y=i("Gur8"),S={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"totara_engage_share"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"itemid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"component"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"recipients"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"totara_engage_recipient_in"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"shares"},name:{kind:"Name",value:"totara_engage_share"},arguments:[{kind:"Argument",name:{kind:"Name",value:"itemid"},value:{kind:"Variable",name:{kind:"Name",value:"itemid"}}},{kind:"Argument",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"component"}}},{kind:"Argument",name:{kind:"Name",value:"recipients"},value:{kind:"Variable",name:{kind:"Name",value:"recipients"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sharedbycount"},arguments:[],directives:[]}]}}]}}]},N={components:{ButtonIconWithLabel:g.a,DoneCancelGroup:v.a,Modal:a.a,ModalContent:s.a,ModalPresenter:l.a,RecipientsSelector:_.a,Share:d.a,SharedBoard:b.a},apollo:{sharedTo:{query:y.a,skip:!0,variables(){return{itemid:this.instanceId,component:this.component,theme:u.config.theme.name}},update:({recipients:e})=>e.reduce((e,t)=>(t.user&&e.people.push(t.user.fullname),t.other&&e.workspaces.push(t.other.fullname),e),{people:[],workspaces:[]})}},props:{accessValue:{type:String,required:!0,validator:e=>m.AccessManager.isValid(e)},component:{type:String,required:!0},instanceId:{type:[String,Number],required:!0},owned:{type:Boolean,required:!0},buttonAriaLabel:{type:String,required:!0},sharedByCount:{type:Number,required:!0}},data(){return{access:this.accessValue,newShares:[],reciptsModalOpen:!1,resharerModalOpen:!1,sharedByCountLocal:0,sharedByLoaded:!1,sharedTo:{people:[],workspaces:[]}}},computed:{sharedByCountDisplay(){return this.sharedByCountLocal?this.sharedByCountLocal:this.sharedByCount},sharedByCountAriaLabel(){const e=this.sharedByCountDisplay;return 0===e?this.$str("noshares","totara_engage"):this.$str("numberofshares","totara_engage",e)}},watch:{sharedByCountDisplay:function(){this.sharedByLoaded&&this.$apollo.queries.sharedBy.refetch()}},methods:{addNewShare(e){const t={instanceid:e.instanceid,component:e.component,area:e.area};this.newShares.push(t)},reciptsModalRequestClose(){this.reciptsModalOpen=!1},removeNewShare(e){this.newShares=this.newShares.filter(t=>t.instanceid!==e.instanceid)},showReciptsModal(){this.owned?this.$emit("access-modal"):(this.$apollo.queries.sharedTo.start(),this.reciptsModalOpen=!0)},submit:async function(){const e=await this.$apollo.mutate({refetchAll:!1,mutation:S,variables:{itemid:this.instanceId,component:this.component,recipients:this.newShares}});this.sharedByCountLocal=e.data.shares.sharedbycount,this.$apollo.queries.sharedTo.refetch(),this.reciptsModalRequestClose()}}},C=(i("aTrC"),i("KHd+")),x=function(e){e.options.__langStrings={totara_engage:["noshares","reshare","resharedbypeople","numberofshares","share","tipnumberofresharer"]}},w=Object(C.a)(N,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tui-shareSetting"},[i("ButtonIconWithLabel",{staticClass:"tui-shareSetting__buttonLabel",attrs:{"label-text":e.sharedByCountDisplay,"label-aria-label":e.sharedByCountAriaLabel,"button-aria-label":e.buttonAriaLabel,"closeable-popover":!1},on:{open:e.showReciptsModal,click:e.showReciptsModal},scopedSlots:e._u([{key:"icon",fn:function(){return[i("Share")]},proxy:!0},{key:"hover-label-content",fn:function(){return[i("div",{staticClass:"tui-shareSetting__buttonLabel-hoverContent"},[e._v("\n        "+e._s(e.sharedByCountAriaLabel)+"\n      ")])]},proxy:!0}])}),e._v(" "),e.owned?e._e():i("ModalPresenter",{attrs:{open:e.reciptsModalOpen},on:{"request-close":e.reciptsModalRequestClose}},[i("Modal",{attrs:{size:"normal",dismissable:{backdropClick:!1}}},[i("ModalContent",{attrs:{"close-button":!0,title:e.$str("reshare","totara_engage")},on:{dismiss:e.reciptsModalRequestClose}},[i("div",{staticClass:"tui-shareSetting__recipient"},[i("RecipientsSelector",{attrs:{access:e.accessValue,owned:e.owned,"item-id":e.instanceId,component:e.component},on:{"pick-recipient":e.addNewShare,"remove-recipient":e.removeNewShare}}),e._v(" "),i("SharedBoard",{attrs:{receipts:e.sharedTo}}),e._v(" "),i("DoneCancelGroup",{on:{done:e.submit,cancel:e.reciptsModalRequestClose}})],1)])],1)],1)],1)}),[],!1,null,null,null);"function"==typeof x&&x(w),w.options.__hasBlocks={script:!0,template:!0};t.default=w.exports},VLsa:function(e,t){e.exports=tui.require("totara_engage/components/icons/Star")},VX2K:function(e,t){e.exports=tui.require("tui/components/form/Radio")},Vj7v:function(e,t){e.exports=tui.require("totara_engage/components/sidepanel/navigation/EngageSection")},"W/79":function(e,t){e.exports=tui.require("tui/components/icons/Remove")},WBvU:function(e,t){e.exports=tui.require("tui/components/uniform")},"WF/q":function(e,t,i){"use strict";i.r(t);var n=i("mURQ"),a=i.n(n),r=i("KGot"),s=i.n(r),o=i("5qAA"),l=i.n(o),c=i("+1Jo"),d=i.n(c),u=i("ULNG"),m=i.n(u),p=i("vtAP"),g=i.n(p),h={components:{AccessIcon:d.a,Cell:s.a,EngageCardImage:m.a,HeaderCell:l.a,SelectTable:a.a},mixins:[g.a],props:{disabledItems:{type:Array,default:()=>[]},selectedItems:{type:Array,default:()=>[]},cards:{type:Array,default:()=>[]}},methods:{getId(e){return this.createCardId(e)}}},v=(i("MhHb"),i("KHd+")),f=function(e){e.options.__langStrings={totara_engage:["contributor","title","filteraccess"]}},_=Object(v.a)(h,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("SelectTable",{staticClass:"tui-engageAdderBrowseTable",attrs:{"large-check-box":!0,"no-label-offset":!0,value:e.selectedItems,data:e.cards,"disabled-ids":e.disabledItems,"checkbox-v-align":"center","select-all-enabled":!0,"border-bottom-hidden":!0,"get-id":e.getId},on:{input:function(t){return e.$emit("update",t)}},scopedSlots:e._u([{key:"header-row",fn:function(){return[i("HeaderCell",{attrs:{size:"2",valign:"center"}}),e._v(" "),i("HeaderCell",{attrs:{size:"8",valign:"center"}},[e._v("\n      "+e._s(e.$str("title","totara_engage"))+"\n    ")]),e._v(" "),i("HeaderCell",{attrs:{size:"4",valign:"center"}},[e._v("\n      "+e._s(e.$str("filteraccess","totara_engage"))+"\n    ")]),e._v(" "),i("HeaderCell",{attrs:{size:"6",valign:"center"}},[e._v("\n      "+e._s(e.$str("contributor","totara_engage"))+"\n    ")])]},proxy:!0},{key:"row",fn:function(t){var n=t.row;return[i("Cell",{staticClass:"tui-engageAdderBrowseTable__imgHeader",attrs:{"column-header":" ",size:"2",valign:"center"}},[i("EngageCardImage",{staticClass:"tui-engageAdderBrowseTable__img",attrs:{"card-attribute":n}})],1),e._v(" "),i("Cell",{attrs:{size:"8","column-header":e.$str("title","totara_engage"),valign:"center"}},[i("span",{staticClass:"tui-engageAdderBrowseTable__title"},[e._v("\n        "+e._s(n.name)+"\n      ")])]),e._v(" "),i("Cell",{attrs:{size:"4","column-header":e.$str("filteraccess","totara_engage"),valign:"center"}},[i("AccessIcon",{attrs:{access:n.access,size:"300"}})],1),e._v(" "),i("Cell",{attrs:{size:"6","column-header":e.$str("contributor","totara_engage"),valign:"center"}},[e._v("\n      "+e._s(n.user.fullname)+"\n    ")])]}}])})}),[],!1,null,null,null);"function"==typeof f&&f(_),_.options.__hasBlocks={script:!0,template:!0};t.default=_.exports},WfSi:function(e,t,i){"use strict";i.r(t);var n=i("K1nw"),a=i.n(n),r=i("PRN7"),s=i.n(r);const o=Object.prototype.hasOwnProperty;var l={components:{Label:s.a,TopicsSelector:a.a},props:{selectedTopics:{type:[Array,Object],default:()=>[],validator(e){let t=Array.prototype.slice.call(e);for(let e in t){if(!o.call(t,e))continue;let i=t[e];if(!o.call(i,"value")||!o.call(i,"id"))return!1}return!0}}},computed:{generatedId(){return this.$id()}}},c=(i("0CX/"),i("KHd+")),d=function(e){e.options.__langStrings={totara_engage:["assigntopics","enter_topics"]}},u=Object(c.a)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tui-engageTopicsSelector"},[i("Label",{staticClass:"tui-engageTopicsSelector__label",attrs:{label:e.$str("assigntopics","totara_engage"),"for-id":e.generatedId}}),e._v(" "),i("TopicsSelector",{attrs:{id:e.generatedId,"selected-topics":e.selectedTopics,"input-placeholder":e.$str("enter_topics","totara_engage")},on:{change:function(t){return e.$emit("change",t)}}})],1)}),[],!1,null,null,null);"function"==typeof d&&d(u),u.options.__hasBlocks={script:!0,template:!0};t.default=u.exports},WqfG:function(e,t,i){"use strict";var n=i("QwsQ");i.n(n).a},"X2d+":function(e,t,i){},X9R4:function(e,t,i){},XHhP:function(e,t,i){},Xcst:function(e,t,i){"use strict";var n=i("vsT3");i.n(n).a},Xi9X:function(e,t){e.exports=tui.require("tui/components/avatar/Avatar")},YMfc:function(e,t){e.exports=tui.require("tui/components/tag/Tag")},YqQ4:function(e,t){e.exports=tui.require("tui/components/icons/SizeExpand")},YtVC:function(e,t,i){"use strict";var n=i("O+Pg");i.n(n).a},Yv9h:function(e,t,i){},ZuWw:function(e,t,i){},a2CH:function(e,t,i){"use strict";var n=i("ggGG");i.n(n).a},aMhK:function(e,t,i){},aQTg:function(e,t,i){"use strict";i.r(t);var n=i("G6cq"),a=i.n(n),r=i("VX2K"),s=i.n(r),o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_engage_time_view_options"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"options"},name:{kind:"Name",value:"totara_engage_time_view_options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]}]}}]}}]},l={components:{RadioGroup:a.a,Radio:s.a},props:{selectedTime:{type:String,default:null},name:{type:String,default(){return this.$id("time-view-setting")}},required:Boolean,ariaLabelledby:String},apollo:{options:{query:o}},data(){return{options:[],time:this.selectedTime}},watch:{time(e){this.$emit("change",e)}}},c=i("KHd+"),d=Object(c.a)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("RadioGroup",{staticClass:"tui-timeViewSelector",attrs:{name:e.name,required:e.required,"aria-labelledby":e.ariaLabelledby},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}},e._l(e.options,(function(t,n){return i("Radio",{key:n,attrs:{name:e.name,value:t.value}},[e._v("\n    "+e._s(t.label)+"\n  ")])})),1)}),[],!1,null,null,null);d.options.__hasBlocks={script:!0,template:!0};t.default=d.exports},aR0W:function(e,t){e.exports=tui.require("totara_engage/components/card/Footnotes")},aTrC:function(e,t,i){"use strict";var n=i("vQzJ");i.n(n).a},aW9u:function(e,t,i){"use strict";i.r(t);var n={props:{value:Object},watch:{value:{handler(e,t){window.removeEventListener("beforeunload",this.$_unloadHandler),e!=t&&window.addEventListener("beforeunload",this.$_unloadHandler)},immediate:!0}},beforeDestroy(){window.removeEventListener("beforeunload",this.$_unloadHandler)},methods:{$_unloadHandler(e){e.preventDefault();const t=this.$str("unsaved_changes_warning","totara_engage");return e.returnValue=t,t}},render:()=>null},a=i("KHd+"),r=function(e){e.options.__langStrings={totara_engage:["unsaved_changes_warning"]}},s=Object(a.a)(n,void 0,void 0,!1,null,null,null);"function"==typeof r&&r(s),s.options.__hasBlocks={script:!0,template:!1};t.default=s.exports},ablV:function(e,t,i){"use strict";i.r(t);var n=i("kPKX"),a=i.n(n),r=i("DW3S"),s=i.n(r),o=i("zEvk"),l=i("H/tB"),c=i.n(l);const d=Object.prototype.hasOwnProperty;var u={components:{Layout:a.a,NavigationPanel:s.a},props:{id:{type:String,required:!0},title:{type:String,required:!0},content:{type:Object,required:!0,validator:e=>Object(o.validatePageComponent)(e)},sidePanel:{type:Object,required:!1,validator:e=>Object(o.validatePageComponent)(e)},pageProps:{type:Object,default:()=>({})}},data:()=>({libraryBreakpoints:[{name:"xs",boundaries:[0,364]},{name:"s",boundaries:[365,768]},{name:"m",boundaries:[769,1192]},{name:"l",boundaries:[1193,1672]}],libraryBoundaries:{xs:{gridDirection:"vertical",gridUnitsOuterLeftExpanded:6,gridUnitsOuterLeftCollapsed:11,gridUnitsOuterRightExpanded:6,gridUnitsOuterRightCollapsed:1,gridUnitsInnerLeftExpanded:10,gridUnitsInnerLeftCollapsed:10,gridUnitsInnerRightExpanded:12,gridUnitsInnerRightCollapsed:2},s:{gridDirection:"vertical",gridUnitsOuterLeftExpanded:6,gridUnitsOuterLeftCollapsed:11,gridUnitsOuterRightExpanded:6,gridUnitsOuterRightCollapsed:1,gridUnitsInnerLeftExpanded:10,gridUnitsInnerLeftCollapsed:10,gridUnitsInnerRightExpanded:12,gridUnitsInnerRightCollapsed:2},m:{gridDirection:"horizontal",gridUnitsOuterLeftExpanded:3,gridUnitsOuterLeftCollapsed:1,gridUnitsOuterRightExpanded:9,gridUnitsOuterRightCollapsed:1,gridUnitsInnerLeftExpanded:6,gridUnitsInnerLeftCollapsed:11,gridUnitsInnerRightExpanded:6,gridUnitsInnerRightCollapsed:1},l:{gridDirection:"horizontal",gridUnitsOuterLeftExpanded:2,gridUnitsOuterLeftCollapsed:1,gridUnitsOuterRightExpanded:10,gridUnitsOuterRightCollapsed:1,gridUnitsInnerLeftExpanded:6,gridUnitsInnerLeftCollapsed:11,gridUnitsInnerRightExpanded:6,gridUnitsInnerRightCollapsed:1}}}),computed:{showRightSidePanel(){return!!this.sidePanel}},created(){this.$_loadTuiComponents(this.content),this.sidePanel&&this.$_loadTuiComponents(this.sidePanel)},methods:{$_loadTuiComponents({component:e,tuicomponent:t}){d.call(this.$options.components,e)||(this.$options.components[e]=c.a.asyncComponent(t))}}},m=i("KHd+"),p=Object(m.a)(u,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tui-libraryView"},[i("Layout",{attrs:{breakpoints:e.libraryBreakpoints,boundaries:e.libraryBoundaries,"default-boundary":"l","stack-at":585,"show-right-side-panel":e.showRightSidePanel,"right-side-panel-animated":!0,"right-side-panel-sticky":!0,"right-side-panel-overflows":!0,"show-left-side-panel":!0,"show-left-side-panel-control":!1,"left-side-panel-initially-open":!0,"left-side-panel-sticky":!1,"left-side-panel-overflows":!0},scopedSlots:e._u([{key:"sidePanelLeft",fn:function(t){var n=t.units,a=t.gridDirection;return[i("NavigationPanel",{attrs:{"selected-id":e.id,values:e.pageProps,title:e.title,units:n,"grid-direction":a,redirection:e.pageProps.redirection}})]}},{key:"column",fn:function(t){var n=t.units,a=t.gridDirection;return[i(e.content.component,{tag:"component",attrs:{"page-id":e.id,"page-props":e.pageProps,units:n,"grid-direction":a}})]}},e.showRightSidePanel?{key:"sidePanelRight",fn:function(t){var n=t.units,a=t.gridDirection;return[i(e.sidePanel.component,{tag:"component",attrs:{"page-id":e.id,"page-props":e.pageProps,units:n,"grid-direction":a}})]}}:null],null,!0)})],1)}),[],!1,null,null,null);p.options.__hasBlocks={script:!0,template:!0};t.default=p.exports},ao90:function(e,t,i){"use strict";i.r(t);var n=i("vF5l"),a=i.n(n),r=i("jJ8l"),s=i.n(r),o=i("YMfc"),l=i.n(o),c=i("t+cO"),d={components:{Button:a.a,Card:s.a,Tag:l.a},props:{receipts:{type:Object,default:()=>({people:[],workspaces:[]})}},data:()=>({showReceipts:!1}),apollo:{features:{query:c.a}},computed:{receiptsLangstring(){return{people:this.receipts.people.length,workspaces:this.receipts.workspaces.length}},computedReceipts(){return this.receipts.people.concat(this.receipts.workspaces)},featureWorkspaces(){return this.features&&this.features.workspaces},sharedWithLabel(){return this.$str(this.featureWorkspaces?"sharedwithpeopleworkspaces":"sharedwithpeople","totara_engage",this.receiptsLangstring)}}},u=(i("onrO"),i("KHd+")),m=function(e){e.options.__langStrings={core:["hide","show"],totara_engage:["sharedwith","sharedwithpeople","sharedwithpeopleworkspaces"]}},p=Object(u.a)(d,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"sharedBoard",staticClass:"tui-engageSharedBoardForm"},[i("div",{ref:"sharedBoardInfo"},[i("p",{staticClass:"tui-engageSharedBoardForm__label"},[e._v("\n      "+e._s(e.sharedWithLabel)+"\n    ")]),e._v(" "),e.computedReceipts.length?i("Button",{attrs:{"aria-expanded":e.showReceipts,"aria-label":e.$str("sharedwith","totara_engage"),text:e.$str(e.showReceipts?"hide":"show","core"),styleclass:{small:"true",transparent:"true"}},on:{click:function(t){e.showReceipts=!e.showReceipts}}}):e._e()],1),e._v(" "),e.showReceipts?i("Card",{staticClass:"tui-engageSharedBoardForm__content"},[i("div",{staticClass:"tui-engageSharedBoardForm__contentContainer"},e._l(e.computedReceipts,(function(e,t){return i("ul",{key:"shareBoardReceipt_"+t,staticClass:"tui-engageSharedBoardForm__contentTags"},[i("li",[i("Tag",{attrs:{text:e}})],1)])})),0)]):e._e()],1)}),[],!1,null,null,null);"function"==typeof m&&m(p),p.options.__hasBlocks={script:!0,template:!0};t.default=p.exports},avcD:function(e,t){e.exports=tui.require("tui/components/icons/AccessPublic")},bUOz:function(e,t,i){},bYkL:function(e,t){e.exports=tui.require("tui/components/adder/Adder")},bl7v:function(e,t){e.exports=tui.require("totara_reaction/components/SidePanelLike")},"bp+r":function(e,t){e.exports=tui.require("totara_engage/components/modal/ContributeModal")},"cda/":function(e,t,i){"use strict";i.r(t);var n=i("nEm4"),a=i.n(n),r=i("BN8m"),s=i.n(r),o=i("vF5l"),l=i.n(o),c=i("nXMa"),d=i.n(c),u=i("WBvU"),m=i("rLBA"),p=i.n(m),g=i("MBDo"),h=i.n(g),v=i("3Jh+"),f=i.n(v),_=i("RiT/"),k=i.n(_),b=i("/Fxc"),y=i.n(b),S=i("tyu8"),N=i("12HA"),C=i("Gur8"),x=i("4Lp8"),w=i.n(x),B=i("QMBZ"),R=i.n(B),A=i("FerE"),T=i.n(A);const I=Array.prototype.slice;var O={components:{FormRow:u.FormRow,AccessSelector:k.a,RecipientsSelector:f.a,Form:a.a,ButtonGroup:s.a,Button:l.a,LoadingButton:p.a,CancelButton:d.a,TopicsSelector:h.a,TimeViewSelector:R.a,SharedBoard:y.a},mixins:[w.a],apollo:{sharedTo:{query:C.a,variables(){return this.shareToVariables},update:({recipients:e})=>e.reduce((e,t)=>(t.user&&e.people.push(t.user.fullname),t.other&&e.workspaces.push(t.other.fullname),e),{people:[],workspaces:[]}),skip(){return"container_workspace"===this.shareToVariables.component||"0"===String(this.shareToVariables.itemid)}}},props:{showBack:Boolean,itemId:{type:[Number,String],required:!0},component:{type:String,required:!0},selectedAccess:{type:String,default:null,validator:e=>S.AccessManager.isValid(e)},selectedTimeView:{type:String,default:null,validator:e=>S.TimeViewType.isValid(e)},selectedOptions:{type:Object,default:()=>({shares:[],topics:[]})},submitting:{type:Boolean,default:!1},publicDisabled:{type:Boolean,default:!1},restrictedDisabled:{type:Boolean,default:!1},privateDisabled:{type:Boolean,default:!1},doneButtonText:{type:String,default(){return this.$str("done","totara_engage")}},enableTimeView:{type:Boolean,default:!1}},data(){return{access:this.selectedAccess,selectedRecipients:I.call(this.selectedOptions.shares),selectedTime:this.selectedTimeView,selectedTopics:I.call(this.selectedOptions.topics),sharedTo:{people:[],workspaces:[]}}},computed:{shareToVariables(){return{itemid:this.containerValues.instanceId||this.itemId,component:this.containerValues.component||this.component,theme:N.config.theme.name}},disabled(){return!(this.access&&!this.submitting&&(!this.enableTimeView||this.selectedTime||this.accessPrivate))||(this.accessPublic?0>=this.selectedTopics.length:!!this.accessRestricted&&(!(this.sharedTo.people.length>0||this.sharedTo.workspaces.length>0)&&0>=this.selectedRecipients.length))},accessPublic(){return null!==this.access&&S.AccessManager.isPublic(this.access)},accessRestricted(){return null!==this.access&&S.AccessManager.isRestricted(this.access)},accessPrivate(){return null===this.access||S.AccessManager.isPrivate(this.access)},optionsWrapperCss(){return this.accessPrivate?"tui-engageAccessForm__access--withoutTagLists":"tui-engageAccessForm__access--withTagLists"},timeViewVisible(){return!this.accessPrivate&&this.enableTimeView}},mounted(){this.$apollo.queries.sharedTo.refetch()},methods:{removeTopic({id:e}){this.selectedTopics=this.selectedTopics.filter(t=>e!==t.id)},removeRecipient(e){this.selectedRecipients=this.selectedRecipients.filter(t=>!T.a.compareRecipients(t,e))},done(){this.accessPublic||(this.selectedTopics=[]),this.accessPrivate&&(this.selectedRecipients=[],this.selectedTime=null),this.$emit("done",{access:this.access,shares:this.selectedRecipients.map(e=>({instanceid:e.instanceid,component:e.component,area:e.area})),timeView:this.selectedTime,topics:this.selectedTopics})}}},V=(i("3ERu"),i("KHd+")),L=function(e){e.options.__langStrings={core:["back"],totara_core:["settings"],totara_engage:["done","whocansee","timetoread"]}},F=Object(V.a)(O,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("Form",{staticClass:"tui-engageAccessForm",attrs:{vertical:!0,"input-width":"full"},on:{submit:function(t){t.preventDefault(),e.disabled||e.done()}}},[i("div",{class:["tui-engageAccessForm__options",e.optionsWrapperCss]},[i("FormRow",{attrs:{label:e.$str("whocansee","totara_engage")},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.id,a=t.labelId;return[i("AccessSelector",{attrs:{id:n,"aria-labelledby":a,"selected-access":e.access,"private-disabled":e.privateDisabled,"public-disabled":e.publicDisabled,"restricted-disabled":e.restrictedDisabled},on:{change:function(t){e.access=t}}})]}}])}),e._v(" "),e.timeViewVisible?i("FormRow",{staticClass:"tui-engageAccessForm__time",attrs:{label:e.$str("timetoread","totara_engage")},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.id,a=t.labelId;return[i("TimeViewSelector",{attrs:{id:n,"selected-time":e.selectedTime,"aria-labelledby":a},on:{change:function(t){e.selectedTime=t}}})]}}],null,!1,1029876747)}):e._e()],1),e._v(" "),e.accessPrivate?e._e():i("div",{staticClass:"tui-engageAccessForm__tagLists"},[e.accessPublic?i("TopicsSelector",{staticClass:"tui-engageAccessForm__tagList",attrs:{"selected-topics":e.selectedTopics},on:{change:function(t){e.selectedTopics=t}}}):e._e(),e._v(" "),i("RecipientsSelector",{staticClass:"tui-engageAccessForm__tagList",attrs:{"item-id":e.itemId,component:e.component,access:e.access,"selected-users":e.selectedRecipients,container:e.container},on:{"pick-recipient":function(t){return e.selectedRecipients.push(t)},"remove-recipient":e.removeRecipient}}),e._v(" "),i("SharedBoard",{attrs:{receipts:e.sharedTo}})],1),e._v(" "),i("div",{staticClass:"tui-engageAccessForm__buttons"},[i("ButtonGroup",[i("Button",{directives:[{name:"show",rawName:"v-show",value:e.showBack,expression:"showBack"}],staticClass:"tui-engageAccessForm__back",attrs:{text:e.$str("back","core"),disabled:e.submitting},on:{click:function(t){return e.$emit("back")}}})],1),e._v(" "),i("ButtonGroup",[i("LoadingButton",{attrs:{loading:e.submitting,primary:!0,disabled:e.disabled,text:e.doneButtonText},on:{click:e.done}}),e._v(" "),i("CancelButton",{attrs:{disabled:e.submitting},on:{click:function(t){return e.$emit("cancel")}}})],1)],1)])}),[],!1,null,null,null);"function"==typeof L&&L(F),F.options.__hasBlocks={script:!0,template:!0};t.default=F.exports},dEMw:function(e,t,i){"use strict";i.r(t),t.default={props:{container:{type:Object,default:null,validator:e=>{const t=["instanceId","component","access"].every(t=>t in e);return e.autoShareRecipient?["area","name"].every(t=>t in e):t}}},computed:{containerValues(){const{instanceId:e,component:t,access:i,area:n,name:a}=this.container||{};return{instanceId:e,component:t,access:i,area:n,name:a}}}}},"dNg+":function(e,t,i){},dafN:function(e,t,i){"use strict";var n=i("3ReM");i.n(n).a},dtfu:function(e,t){e.exports=tui.require("tui/components/responsive/Responsive")},e3MU:function(e,t){e.exports=tui.require("tui/components/buttons/InfoIconButton")},e8t2:function(e,t,i){},ebPa:function(e,t,i){"use strict";var n=i("4lk8");i.n(n).a},fPwS:function(e,t){e.exports=tui.require("tui/components/icons/Loading")},fwzH:function(e,t,i){},g7zI:function(e,t,i){"use strict";var n=i("Yv9h");i.n(n).a},gLvT:function(e,t){e.exports=tui.require("tui/components/dropdown/Dropdown")},gMjL:function(e,t,i){"use strict";i.r(t);var n=i("hNvV");t.default={props:{instanceId:{required:!0,type:[String,Number]},name:{type:String},summary:{type:String},access:{required:!0,type:String,validator:e=>n.default.isValid(e)},timeCreated:{required:!0,type:String},extra:{type:String},topics:{type:Array},rating:{required:!0,type:[Number,String]},bookmarked:{type:Boolean,default:!1},numberOfPeopleRated:{type:[Number,String],default:0},totalComments:{required:!0,type:[Number,String]},totalReactions:{required:!0,type:[Number,String]},sharedbycount:{required:!0,type:[Number,String]},owned:{type:Boolean,default:!1},userFullName:{type:String,required:!0},userId:{type:[String,Number],required:!0},userProfileImageUrl:{type:String,required:!0},userProfileImageAlt:{type:String,default:""},showFootnotes:{type:Boolean,default:!1},footnotes:{type:Array,required:!1},labelId:{type:String,default:""},url:{type:String,default:""}},methods:{emitUpdated(){this.$emit("updated",{instanceId:this.instanceId})},emitDeleted(){this.$emit("deleted",{instanceId:this.instanceId})}}}},gRyG:function(e,t,i){"use strict";i.r(t);var n=i("59Wj"),a=i.n(n),r=i("49h4"),s=i.n(r),o=i("FBvN"),l=i.n(o),c={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_engage_get_filter_options"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"component"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"area"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_area"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"accesses"},name:{kind:"Name",value:"totara_engage_filter_options"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filtertype"},value:{kind:"EnumValue",value:"ACCESS"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"types"},name:{kind:"Name",value:"totara_engage_filter_options"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filtertype"},value:{kind:"EnumValue",value:"TYPE"}},{kind:"Argument",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"component"}}},{kind:"Argument",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"area"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"topics"},name:{kind:"Name",value:"totara_topic_system_topics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"sorts"},name:{kind:"Name",value:"totara_engage_filter_options"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filtertype"},value:{kind:"EnumValue",value:"SORT"}},{kind:"Argument",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"component"}}},{kind:"Argument",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"area"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"sections"},name:{kind:"Name",value:"totara_engage_filter_options"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filtertype"},value:{kind:"EnumValue",value:"SECTION"}},{kind:"Argument",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"component"}}},{kind:"Argument",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"area"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]},d={components:{FilterBar:a.a,SelectFilter:s.a,SearchFilter:l.a},props:{hasBottomBar:Boolean,hasTopBar:Boolean,component:{type:String,required:!0},area:{type:String,required:!0},showAccess:{type:Boolean,default:!0},showType:{type:Boolean,default:!0},showTopic:{type:Boolean,default:!0},showSort:{type:Boolean,default:!0},showSection:{type:Boolean,default:!1},showSearch:{type:Boolean,default:!1},searchPlaceholder:{type:String,required:!1},value:{type:[Array,Object],required:!0},initialFilters:{type:Object,required:!1,default:null}},data(){return{sortLabel:this.$str("sortby","core"),filter:this.initialFilters,selection:{access:this.value.access,type:this.value.type,topic:this.value.topic,section:this.value.section,search:this.value.search}}},apollo:{filter:{query:c,variables(){return{component:this.component,area:this.area}},skip(){return null!==this.initialFilters},update({accesses:e,types:t,topics:i,sorts:n,sections:a}){return(i=i.map(({id:e,value:t})=>({id:e,value:e,label:t}))).unshift({id:null,label:this.$str("all","core")}),{access:{options:e.options,label:e.label},type:{options:t.options,label:t.label},topic:{options:i,label:this.$str("filtertopic","totara_engage")},sort:{options:n.options,sort:n.label},section:{options:a.options,label:a.label}}}}},computed:{access:{get(){return this.value.access},set(e){this.$emit("access",{value:e})}},type:{get(){return this.value.type},set(e){this.$emit("type",{value:e})}},topic:{get(){return this.value.topic},set(e){this.$emit("topic",{value:e})}},sort:{get(){return this.value.sort},set(e){this.$emit("sort",{value:e})}},section:{get(){return this.value.section},set(e){this.$emit("section",{value:e})}},search:{get(){return this.value.search},set(e){this.$emit("search",{value:e})}}}},u=(i("/NyT"),i("KHd+")),m=function(e){e.options.__langStrings={core:["all","sortby"],totara_engage:["filteraccess","filterbartitle","filtertype","filtertopic","filtersection","filtersearch","searchlibrary"]}},p=Object(u.a)(d,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"tui-contributionFilter"},[e.$apollo.loading?e._e():[i("FilterBar",{attrs:{"has-bottom-bar":e.hasBottomBar,"has-top-bar":e.hasTopBar,title:e.$str("filterbartitle","totara_engage")},scopedSlots:e._u([{key:"filters-left",fn:function(t){var n=t.stacked;return[e.showAccess?i("SelectFilter",{attrs:{id:"filter_access",label:e.$str("filteraccess","totara_engage"),"show-label":!0,options:e.filter.access.options,stacked:n},model:{value:e.access,callback:function(t){e.access=t},expression:"access"}}):e._e(),e._v(" "),e.showType?i("SelectFilter",{attrs:{id:"filter_type",label:e.$str("filtertype","totara_engage"),"show-label":!0,options:e.filter.type.options,stacked:n},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}}):e._e(),e._v(" "),e.showTopic?i("SelectFilter",{attrs:{id:"filter_topic",label:e.$str("filtertopic","totara_engage"),"show-label":!0,options:e.filter.topic.options,stacked:n},model:{value:e.topic,callback:function(t){e.topic=t},expression:"topic"}}):e._e(),e._v(" "),e.showSection?i("SelectFilter",{attrs:{id:"filter_section",label:e.$str("filtersection","totara_engage"),"show-label":!0,options:e.filter.section.options,stacked:n},model:{value:e.section,callback:function(t){e.section=t},expression:"section"}}):e._e()]}},{key:"filters-right",fn:function(){return[e.showSearch?i("SearchFilter",{attrs:{"drop-label":!0,label:e.$str("filtersearch","totara_engage"),"aria-label":e.$str("filtersearch","totara_engage"),placeholder:e.searchPlaceholder},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}):e._e()]},proxy:!0}],null,!1,2211123646),model:{value:e.selection,callback:function(t){e.selection=t},expression:"selection"}}),e._v(" "),e.showSort?i("div",{staticClass:"tui-contributionFilter__sort"},[i("SelectFilter",{attrs:{label:e.$str("sortby","core"),"show-label":!0,options:e.filter.sort.options},model:{value:e.sort,callback:function(t){e.sort=t},expression:"sort"}})],1):e._e()]],2)}),[],!1,null,null,null);"function"==typeof m&&m(p),p.options.__hasBlocks={script:!0,template:!0};t.default=p.exports},ggGG:function(e,t,i){},grGL:function(e,t){e.exports=tui.require("totara_engage/components/contribution/Contribute")},gx4b:function(e,t,i){},"h+IK":function(e,t,i){"use strict";i.r(t);var n=i("grGL"),a=i.n(n),r=i("bp+r"),s=i.n(r),o=i("oQSm"),l=i.n(o),c={components:{Contribute:a.a,ContributeModal:s.a},mixins:[l.a],computed:{showNotification(){return!Object.keys(this.values).includes("showNotification")||this.values.showNotification}},methods:{getLinkClasses(e){let t=this.getNavigationLinkClass(e,0);return t["tui-navigationYourResources"]=!0,t},selectYourResourcesFilter(){this.$emit("library-filter-selected",{filterId:"yourresources"})}}},d=(i("ebPa"),i("KHd+")),u=function(e){e.options.__langStrings={totara_engage:["yourresources"]}},m=Object(d.a)(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.getLinkClasses("yourresources")},[i("a",{staticClass:"tui-engageNavigationPanel__link-text",attrs:{href:e.$url("/totara/engage/your_resources.php")}},[e._v("\n    "+e._s(e.$str("yourresources","totara_engage"))+"\n  ")]),e._v(" "),e.showContribute?i("Contribute",{attrs:{"show-text":!1,"show-icon":!0,styleclass:{circle:!0,xsmall:!0,primary:!1}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("ContributeModal",{attrs:{"exclude-modals":["totara_playlist"],"show-notification":e.showNotification}})]},proxy:!0}],null,!1,2945787301)}):e._e()],1)}),[],!1,null,null,null);"function"==typeof u&&u(m),m.options.__hasBlocks={script:!0,template:!0};t.default=m.exports},hNLq:function(e,t,i){},hNvV:function(e,t,i){"use strict";i.r(t),t.default={PUBLIC:"PUBLIC",PRIVATE:"PRIVATE",RESTRICTED:"RESTRICTED",isPublic(e){return this.PUBLIC===e},isPrivate(e){return this.PRIVATE===e},isRestricted(e){return this.RESTRICTED===e},isValid(e){return[this.PUBLIC,this.PRIVATE,this.RESTRICTED].includes(e)}}},hoSh:function(e,t,i){"use strict";i.r(t);var n=i("gLvT"),a=i.n(n),r=i("KGcv"),s=i.n(r),o=i("sxi1"),l=i.n(o),c=i("5h9J"),d=i.n(c),u={components:{Dropdown:a.a,DropdownItem:s.a,MoreIcon:l.a,ButtonIcon:d.a},props:{position:String,open:Boolean,actions:{type:Array,validator:e=>0===Array.prototype.filter.call(e,e=>!("label"in e)||!("action"in e)).length}}},m=i("KHd+"),p=function(e){e.options.__langStrings={totara_engage:["more"]}},g=Object(m.a)(u,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("Dropdown",{attrs:{position:e.position,open:e.open},scopedSlots:e._u([{key:"trigger",fn:function(t){var n=t.toggle,a=t.isOpen;return[e._t("trigger",[i("ButtonIcon",{attrs:{"aria-expanded":a?"true":"false","aria-label":e.$str("more","totara_engage"),styleclass:{small:!0,transparentNoPadding:!0}},on:{click:n}},[i("MoreIcon",{attrs:{size:"300"}})],1)],{toggle:n})]}}],null,!0)},[e._v(" "),e._t("dropdown-items",e._l(e.actions,(function(t,n){var a=t.action,r=t.label;return i("DropdownItem",{key:n,on:{click:a}},[e._v("\n      "+e._s(r)+"\n    ")])})))],2)}),[],!1,null,null,null);"function"==typeof p&&p(g),g.options.__hasBlocks={script:!0,template:!0};t.default=g.exports},i3se:function(e,t){e.exports=tui.require("tui/theme")},ixxs:function(e,t){e.exports=tui.require("tui/components/icons/Show")},j2cw:function(e,t,i){},jJ8l:function(e,t){e.exports=tui.require("tui/components/card/Card")},jfAl:function(e,t,i){"use strict";var n=i("TYa8");i.n(n).a},jxIO:function(e,t,i){},k0Iz:function(e,t,i){"use strict";i.r(t);var n=i("G6cq"),a=i.n(n),r=i("VX2K"),s=i.n(r),o=i("tyu8"),l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_engage_access_options"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"options"},name:{kind:"Name",value:"totara_engage_access_options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]}]}}]}}]},c={components:{RadioGroup:a.a,Radio:s.a},props:{publicDisabled:{type:Boolean,default:!1},restrictedDisabled:{type:Boolean,default:!1},privateDisabled:{type:Boolean,default:!1},selectedAccess:{type:String,default:null,validator:e=>o.AccessManager.isValid(e)},required:{type:Boolean,default:!0},name:{type:String,default(){return this.$id("access-seting")}},ariaLabelledby:String},apollo:{options:{query:l}},data(){return{options:[],access:this.selectedAccess}},watch:{access(e){this.$emit("change",e)}},methods:{isDisabled(e){return o.AccessManager.isPublic(e)?this.publicDisabled:o.AccessManager.isRestricted(e)?this.restrictedDisabled:this.privateDisabled}}},d=i("KHd+"),u=Object(d.a)(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("RadioGroup",{staticClass:"tui-accessSelector",attrs:{name:e.name,required:e.required,"aria-labelledby":e.ariaLabelledby},model:{value:e.access,callback:function(t){e.access=t},expression:"access"}},e._l(e.options,(function(t,n){return i("Radio",{key:n,attrs:{name:e.name,value:t.value,disabled:e.isDisabled(t.value)}},[e._v("\n    "+e._s(t.label)+"\n  ")])})),1)}),[],!1,null,null,null);u.options.__hasBlocks={script:!0,template:!0};t.default=u.exports},k4tn:function(e,t,i){},kPKX:function(e,t){e.exports=tui.require("totara_engage/components/page/LayoutOneColumnWithMultiSidePanel")},khcT:function(e,t){e.exports=tui.require("tui/components/icons/Time")},lLj0:function(e,t){e.exports=tui.require("tui/components/icons/Warning")},mJiS:function(e,t,i){"use strict";var n=i("OSeL");i.n(n).a},"mO/9":function(e,t){e.exports=tui.require("tui/components/icons/AccessPrivate")},mURQ:function(e,t){e.exports=tui.require("tui/components/datatable/SelectTable")},mYRU:function(e,t,i){"use strict";i.r(t);var n=i("jJ8l"),a=i.n(n),r=i("aR0W"),s=i.n(r),o={components:{CoreCard:a.a,Footnotes:s.a},props:{href:{type:String,default:"#"},showFootnotes:{type:Boolean,default:!1},footnotes:{type:Array,required:!1}},methods:{hover(e){e?this.$emit("mouseover"):this.$emit("mouseleave")},handleClick(e){window.location.href=e}}},l=(i("IHWR"),i("KHd+")),c=Object(l.a)(o,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("article",{staticClass:"tui-engageBaseCard"},[i("CoreCard",{staticClass:"tui-engageBaseCard__card",attrs:{clickable:!0},on:{click:function(t){return e.handleClick(e.href)}},nativeOn:{mouseover:function(t){return e.hover(!1)},mouseleave:function(t){return e.hover(!1)}}},[i("div",{staticClass:"tui-engageBaseCard__headerImage"},[e._t("header-image")],2),e._v(" "),i("div",{staticClass:"tui-engageBaseCard__description"},[i("div",[e._t("header")],2),e._v(" "),i("div",{staticClass:"tui-engageBaseCard__infoContent"},[e._t("info-content")],2),e._v(" "),i("div",[e._t("footer")],2)])]),e._v(" "),e.showFootnotes?i("Footnotes",{attrs:{footnotes:e.footnotes}}):e._e()],1)}),[],!1,null,null,null);c.options.__hasBlocks={script:!0,template:!0};t.default=c.exports},nEm4:function(e,t){e.exports=tui.require("tui/components/form/Form")},nMBh:function(e,t,i){"use strict";var n=i("CBaH");i.n(n).a},nVjy:function(e,t,i){},nXMa:function(e,t){e.exports=tui.require("tui/components/buttons/Cancel")},nkRd:function(e,t,i){"use strict";i.r(t);var n=i("mO/9"),a=i.n(n),r={functional:!0,components:{AccessPrivate:a.a},props:{alt:String,size:[String,Number],title:String,coloring:{type:Boolean,default:!0}},render(e,{props:t}){let i=[];i.push("tui-engageIconPrivate"),t.coloring&&i.push("tui-engageIconPrivate--color");let n={alt:t.alt,customClass:i,size:t.size,title:t.title};return e(a.a,{props:n})}},s=(i("xHYB"),i("KHd+")),o=Object(s.a)(r,void 0,void 0,!1,null,null,null);o.options.__hasBlocks={script:!0,template:!1};t.default=o.exports},nmSy:function(e,t,i){},o0tL:function(e,t,i){"use strict";i.r(t);var n=i("NbNJ"),a=i.n(n),r=i("G7Yv"),s=i.n(r),o=i("oQSm"),l=i.n(o),c={components:{SearchLibrary:a.a,YourResources:s.a},mixins:[l.a],props:{redirection:Boolean},methods:{selectSharedWithYouFilter(){this.$emit("library-filter-selected",{filterId:"sharedwithyou"})},selectSavedResourcesFilter(){this.$emit("library-filter-selected",{filterId:"savedresources"})}}},d=i("KHd+"),u=function(e){e.options.__langStrings={totara_engage:["sharedwithyou","savedresources","yourresources"]}},m=Object(d.a)(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",[i("SearchLibrary",{attrs:{"selected-id":e.selectedId,values:e.values,redirection:e.redirection}}),e._v(" "),i("h3",{staticClass:"sr-only"},[e._v(e._s(e.$str("yourresources","totara_engage")))]),e._v(" "),i("YourResources",{attrs:{"selected-id":e.selectedId,values:e.values,"show-contribute":e.showContribute}}),e._v(" "),i("div",{class:e.getNavigationLinkClass("sharedwithyou",1)},[i("a",{staticClass:"tui-engageNavigationPanel__link-text",attrs:{href:e.$url("/totara/engage/shared_with_you.php")}},[e._v("\n      "+e._s(e.$str("sharedwithyou","totara_engage"))+"\n    ")])]),e._v(" "),i("div",{class:e.getNavigationLinkClass("savedresources",2)},[i("a",{staticClass:"tui-engageNavigationPanel__link-text",attrs:{href:e.$url("/totara/engage/saved_resources.php")}},[e._v("\n      "+e._s(e.$str("savedresources","totara_engage"))+"\n    ")])])],1)}),[],!1,null,null,null);"function"==typeof u&&u(m),m.options.__hasBlocks={script:!0,template:!0};t.default=m.exports},o5qV:function(e,t,i){"use strict";i.r(t);var n=i("HSAV"),a=i.n(n),r=i("oQSm"),s=i.n(r),o={components:{SearchBox:a.a},mixins:[s.a],props:{redirection:Boolean},data(){return{searchValue:this.values.search||""}},methods:{searchInput(e){this.searchValue=e},submit(){window.location.href=this.$url("/totara/engage/search_results.php",{search:this.searchValue})},clearSearchInput(){this.redirection&&(window.location.href=this.$url("/totara/engage/search_results.php",{search:""}))}}},l=(i("nMBh"),i("KHd+")),c=function(e){e.options.__langStrings={totara_engage:["searchlibrary","searchresultsdetail"]}},d=Object(l.a)(o,(function(){var e=this.$createElement;return(this._self._c||e)("SearchBox",{staticClass:"tui-engageNavigationPanelSearchLibrary",attrs:{value:this.searchValue,"drop-label":!0,disabled:!1,"aria-label":this.$str("searchlibrary","totara_engage"),placeholder:this.$str("searchlibrary","totara_engage"),"enable-clear-icon":!0},on:{clear:this.clearSearchInput,input:this.searchInput,submit:this.submit}})}),[],!1,null,null,null);"function"==typeof c&&c(d),d.options.__hasBlocks={script:!0,template:!0};t.default=d.exports},oB6E:function(e,t){e.exports=tui.require("tui/components/icons/Share")},oQSm:function(e,t){e.exports=tui.require("totara_engage/mixins/navigation_mixin")},oRlt:function(e,t,i){"use strict";i.r(t);var n=i("99/I"),a=i.n(n),r={functional:!0,components:{AccessRestricted:a.a},props:{alt:String,size:[String,Number],title:String,coloring:{type:Boolean,default:!0}},render(e,{props:t}){let i=[];i.push("tui-engageIconRestricted"),t.coloring&&i.push("tui-engageIconRestricted--color");let n={alt:t.alt,customClass:i,size:t.size,title:t.title};return e(a.a,{props:n})}},s=(i("3JY2"),i("KHd+")),o=Object(s.a)(r,void 0,void 0,!1,null,null,null);o.options.__hasBlocks={script:!0,template:!1};t.default=o.exports},oRr7:function(e,t,i){"use strict";i.r(t);var n=i("dtfu"),a=i.n(n),r=i("NAOU"),s=i.n(r),o=i("D9If"),l=i.n(o),c=i("tyu8"),d=i("4ky8"),u=i.n(d),m=i("i3se"),p=i.n(m),g=i("R5BP"),h=i.n(g),v=i("JXQf"),f=i.n(v),_={components:{Responsive:a.a,CoreGrid:s.a,GridItem:l.a,EngageCard:u.a,VirtualScroll:h.a,PageLoader:f.a},inheritAttrs:!1,props:{maxUnits:{type:[String,Number],validator:e=>e>0,default:()=>p.a.getVar("grid-maxunits")},cards:{required:!0,type:Array},showFootnotes:{type:Boolean,default:!1},isLoading:{type:Boolean,required:!0}},data:()=>({size:"large"}),computed:{gridSize(){return c.engageGrid[this.size]},itemsPerRow(){let e=Math.floor(this.maxUnits/this.gridSize.cardUnits),t=this.gridSize.maxItemsPerRow;return e>t?t:e},rows(){return Object(c.calculateRow)(this.cards,this.itemsPerRow)},cardUnits(){return this.maxUnits/this.itemsPerRow},gridDirection(){return this.gridSize.direction},breakPoints:()=>Object.values(c.engageGrid).map(({name:e,boundaries:t})=>({name:e,boundaries:t}))},methods:{handleResize(e){this.size=e},scrolledToBottom(){this.$emit("scrolledtobottom")}}},k=(i("x/v0"),i("KHd+")),b=function(e){e.options.__langStrings={totara_engage:["items_list"]}},y=Object(k.a)(_,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("Responsive",{staticClass:"tui-engageCardsGrid",attrs:{breakpoints:e.breakPoints},on:{"responsive-resize":e.handleResize}},[i("VirtualScroll",{attrs:{"data-key":"index","data-list":e.rows,"page-mode":!0,"aria-label":e.$str("items_list","totara_engage"),"is-loading":e.isLoading},on:{scrollbottom:e.scrolledToBottom},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[i("CoreGrid",{staticClass:"tui-engageCardsGrid__row",attrs:{direction:e.gridDirection,"max-units":e.maxUnits}},e._l(n.items,(function(t,a){return i("GridItem",{key:a,staticClass:"tui-engageCardsGrid__card",attrs:{units:e.cardUnits}},[i("EngageCard",{attrs:{"card-attribute":t,"aria-labelledby":e.$id("row-"+n.index+"-"+a+"-label"),"label-id":e.$id("row-"+n.index+"-"+a+"-label"),"aria-posinset":n.index*e.itemsPerRow+a+1,"aria-setsize":e.cards.length,"show-footnotes":e.showFootnotes},on:{refetch:function(t){return e.$emit("refetch")}}})],1)})),1)]}},{key:"footer",fn:function(){return[i("PageLoader",{attrs:{fullpage:!1,loading:e.isLoading}})]},proxy:!0}])})],1)}),[],!1,null,null,null);"function"==typeof b&&b(y),y.options.__hasBlocks={script:!0,template:!0};t.default=y.exports},onrO:function(e,t,i){"use strict";var n=i("r+V9");i.n(n).a},opHR:function(e,t,i){"use strict";i.r(t),t.default={MULTI_CHOICE:1,SINGLE_CHOICE:2,isValid(e){return[this.MULTI_CHOICE,this.SINGLE_CHOICE].includes(e)},isMultiChoice(e){return!!this.isValid(e)&&this.MULTI_CHOICE==e},isSingleChoice(e){return!!this.isValid(e)&&this.SINGLE_CHOICE==e}}},pEL4:function(e,t,i){"use strict";var n=i("yRra");i.n(n).a},pvgh:function(e,t,i){},pxdy:function(e,t){e.exports=tui.require("totara_engage/mixins/contribution_mixin")},qMiU:function(e,t,i){"use strict";i.r(t);var n={props:{showCover:{required:!0,type:Boolean}}},a=(i("3RBF"),i("KHd+")),r=Object(a.a)(n,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tui-engageImageHeader"},[this.showCover?t("div",{staticClass:"tui-engageImageHeader__actionContainer"},[this._t("actions")],2):this._e(),this._v(" "),this._t("image")],2)}),[],!1,null,null,null);r.options.__hasBlocks={script:!0,template:!0};t.default=r.exports},"r+V9":function(e,t,i){},r6lN:function(e,t,i){"use strict";var n=i("2xW9");i.n(n).a},rLBA:function(e,t){e.exports=tui.require("totara_engage/components/buttons/LoadingButton")},rNse:function(e,t){e.exports=tui.require("tui/components/icons/Edit")},"rOe/":function(e,t){e.exports=tui.require("tui/components/icons/Bookmark")},roED:function(e,t){e.exports=tui.require("tui/components/buttons/LabelledButtonTrigger")},s5vj:function(e,t){e.exports=tui.require("totara_engage/components/contribution/BaseContent")},sxi1:function(e,t){e.exports=tui.require("tui/components/icons/More")},"t+cO":function(e,t,i){"use strict";t.a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_engage_advanced_features"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"features"},name:{kind:"Name",value:"totara_engage_advanced_features"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"library"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"recommenders"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspaces"},arguments:[],directives:[]}]}}]}}]}},"t/Jz":function(e,t,i){"use strict";var n=i("fwzH");i.n(n).a},tFmr:function(e,t,i){"use strict";i.r(t);var n=i("vF5l"),a=i.n(n),r=i("BN8m"),s=i.n(r),o=i("rLBA"),l=i.n(o),c={components:{Button:a.a,ButtonGroup:s.a,LoadingButton:l.a},props:{loading:Boolean,disabled:Boolean}},d=(i("8PdP"),i("KHd+")),u=function(e){e.options.__langStrings={core:["cancel"],totara_engage:["done"]}},m=Object(d.a)(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ButtonGroup",{staticClass:"tui-doneCancelGroup"},[i("LoadingButton",{attrs:{loading:e.loading,disabled:e.disabled,small:!0,primary:!0,text:e.$str("done","totara_engage")},on:{click:function(t){return e.$emit("done",t)}}}),e._v(" "),i("Button",{attrs:{disabled:e.loading,styleclass:{small:!0},text:e.$str("cancel","core")},on:{click:function(t){return e.$emit("cancel",t)}}})],1)}),[],!1,null,null,null);"function"==typeof u&&u(m),m.options.__hasBlocks={script:!0,template:!0};t.default=m.exports},tU1q:function(e,t,i){"use strict";i.r(t);var n=i("NAOU"),a=i.n(n),r=i("D9If"),s=i.n(r),o=i("dtfu"),l=i.n(o),c=i("BaY1"),d=i.n(c);const u=new(i("SFZN").WebStorageStore)("engage",window.localStorage);var m={components:{Grid:a.a,GridItem:s.a,Responsive:l.a,SidePanel:d.a},data:()=>({boundaryDefaults:{xsmall:{gridUnitsLeftExpanded:0,gridUnitsLeftCollapsed:11,gridUnitsRightExpanded:12,gridUnitsRightCollapsed:1},small:{gridUnitsLeftExpanded:0,gridUnitsLeftCollapsed:11,gridUnitsRightExpanded:12,gridUnitsRightCollapsed:1},medium:{gridUnitsLeftExpanded:7,gridUnitsLeftCollapsed:11,gridUnitsRightExpanded:5,gridUnitsRightCollapsed:1},large:{gridUnitsLeftExpanded:7,gridUnitsLeftCollapsed:11,gridUnitsRightExpanded:5,gridUnitsRightCollapsed:1},xlarge:{gridUnitsLeftExpanded:7,gridUnitsLeftCollapsed:11,gridUnitsRightExpanded:5,gridUnitsRightCollapsed:1}},currentBoundaryName:null,sidePanelIsOpen:null}),computed:{gridUnitsLeft(){let e=this.sidePanelIsOpen?"gridUnitsLeftExpanded":"gridUnitsLeftCollapsed";return this.boundaryDefaults[this.currentBoundaryName][e]},gridUnitsRight(){let e=this.sidePanelIsOpen?"gridUnitsRightExpanded":"gridUnitsRightCollapsed";return this.boundaryDefaults[this.currentBoundaryName][e]},onSmallScreen(){return"xsmall"===this.currentBoundaryName||"small"===this.currentBoundaryName}},watch:{sidePanelIsOpen(e){u.set("sidepanel",{isOpen:e})}},mounted(){let e=!this.onSmallScreen;const t=u.get("sidepanel");t&&(e=t.isOpen),this.sidePanelIsOpen=e},methods:{$_resize(e){this.currentBoundaryName=e},expandRequest:function(){this.sidePanelIsOpen=!0},collapseRequest:function(){this.sidePanelIsOpen=!1}}},p=(i("Nj+/"),i("KHd+")),g=Object(p.a)(m,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tui-engagelayoutOneColumnWithSidepanel",class:{"tui-engagelayoutOneColumnWithSidepanel--fullSidePanel":null!==e.currentBoundaryName&&12===e.gridUnitsRight,"tui-engagelayoutOneColumnWithSidepanel--onSmallScreen":e.onSmallScreen}},[i("Responsive",{attrs:{breakpoints:[{name:"xsmall",boundaries:[0,480]},{name:"small",boundaries:[481,764]},{name:"medium",boundaries:[765,1192]},{name:"large",boundaries:[1193,1396]},{name:"xlarge",boundaries:[1397,1672]}]},on:{"responsive-resize":e.$_resize}},[null!==e.currentBoundaryName?i("Grid",[i("GridItem",{directives:[{name:"show",rawName:"v-show",value:e.gridUnitsLeft>0,expression:"gridUnitsLeft > 0"}],attrs:{units:e.gridUnitsLeft}},[i("div",{staticClass:"tui-engagelayoutOneColumnWithSidepanel__heading"},[e._t("header")],2),e._v(" "),e._t("column",null,{units:e.gridUnitsLeft,boundaryName:e.currentBoundaryName})],2),e._v(" "),i("GridItem",{attrs:{units:e.gridUnitsRight}},[i("SidePanel",{ref:"sidepanel",attrs:{direction:"rtl",animated:!e.onSmallScreen,sticky:!e.onSmallScreen,"show-button-control":!0,"initially-open":e.sidePanelIsOpen,overflows:!1},on:{"sidepanel-expanding":e.expandRequest,"sidepanel-collapsing":e.collapseRequest}},[e._t("sidepanel",null,{units:e.gridUnitsRight,boundaryName:e.currentBoundaryName})],2)],1)],1):e._e()],1)],1)}),[],!1,null,null,null);g.options.__hasBlocks={script:!0,template:!0};t.default=g.exports},tY3g:function(e,t,i){"use strict";i.r(t);var n=i("NAOU"),a=i.n(n),r=i("D9If"),s=i.n(r),o=i("dtfu"),l=i.n(o),c=i("BaY1"),d=i.n(c);const u=new(i("SFZN").WebStorageStore)("engage",window.localStorage);var m={components:{Grid:a.a,GridItem:s.a,Responsive:l.a,SidePanel:d.a},props:{breakpoints:{type:Array},boundaries:{type:Object},defaultBoundary:{type:String,default:"large"},stackAt:{type:Number,default:764},showLeftSidePanel:{type:Boolean,default:!0},showRightSidePanel:{type:Boolean,default:!0},showLeftSidePanelControl:{type:Boolean,default:!0},showRightSidePanelControl:{type:Boolean,default:!0},leftSidePanelOverflows:{type:Boolean,default:!1},rightSidePanelOverflows:{type:Boolean,default:!1},leftSidePanelInitiallyOpen:{type:Boolean,default:!1},rightSidePanelInitiallyOpen:{type:Boolean,default:!1},leftSidePanelSticky:{type:Boolean,default:null},rightSidePanelSticky:{type:Boolean,default:null},leftSidePanelAnimated:{type:Boolean,default:null},rightSidePanelAnimated:{type:Boolean,default:null},leftSidePanelLimitHeight:{type:Boolean,default:null},rightSidePanelLimitHeight:{type:Boolean,default:null},leftSidePanelGrowHeightOnScroll:{type:Boolean,default:null},rightSidePanelGrowHeightOnScroll:{type:Boolean,default:null}},data(){return{breakpointDefaults:[{name:"small",boundaries:[0,764]},{name:"medium",boundaries:[765,1192]},{name:"large",boundaries:[1193,1672]}],boundaryDefaults:{small:{gridDirection:"vertical",gridUnitsOuterLeftExpanded:12,gridUnitsOuterLeftCollapsed:12,gridUnitsOuterRightExpanded:6,gridUnitsOuterRightCollapsed:11,gridUnitsInnerLeftExpanded:6,gridUnitsInnerLeftCollapsed:11,gridUnitsInnerRightExpanded:6,gridUnitsInnerRightCollapsed:1},medium:{gridDirection:"horizontal",gridUnitsOuterLeftExpanded:3,gridUnitsOuterLeftCollapsed:1,gridUnitsOuterRightExpanded:9,gridUnitsOuterRightCollapsed:11,gridUnitsInnerLeftExpanded:6,gridUnitsInnerLeftCollapsed:11,gridUnitsInnerRightExpanded:6,gridUnitsInnerRightCollapsed:1},large:{gridDirection:"horizontal",gridUnitsOuterLeftExpanded:2,gridUnitsOuterLeftCollapsed:1,gridUnitsOuterRightExpanded:10,gridUnitsOuterRightCollapsed:11,gridUnitsInnerLeftExpanded:6,gridUnitsInnerLeftCollapsed:11,gridUnitsInnerRightExpanded:6,gridUnitsInnerRightCollapsed:1}},currentBoundaryName:this.defaultBoundary,leftSidePanelIsOpen:this.leftSidePanelInitiallyOpen,rightSidePanelIsOpen:this.rightSidePanelInitiallyOpen,styleInnerLeft:{},styleInnerRight:{},unitsInnerRight:1}},computed:{responsiveBreakpoints(){return this.breakpoints||this.breakpointDefaults},responsiveBoundaries(){return this.boundaries||this.boundaryDefaults},gridDirection(){return this.responsiveBoundaries[this.currentBoundaryName].gridDirection},gridUnitsOuterLeft(){if(!this.showLeftSidePanel)return 0;let e=this.leftSidePanelIsOpen?"gridUnitsOuterLeftExpanded":"gridUnitsOuterLeftCollapsed";return this.responsiveBoundaries[this.currentBoundaryName][e]},gridUnitsOuterRight(){if(0===this.gridUnitsOuterLeft)return 12;let e=this.leftSidePanelIsOpen?"gridUnitsOuterRightExpanded":"gridUnitsOuterRightCollapsed";return this.responsiveBoundaries[this.currentBoundaryName][e]},gridUnitsInnerLeft(){if(0===this.gridUnitsInnerRight)return 12;let e=this.rightSidePanelIsOpen?"gridUnitsInnerLeftExpanded":"gridUnitsInnerLeftCollapsed";return this.responsiveBoundaries[this.currentBoundaryName][e]},gridUnitsInnerRight(){if(!this.showRightSidePanel)return 0;let e=this.rightSidePanelIsOpen?"gridUnitsInnerRightExpanded":"gridUnitsInnerRightCollapsed";return this.responsiveBoundaries[this.currentBoundaryName][e]},leftSticky(){return null!=this.leftSidePanelSticky?this.leftSidePanelSticky:"small"!==this.currentBoundaryName},rightSticky(){return null!=this.leftSidePanelSticky?this.rightSidePanelSticky:"small"!==this.currentBoundaryName},leftAnimated(){return null!=this.leftSidePanelAnimated?this.leftSidePanelAnimated:"small"!==this.currentBoundaryName},rightAnimated(){return null!=this.rightSidePanelAnimated?this.rightSidePanelAnimated:"small"!==this.currentBoundaryName},leftGrowHeightOnScroll(){return null!=this.leftSidePanelGrowHeightOnScroll?this.leftSidePanelGrowHeightOnScroll:"small"!==this.currentBoundaryName},rightGrowHeightOnScroll(){return null!=this.rightSidePanelGrowHeightOnScroll?this.rightSidePanelGrowHeightOnScroll:"small"!==this.currentBoundaryName},minSidePanelHeight(){if("vertical"===this.gridDirection)return null;const e=document.querySelector("#page");return null===e?null:e.scrollHeight-1||null}},watch:{gridUnitsInnerRight:{immediate:!0,handler(e){12===e?(this.unitsInnerRight=this.responsiveBoundaries[this.currentBoundaryName].gridUnitsInnerRightCollapsed,this.styleInnerRight.position="absolute",this.styleInnerRight.top=0,this.styleInnerRight.left=0,this.styleInnerRight.right=0,this.styleInnerLeft.opacity=0):(this.styleInnerRight={},this.unitsInnerRight=e,this.styleInnerLeft.opacity=1)}},rightSidePanelIsOpen(e){u.set("sidepanel",{isOpen:e})}},mounted(){let e=this.rightSidePanelInitiallyOpen;const t=u.get("sidepanel");t&&(e=t.isOpen),this.rightSidePanelIsOpen=e},methods:{$_resize(e){this.currentBoundaryName=e,this.$emit("responsive-resize",e)},expandLeftRequest(){this.leftSidePanelIsOpen=!0},collapseLeftRequest(){this.leftSidePanelIsOpen=!1},expandRightRequest(){this.rightSidePanelIsOpen=!0},collapseRightRequest(){this.rightSidePanelIsOpen=!1}}},p=(i("0MEa"),i("KHd+")),g=Object(p.a)(m,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tui-engagelayoutOneColumnWithMultiSidePanel"},[i("Responsive",{attrs:{breakpoints:e.responsiveBreakpoints},on:{"responsive-resize":e.$_resize}},[i("Grid",{attrs:{direction:e.gridDirection,"stack-at":e.stackAt,"use-vertical-gap":!1}},[e.showLeftSidePanel?i("GridItem",{attrs:{units:e.gridUnitsOuterLeft,grows:!0}},[i("SidePanel",{ref:"sidePanelLeft",staticClass:"tui-engagelayoutOneColumnWithMultiSidePanel__leftSidePanel",attrs:{direction:"ltr",animated:e.leftAnimated,sticky:e.leftSticky,"initially-open":e.leftSidePanelInitiallyOpen,overflows:e.leftSidePanelOverflows,"show-button-control":e.showLeftSidePanelControl,"min-height":e.minSidePanelHeight},on:{"sidepanel-expanding":e.expandLeftRequest,"sidepanel-collapsing":e.collapseLeftRequest}},[e._t("sidePanelLeft",null,{gridDirection:e.gridDirection,units:e.gridUnitsOuterLeft})],2)],1):e._e(),e._v(" "),i("GridItem",{staticClass:"tui-engagelayoutOneColumnWithMultiSidePanel__outerRight",attrs:{units:e.gridUnitsOuterRight,grows:!0}},[i("Grid",{attrs:{direction:"horizontal"}},[i("GridItem",{staticClass:"tui-engagelayoutOneColumnWithMultiSidePanel__column",attrs:{units:e.gridUnitsInnerLeft,grows:!1}},[i("div",{staticClass:"tui-engagelayoutOneColumnWithMultiSidePanel__columnContainer",style:e.styleInnerLeft},[e._t("column",null,{gridDirection:e.gridDirection,units:e.gridUnitsInnerLeft})],2)]),e._v(" "),e.showRightSidePanel?i("GridItem",{attrs:{units:e.unitsInnerRight,grows:!1}},[i("div",{ref:"sidePanelRightContainer",staticClass:"tui-engagelayoutOneColumnWithMultiSidePanel__rightSidePanelContainer",style:e.styleInnerRight},[i("SidePanel",{ref:"sidePanelRight",staticClass:"tui-engagelayoutOneColumnWithMultiSidePanel__rightSidePanel",attrs:{direction:"rtl",animated:e.rightAnimated,sticky:e.rightSticky,"initially-open":e.rightSidePanelIsOpen,overflows:e.rightSidePanelOverflows,"show-button-control":e.showRightSidePanelControl},on:{"sidepanel-expanding":e.expandRightRequest,"sidepanel-collapsing":e.collapseRightRequest}},[e._t("sidePanelRight",null,{gridDirection:e.gridDirection,units:e.unitsInnerRight})],2)],1)]):e._e()],1)],1)],1)],1)],1)}),[],!1,null,null,null);g.options.__hasBlocks={script:!0,template:!0};t.default=g.exports},tkAW:function(e,t){e.exports=tui.require("tui/components/modal/Modal")},txsu:function(e,t){e.exports=tui.require("tui/components/tabs/Tabs")},tyu8:function(e,t){e.exports=tui.require("totara_engage/index")},u5iS:function(e,t){e.exports=tui.require("tui/components/modal/ModalContent")},uisN:function(e,t,i){"use strict";var n=i("pvgh");i.n(n).a},"vAZ/":function(e,t,i){"use strict";var n=i("nmSy");i.n(n).a},vF5l:function(e,t){e.exports=tui.require("tui/components/buttons/Button")},vQzJ:function(e,t,i){},vkm1:function(e,t,i){"use strict";i.r(t);var n=i("HGFA"),a=i.n(n),r=i("bl7v"),s=i.n(r),o=i("tyu8"),l={components:{Share:a.a,SidePanelLike:s.a},props:{owned:{type:Boolean,required:!0},accessValue:{type:String,required:!0,validator:e=>o.AccessManager.isValid(e)},instanceId:{type:[String,Number],required:!0},likeButtonAriaLabel:{type:String,default:""},showLikeButton:{type:Boolean,default:!0},componentName:{type:String,required:!0},shareButtonAriaLabel:{type:String,default:""},sharedByCount:{type:Number,required:!0},liked:Boolean},methods:{openAccessModal(){this.$emit("access-modal")}}},c=(i("dafN"),i("KHd+")),d=Object(c.a)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tui-mediaSetting"},[e.showLikeButton?i("SidePanelLike",{attrs:{"instance-id":e.instanceId,component:e.componentName,"button-aria-label":e.likeButtonAriaLabel,liked:e.liked,area:"media"},on:{"created-like":function(t){return e.$emit("update-like-status",!0)},"removed-like":function(t){return e.$emit("update-like-status",!1)}}}):e._e(),e._v(" "),"PUBLIC"===e.accessValue?i("Share",{attrs:{"instance-id":e.instanceId,component:e.componentName,"button-aria-label":e.shareButtonAriaLabel,owned:e.owned,"access-value":e.accessValue,"shared-by-count":e.sharedByCount},on:{"access-modal":e.openAccessModal}}):e._e()],1)}),[],!1,null,null,null);d.options.__hasBlocks={script:!0,template:!0};t.default=d.exports},vsT3:function(e,t,i){},vtAP:function(e,t){e.exports=tui.require("totara_engage/mixins/adder_mixin")},vyVp:function(e,t){e.exports=tui.require("tui/notifications")},w07m:function(e,t){e.exports=tui.require("totara_engage/components/header/ResourceNavigationBar")},wBFv:function(e,t,i){"use strict";i.r(t);var n=i("5h9J"),a=i.n(n),r=i("Mnur"),s=i.n(r),o=i("bp+r"),l=i.n(o),c=i("PNFE"),d=i.n(c),u=i("4Lp8"),m=i.n(u),p={components:{ButtonIcon:a.a,ModalPresenter:s.a,ContributeModal:l.a,Add:d.a},mixins:[m.a],props:{showText:{type:Boolean,default:!0},showIcon:Boolean,styleclass:Object,size:Number,ariaLabel:{type:String,default(){return this.$str("contribute","totara_engage")}},adder:Object},data(){return{text:this.showText?this.$str("contribute","totara_engage"):"",modalOpen:!1}},methods:{showModal(){this.modalOpen=!0},modalRequestClose(){this.modalOpen=!1},adderOpen(){this.modalRequestClose(),this.$emit("open-adder")}}},g=(i("YtVC"),i("KHd+")),h=function(e){e.options.__langStrings={totara_engage:["contribute"]}},v=Object(g.a)(p,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tui-engageContribute"},[i("ButtonIcon",{attrs:{"aria-label":e.ariaLabel,text:e.text,styleclass:e.styleclass},on:{click:e.showModal}},[e.showIcon?e._t("icon",[i("Add",{attrs:{size:e.size}})]):e._e()],2),e._v(" "),i("ModalPresenter",{attrs:{open:e.modalOpen},on:{"request-close":e.modalRequestClose}},[e._t("modal",[i("ContributeModal",{attrs:{container:e.container,adder:e.adder},on:{done:function(t){return e.$emit("done",t)},"request-close":e.modalRequestClose,"adder-open":e.adderOpen}})])],2)],1)}),[],!1,null,null,null);"function"==typeof h&&h(v),v.options.__hasBlocks={script:!0,template:!0};t.default=v.exports},wqj1:function(e,t,i){"use strict";i.r(t),t.default={compareRecipients:(e,t)=>e.instanceid===t.instanceid&&e.area===t.area&&e.component===t.component}},"x/v0":function(e,t,i){"use strict";var n=i("jxIO");i.n(n).a},x4Wp:function(e,t){e.exports=tui.require("tui/components/icons/ForwardArrow")},xHYB:function(e,t,i){"use strict";var n=i("ydbv");i.n(n).a},xOe2:function(e,t,i){"use strict";i.r(t);var n={props:{containers:{type:Array,default:()=>[],validator:e=>e.every(e=>["name","type","url"].every(t=>t in e))}},computed:{containerName(){return this.containers[0].name},containerUrl(){return this.containers[0].url}}},a=i("KHd+"),r=function(e){e.options.__langStrings={totara_engage:["foundin"]}},s=Object(a.a)(n,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tui-cardFoundInFootnote",style:{visibility:e.containers.length>0?"visible":"hidden"}},[i("span",{staticClass:"tui-cardFoundInFootnote__text"},[e._v("\n    "+e._s(e.$str("foundin","totara_engage"))+"\n  ")]),e._v(" "),1===e.containers.length?i("a",{staticClass:"tui-cardFoundInFootnote__url",attrs:{href:e.containerUrl}},[e._v("\n    "+e._s(e.containerName)+"\n  ")]):i("span",[e._v("\n    multiple containers\n  ")])])}),[],!1,null,null,null);"function"==typeof r&&r(s),s.options.__hasBlocks={script:!0,template:!0};t.default=s.exports},xa9Y:function(e,t,i){"use strict";i.r(t),t.default={LESS_THAN_FIVE:"LESS_THAN_FIVE",FIVE_TO_TEN:"FIVE_TO_TEN",MORE_THAN_TEN:"MORE_THAN_TEN",isLessThanFive(e){return this.LESS_THAN_FIVE===e},isFiveToTen(e){return this.FIVE_TO_TEN===e},isMoreThanTen(e){return this.MORE_THAN_TEN===e},isValid(e){return[this.LESS_THAN_FIVE,this.FIVE_TO_TEN,this.MORE_THAN_TEN].includes(e)}}},xeAR:function(e,t,i){var n={"./EngageUnavailableResource":"5W67","./EngageUnavailableResource.vue":"5W67","./LibraryView":"ablV","./LibraryView.vue":"ablV","./OtherUserLibrary":"J/aQ","./OtherUserLibrary.vue":"J/aQ"};function a(e){var t=r(e);return i(t)}function r(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id="xeAR"},xnFb:function(e,t,i){"use strict";var n=i("k4tn");i.n(n).a},xxdA:function(e,t,i){},yRra:function(e,t,i){},yXAG:function(e,t,i){"use strict";i.r(t);i("1rLN");var n=i("KHd+"),a=Object(n.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tui-engageCardHeader"},[t("div",{staticClass:"tui-engageCardHeader__first"},[this._t("first")],2),this._v(" "),t("div",{staticClass:"tui-engageCardHeader__second"},[this._t("second")],2),this._v(" "),t("div",{staticClass:"tui-engageCardHeader__third"},[this._t("third")],2)])}),[],!1,null,null,null);a.options.__hasBlocks={script:!1,template:!0};t.default=a.exports},yavI:function(e,t,i){"use strict";var n=i("gx4b");i.n(n).a},ydbv:function(e,t,i){},zEvk:function(e,t){e.exports=tui.require("totara_engage/mixins/library_mixin")},zKrm:function(e,t){e.exports=tui.require("tui/components/buttons/CloseIcon")},zdnc:function(e,t){e.exports=tui.require("totara_engage/components/table/AdderSelectedTable")},zrqB:function(e,t,i){"use strict";i.r(t);var n=i("rNse"),a=i.n(n),r=i("5h9J"),s=i.n(r),o={components:{EditIcon:a.a,ButtonIcon:s.a},props:{buttonAriaLabel:{type:String,default(){return this.$str("edit","core")}},fullWidth:Boolean,restrictedMode:Boolean,focusButton:Boolean,updateAble:{type:Boolean,required:!0}},methods:{handleClick(e){this.updateAble&&(this.restrictedMode&&e.target!==e.currentTarget&&e.target!==this.$refs.inlineEditingBtn.$el||this.$emit("click"))}}},l=(i("pEL4"),i("KHd+")),c=function(e){e.options.__langStrings={core:["edit"]}},d=Object(l.a)(o,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"focus-within",rawName:"v-focus-within"}],staticClass:"tui-inlineEditing",class:{"tui-inlineEditing--updateAble":e.updateAble,"tui-inlineEditing--fullWidth":e.fullWidth},on:{click:e.handleClick}},[e._t("content"),e._v(" "),i("ButtonIcon",{directives:[{name:"show",rawName:"v-show",value:e.updateAble,expression:"updateAble"}],ref:"inlineEditingBtn",staticClass:"tui-inlineEditing__btn",attrs:{"aria-label":e.buttonAriaLabel,autofocus:e.focusButton,styleclass:{transparent:!0,small:!0}}},[i("EditIcon",{attrs:{size:"200"}})],1)],2)}),[],!1,null,null,null);"function"==typeof c&&c(d),d.options.__hasBlocks={script:!0,template:!0};t.default=d.exports}});