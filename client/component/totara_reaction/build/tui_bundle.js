!function(e){var i={};function n(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=i,n.d=function(e,i,t){n.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:t})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,i){if(1&i&&(e=n(e)),8&i)return e;if(4&i&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var a in e)n.d(t,a,function(i){return e[i]}.bind(null,a));return t},n.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(i,"a",i),i},n.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},n.p="",n(n.s="EMI9")}({"0i2B":function(e,i,n){"use strict";i.a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_reaction_get_likes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"component"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"area"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_area"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"instanceid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"page"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"count"},name:{kind:"Name",value:"totara_reaction_total"},arguments:[{kind:"Argument",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"component"}}},{kind:"Argument",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"area"}}},{kind:"Argument",name:{kind:"Name",value:"instanceid"},value:{kind:"Variable",name:{kind:"Name",value:"instanceid"}}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"reactions"},name:{kind:"Name",value:"totara_reaction_reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"component"}}},{kind:"Argument",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"area"}}},{kind:"Argument",name:{kind:"Name",value:"instanceid"},value:{kind:"Variable",name:{kind:"Name",value:"instanceid"}}},{kind:"Argument",name:{kind:"Name",value:"page"},value:{kind:"Variable",name:{kind:"Name",value:"page"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instanceid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurlsmall"},arguments:[],directives:[]}]}}]}}]}}]}},"2f7J":function(e,i,n){},"5h9J":function(e,i){e.exports=tui.require("tui/components/buttons/ButtonIcon")},"77hr":function(e,i,n){"use strict";i.a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_reaction_liked"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"component"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"area"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_area"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"instanceid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"result"},name:{kind:"Name",value:"totara_reaction_liked"},arguments:[{kind:"Argument",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"component"}}},{kind:"Argument",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"area"}}},{kind:"Argument",name:{kind:"Name",value:"instanceid"},value:{kind:"Variable",name:{kind:"Name",value:"instanceid"}}}],directives:[]}]}}]}},"7bjs":function(e,i,n){"use strict";var t=n("Yztu");n.n(t).a},"9G+f":function(e,i){e.exports=tui.require("tui/components/popover/Popover")},EMI9:function(e,i,n){!function(){"use strict";"undefined"!=typeof tui&&tui._bundle.isLoaded("totara_reaction")?console.warn('[tui bundle] The bundle "totara_reaction" is already loaded, skipping initialisation.'):(tui._bundle.register("totara_reaction"),tui._bundle.addModulesFromContext("totara_reaction/components",n("Ocaz")))}()},"KHd+":function(e,i,n){"use strict";function t(e,i,n,t,a,r,o,s){var l,d="function"==typeof e?e.options:e;if(i&&(d.render=i,d.staticRenderFns=n,d._compiled=!0),t&&(d.functional=!0),r&&(d._scopeId="data-v-"+r),o?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},d._ssrRegister=l):a&&(l=s?function(){a.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:a),l)if(d.functional){d._injectStyles=l;var u=d.render;d.render=function(e,i){return l.call(i),u(e,i)}}else{var c=d.beforeCreate;d.beforeCreate=c?[].concat(c,l):[l]}return{exports:e,options:d}}n.d(i,"a",(function(){return t}))},Mnur:function(e,i){e.exports=tui.require("tui/components/modal/ModalPresenter")},OaPj:function(e,i){e.exports=tui.require("totara_reaction/components/buttons/LikeButtonIcon")},Ocaz:function(e,i,n){var t={"./SidePanelLike":"gKCe","./SidePanelLike.vue":"gKCe","./SimpleLike":"W/pl","./SimpleLike.vue":"W/pl","./buttons/LikeButtonIcon":"Pc6G","./buttons/LikeButtonIcon.vue":"Pc6G","./modal/LikeRecordsModal":"hkx0","./modal/LikeRecordsModal.vue":"hkx0","./popover_content/LikeRecordsList":"prph","./popover_content/LikeRecordsList.vue":"prph"};function a(e){var i=r(e);return n(i)}function r(e){if(!n.o(t,e)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return t[e]}a.keys=function(){return Object.keys(t)},a.resolve=r,e.exports=a,a.id="Ocaz"},Pc6G:function(e,i,n){"use strict";n.r(i);var t=n("5h9J"),a=n.n(t),r=n("QOO2"),o=n.n(r),s=n("iwi5"),l=n.n(s),d=n("fPwS"),u=n.n(d),c={components:{ButtonIcon:a.a,LikeIcon:o.a,LikedIcon:l.a,Loading:u.a},props:{transparent:{type:Boolean,default:!0},small:{type:Boolean,default:!0},transparentNoPadding:{type:Boolean,default:!0},submitting:Boolean,liked:Boolean,iconSize:[String,Number],ariaLabel:{type:String,required:!0},disabled:Boolean,text:String}},m=n("KHd+"),k=Object(m.a)(c,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("ButtonIcon",{attrs:{"aria-label":e.ariaLabel,styleclass:{transparent:e.transparent,small:e.small,transparentNoPadding:e.transparentNoPadding},disabled:e.disabled,text:e.text},on:{click:function(i){return e.$emit("click",i)}}},[e.submitting?n("Loading",{attrs:{size:e.iconSize}}):e.liked?n("LikedIcon",{attrs:{size:e.iconSize}}):n("LikeIcon",{attrs:{size:e.iconSize}})],1)}),[],!1,null,null,null);k.options.__hasBlocks={script:!0,template:!0};i.default=k.exports},Q6MM:function(e,i,n){"use strict";i.a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"totara_reaction_remove_like"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"component"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"area"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_area"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"instanceid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"result"},name:{kind:"Name",value:"totara_reaction_delete"},arguments:[{kind:"Argument",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"component"}}},{kind:"Argument",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"area"}}},{kind:"Argument",name:{kind:"Name",value:"instanceid"},value:{kind:"Variable",name:{kind:"Name",value:"instanceid"}}}],directives:[]}]}}]}},QOO2:function(e,i){e.exports=tui.require("tui/components/icons/Like")},VQMd:function(e,i,n){"use strict";var t=n("yh+x");n.n(t).a},"W/pl":function(e,i,n){"use strict";n.r(i);var t=n("rLhL"),a=n.n(t),r=n("Mnur"),o=n.n(r),s=n("9G+f"),l=n.n(s),d=n("OaPj"),u=n.n(d),c=n("hySc"),m=n.n(c),k=n("vyVp"),p=n("0i2B"),v=n("77hr"),f=n("e/g3"),h=n("Q6MM"),b={components:{LikeRecordsModal:a.a,ModalPresenter:o.a,Popover:l.a,LikeButtonIcon:u.a,LikeRecordsList:m.a},props:{component:{type:String,required:!0},area:{type:String,required:!0},instanceId:{type:[String,Number],required:!0},disabled:Boolean,liked:{type:Boolean,default:null},totalLikes:{type:[String,Number],default:null},buttonAriaLabel:{type:String,required:!0},showText:Boolean},apollo:{count:{query:p.a,variables(){return{component:this.component,area:this.area,instanceid:this.instanceId}},update:({count:e})=>parseInt(e,9),skip(){return void 0!==this.totalLikes&&null!==this.totalLikes}},hasLiked:{query:v.a,variables(){return{component:this.component,area:this.area,instanceid:this.instanceId}},update:({result:e})=>e,skip(){return void 0!==this.liked&&null!==this.liked},result({data:{result:e}}){this.$emit("update-like-status",e)}}},data(){return{hasLiked:this.liked,count:this.totalLikes,showModal:!1,showPopover:!1,submitting:!1}},computed:{buttonText(){return this.showText?this.$str("like","totara_reaction"):""}},watch:{liked(e){e!==this.hasLiked&&(this.hasLiked=e)},totalLikes(e){e!=this.count&&(this.count=e)}},methods:{async like(){this.hasLiked?await this.removeLike():await this.createLike()},async createLike(){if(this.submitting)return;this.submitting=!0;let e={component:this.component,area:this.area,instanceid:this.instanceId};try{await this.$apollo.mutate({mutation:f.a,variables:e,refetchAll:!1,refetchQueries:[{query:p.a,variables:e},{query:v.a,variables:e}]}),this.$emit("created-like")}catch(e){await Object(k.notify)({message:this.$str("error:create_like","totara_reaction"),type:"error"})}finally{this.submitting=!1}},async removeLike(){if(this.submitting)return;this.submitting=!0;let e={component:this.component,area:this.area,instanceid:this.instanceId};try{await this.$apollo.mutate({mutation:h.a,variables:e,refetchAll:!1,refetchQueries:[{query:p.a,variables:e},{query:v.a,variables:e}]}),this.$emit("removed-like")}catch(e){await Object(k.notify)({message:this.$str("error:remove_like","totara_reaction"),type:"error"})}finally{this.submitting=!1}}}},_=(n("Y3vk"),n("KHd+")),y=function(e){e.options.__langStrings={totara_reaction:["bracketcount","error:create_like","error:remove_like","like"]}},g=Object(_.a)(b,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-simpleLike"},[e.$apollo.loading?e._e():[n("LikeButtonIcon",{attrs:{"aria-label":e.buttonAriaLabel,liked:e.hasLiked,submitting:e.submitting,disabled:e.disabled,text:e.buttonText},on:{click:function(i){return i.preventDefault(),e.like(i)}}}),e._v(" "),0!==e.count?n("Popover",{staticClass:"tui-simpleLike__popover",attrs:{triggers:["focus","hover"]},on:{"open-changed":function(i){e.showPopover=i}},scopedSlots:e._u([{key:"trigger",fn:function(){return[n("a",{attrs:{href:"#"},on:{click:function(i){i.preventDefault(),e.showModal=!0}}},[e._v("\n          "+e._s(e.$str("bracketcount","totara_reaction",e.count))+"\n        ")])]},proxy:!0}],null,!1,1309043721)},[e._v(" "),n("LikeRecordsList",{attrs:{"skip-loading-records":!e.showPopover,component:e.component,area:e.area,"instance-id":e.instanceId}})],1):e._e()],e._v(" "),n("ModalPresenter",{attrs:{open:e.showModal},on:{"request-close":function(i){e.showModal=!1}}},[n("LikeRecordsModal",{attrs:{component:e.component,"instance-id":e.instanceId,area:e.area}})],1)],2)}),[],!1,null,null,null);"function"==typeof y&&y(g),g.options.__hasBlocks={script:!0,template:!0};i.default=g.exports},Xi9X:function(e,i){e.exports=tui.require("tui/components/avatar/Avatar")},Y3vk:function(e,i,n){"use strict";var t=n("2f7J");n.n(t).a},Yztu:function(e,i,n){},"e/g3":function(e,i,n){"use strict";i.a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"totara_reaction_create_like"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"component"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"area"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_area"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"instanceid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"reaction"},name:{kind:"Name",value:"totara_reaction_create"},arguments:[{kind:"Argument",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"component"}}},{kind:"Argument",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"area"}}},{kind:"Argument",name:{kind:"Name",value:"instanceid"},value:{kind:"Variable",name:{kind:"Name",value:"instanceid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"area"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instanceid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]}]}}]}}]}}]}},fPwS:function(e,i){e.exports=tui.require("tui/components/icons/Loading")},gKCe:function(e,i,n){"use strict";n.r(i);var t=n("roED"),a=n.n(t),r=n("hySc"),o=n.n(r),s=n("rLhL"),l=n.n(s),d=n("QOO2"),u=n.n(d),c=n("iwi5"),m=n.n(c),k=n("fPwS"),p=n.n(k),v=n("Mnur"),f=n.n(v),h=n("0i2B"),b=n("77hr"),_=n("e/g3"),y=n("Q6MM"),g=n("vyVp"),N={components:{ModalPresenter:f.a,ButtonIconWithLabel:a.a,LikeRecordsList:o.a,LikeRecordsModal:l.a,Like:u.a,LikeActive:m.a,Loading:p.a},props:{component:{type:String,required:!0},area:{type:String,required:!0},instanceId:{type:[String,Number],required:!0},liked:{type:Boolean,default:null},totalLikes:{type:Boolean,default:null},iconSize:[String,Number],buttonAriaLabel:{type:String,required:!0},disabled:Boolean},apollo:{count:{query:h.a,variables(){return{component:this.component,area:this.area,instanceid:this.instanceId}},update:({count:e})=>e,skip(){return void 0!==this.totalLikes&&null!==this.totalLikes}},hasLiked:{query:b.a,variables(){return{component:this.component,area:this.area,instanceid:this.instanceId}},update:({result:e})=>e,skip(){return void 0!==this.liked&&null!==this.liked}}},data(){return{hasLiked:this.liked,count:this.totalLikes,showPopover:!1,showModal:!1,submitting:!1}},computed:{labelAriaLabel(){return 0===this.count?this.$str("nolikes","totara_reaction"):this.$str("numberoflikes","totara_reaction",this.count)}},watch:{liked(e){e!==this.hasLiked&&(this.hasLiked=e)},totalLikes(e){e!=this.count&&(this.count=e)}},methods:{async like(){this.hasLiked?await this.removeLike():await this.createLike()},async createLike(){if(this.submitting)return;this.submitting=!0;let e={component:this.component,area:this.area,instanceid:this.instanceId};try{await this.$apollo.mutate({mutation:_.a,variables:e,refetchAll:!1,refetchQueries:[{query:h.a,variables:e},{query:b.a,variables:e}]}),this.$emit("created-like")}catch(e){await Object(g.notify)({message:this.$str("error:create_like","totara_reaction"),type:"error"})}finally{this.submitting=!1}},async removeLike(){if(this.submitting)return;this.submitting=!0;let e={component:this.component,area:this.area,instanceid:this.instanceId};try{await this.$apollo.mutate({mutation:y.a,variables:e,refetchAll:!1,refetchQueries:[{query:h.a,variables:e},{query:b.a,variables:e}]}),this.$emit("removed-like")}catch(e){await Object(g.notify)({message:this.$str("error:remove_like","totara_reaction"),type:"error"})}finally{this.submitting=!1}}}},L=n("KHd+"),S=function(e){e.options.__langStrings={totara_reaction:["nolikes","numberoflikes","error:create_like","error:remove_like"]}},x=Object(L.a)(N,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-sidePanelLike"},[e.$apollo.loading?e._e():[n("ButtonIconWithLabel",{attrs:{"button-aria-label":e.buttonAriaLabel,"label-aria-label":e.labelAriaLabel,"label-text":e.count,disabled:e.disabled,"closeable-popover":!1},on:{"popover-open-changed":function(i){e.showPopover=i},open:function(i){e.showModal=!0},click:e.like},scopedSlots:e._u([{key:"icon",fn:function(){return[e.submitting?n("Loading"):e.hasLiked?n("LikeActive"):n("Like")]},proxy:!0},{key:"hover-label-content",fn:function(){return[n("LikeRecordsList",{attrs:{component:e.component,area:e.area,"instance-id":e.instanceId}})]},proxy:!0}],null,!1,1618023747)}),e._v(" "),n("ModalPresenter",{attrs:{open:e.showModal},on:{"request-close":function(i){e.showModal=!1}}},[n("LikeRecordsModal",{attrs:{component:e.component,area:e.area,"instance-id":e.instanceId}})],1)]],2)}),[],!1,null,null,null);"function"==typeof S&&S(x),x.options.__hasBlocks={script:!0,template:!0};i.default=x.exports},hkx0:function(e,i,n){"use strict";n.r(i);var t=n("tkAW"),a=n.n(t),r=n("u5iS"),o=n.n(r),s=n("Xi9X"),l=n.n(s),d=n("fPwS"),u=n.n(d),c=n("0i2B"),m={components:{Modal:a.a,ModalContent:o.a,Avatar:l.a,Loading:u.a},props:{instanceId:{type:[String,Number],required:!0},component:{type:String,required:!0},area:{type:String,required:!0}},apollo:{like:{query:c.a,fetchPolicy:"network-only",variables(){return{component:this.component,area:this.area,instanceid:this.instanceId}},update:({count:e,reactions:i})=>({count:e,reactions:i})}},data:()=>({page:1,like:{count:0,reactions:[]}})},k=(n("VQMd"),n("KHd+")),p=function(e){e.options.__langStrings={totara_reaction:["likesx"]}},v=Object(k.a)(m,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("Modal",{staticClass:"tui-likeRecordsModal"},[n("ModalContent",{attrs:{"close-button":!0},scopedSlots:e._u([{key:"title",fn:function(){return[n("h2",{staticClass:"tui-likeRecordsModal__title"},[n("span",[e._v("\n          "+e._s(e.$str("likesx","totara_reaction",e.like.count))+"\n        ")]),e._v(" "),e.$apollo.loading?n("Loading"):e._e()],1)]},proxy:!0}])},[e._v(" "),n("div",{staticClass:"tui-likeRecordsModal__content"},[n("ul",{staticClass:"tui-likeRecordsModal__records"},e._l(e.like.reactions,(function(i,t){var a=i.user;return n("li",{key:t},[n("Avatar",{attrs:{src:a.profileimageurl,alt:a.profileimagealt||"",size:"xsmall"}}),e._v(" "),n("a",{attrs:{href:e.$url("/user/profile.php",{id:a.id})}},[e._v("\n            "+e._s(a.fullname)+"\n          ")])],1)})),0)])])],1)}),[],!1,null,null,null);"function"==typeof p&&p(v),v.options.__hasBlocks={script:!0,template:!0};i.default=v.exports},hySc:function(e,i){e.exports=tui.require("totara_reaction/components/popover_content/LikeRecordsList")},iwi5:function(e,i){e.exports=tui.require("tui/components/icons/LikeActive")},prph:function(e,i,n){"use strict";n.r(i);var t=n("fPwS"),a=n.n(t),r=n("0i2B"),o={components:{Loading:a.a},props:{component:{type:String,required:!0},area:{type:String,required:!0},instanceId:{type:[String,Number],required:!0},skipLoadingRecords:Boolean},apollo:{like:{query:r.a,skip(){return this.skipLoadingRecords},variables(){return{component:this.component,area:this.area,instanceid:this.instanceId}},update:({count:e,reactions:i})=>({count:e,reactions:i})}},data:()=>({page:1,like:{count:0,reactions:[]}}),computed:{reactions(){return Array.prototype.slice.call(this.like.reactions,0,9)}}},s=(n("7bjs"),n("KHd+")),l=function(e){e.options.__langStrings={totara_reaction:["nolikes","numberofmore"]}},d=Object(s.a)(o,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-likeRecordsList"},[e.$apollo.loading?n("Loading",{attrs:{size:"200"}}):[0===e.like.count?n("p",[e._v("\n      "+e._s(e.$str("nolikes","totara_reaction"))+"\n    ")]):n("ul",{staticClass:"tui-likeRecordsList__list"},e._l(e.reactions,(function(i,t){var a=i.user.fullname;return n("li",{key:t},[e._v("\n        "+e._s(a)+"\n      ")])})),0),e._v(" "),e.like.count>10?n("p",[e._v("\n      "+e._s(e.$str("numberofmore","totara_reaction",e.like.count-10))+"\n    ")]):e._e()]],2)}),[],!1,null,null,null);"function"==typeof l&&l(d),d.options.__hasBlocks={script:!0,template:!0};i.default=d.exports},rLhL:function(e,i){e.exports=tui.require("totara_reaction/components/modal/LikeRecordsModal")},roED:function(e,i){e.exports=tui.require("tui/components/buttons/LabelledButtonTrigger")},tkAW:function(e,i){e.exports=tui.require("tui/components/modal/Modal")},u5iS:function(e,i){e.exports=tui.require("tui/components/modal/ModalContent")},vyVp:function(e,i){e.exports=tui.require("tui/notifications")},"yh+x":function(e,i,n){}});