!function(e){var n={};function a(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=n,a.d=function(e,n,t){a.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,n){if(1&n&&(e=a(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)a.d(t,i,function(n){return e[n]}.bind(null,i));return t},a.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(n,"a",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p="",a(a.s="x6Yb")}({"+uUi":function(e,n){},KGot:function(e,n){e.exports=tui.require("tui/components/datatable/Cell")},PC4H:function(e,n,a){var t={"./achievements/AchievementDisplay":"o0i8","./achievements/AchievementDisplay.vue":"o0i8"};function i(e){var n=r(e);return a(n)}function r(e){if(!a.o(t,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t[e]}i.keys=function(){return Object.keys(t)},i.resolve=r,e.exports=i,i.id="PC4H"},Zoit:function(e,n){e.exports=tui.require("totara_competency/components/achievements/AchievementLayout")},fCWf:function(e,n){e.exports=tui.require("tui/components/links/ActionLink")},o0i8:function(e,n,a){"use strict";a.r(n);var t=a("Zoit"),i=a.n(t),r=a("fCWf"),l=a.n(r),s=a("KGot"),o=a.n(s),u=a("rsf9"),d=a.n(u),c=a("yikf"),_=a.n(c),p={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"pathway_learning_plan_competency_plans"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"user_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"assignment_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pathway_learning_plan_competency_plans"},arguments:[{kind:"Argument",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}},{kind:"Argument",name:{kind:"Name",value:"assignment_id"},value:{kind:"Variable",name:{kind:"Name",value:"assignment_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"learning_plans"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"scale_value"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"date"},name:{kind:"Name",value:"date_assigned"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"DATE"}}],directives:[]}]}}]}}]},m={components:{AchievementLayout:i.a,ActionLink:l.a,Cell:o.a,ExpandCell:d.a,Table:_.a},inheritAttrs:!1,props:{assignmentId:{required:!0,type:Number},userId:{required:!0,type:Number}},data:function(){return{plans:[]}},apollo:{plans:{query:p,context:{batch:!0},variables:function(){return{assignment_id:this.assignmentId,user_id:this.userId}},update:function(e){var n=e.pathway_learning_plan_competency_plans;return this.$emit("loaded"),n}}},computed:{hasPlans:function(){return this.plans.learning_plans},hasValue:function(){return this.hasPlans&&null!=this.plans.scale_value}},methods:{getPlanUrl:function(e){return this.$url("/totara/plan/component.php",{c:"competency",id:e})}}};a("+uUi");var v=function(e){e.options.__langStrings={pathway_learning_plan:["achievement_via_learning_plan","name","no_available_learning_plans","no_rating_set","no_permission_view_plan","set_on","view_plan","work_towards_level"]}},f=function(e,n,a,t,i,r,l,s){var o,u="function"==typeof e?e.options:e;if(n&&(u.render=n,u.staticRenderFns=a,u._compiled=!0),t&&(u.functional=!0),r&&(u._scopeId="data-v-"+r),l?(o=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(l)},u._ssrRegister=o):i&&(o=s?function(){i.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:i),o)if(u.functional){u._injectStyles=o;var d=u.render;u.render=function(e,n){return o.call(n),d(e,n)}}else{var c=u.beforeCreate;u.beforeCreate=c?[].concat(c,o):[o]}return{exports:e,options:u}}(m,(function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("div",{staticClass:"tui-pathwayLearningPlanAchievement"},[e.hasPlans?a("div",{staticClass:"tui-pathwayLearningPlanAchievement__content"},[a("AchievementLayout",{scopedSlots:e._u([{key:"left",fn:function(){return[a("div",{staticClass:"tui-pathwayLearningPlanAchievement__overview"},[a("h5",{staticClass:"tui-pathwayLearningPlanAchievement__title"},[e._v("\n            "+e._s(e.$str("achievement_via_learning_plan","pathway_learning_plan"))+"\n          ")]),e._v(" "),e.hasValue?[a("div",{staticClass:"tui-pathwayLearningPlanAchievement__value"},[a("span",{staticClass:"tui-pathwayLearningPlanAchievement__value-title"},[e._v("\n                "+e._s(e.plans.scale_value.name)+"\n              ")]),e._v("\n              "+e._s(e.$str("set_on","pathway_learning_plan",e.plans.date))+"\n            ")])]:[a("div",{staticClass:"tui-pathwayLearningPlanAchievement__noValue"},[e._v("\n              "+e._s(e.$str("no_rating_set","pathway_learning_plan"))+"\n            ")])]],2)]},proxy:!0},{key:"right",fn:function(){return[a("Table",{staticClass:"tui-pathwayLearningPlanAchievement__list",attrs:{data:e.plans.learning_plans,"expandable-rows":!0},scopedSlots:e._u([{key:"row",fn:function(n){var t=n.row,i=n.expand,r=n.expandState;return[t.can_view?[a("ExpandCell",{attrs:{"aria-label":t.name,"expand-state":r},on:{click:function(e){return i()}}}),e._v(" "),a("Cell",{attrs:{size:"11","column-header":e.$str("name","pathway_learning_plan")}},[e._v("\n                "+e._s(t.name)+"\n              ")])]:[a("ExpandCell",{attrs:{header:!0}}),e._v(" "),a("Cell",{attrs:{size:"11"}},[e._v("\n                "+e._s(e.$str("no_permission_view_plan","pathway_learning_plan"))+"\n              ")])]]}},{key:"expand-content",fn:function(n){var t=n.row;return[a("div",{staticClass:"tui-pathwayLearningPlanAchievement__summary"},[a("h6",{staticClass:"tui-pathwayLearningPlanAchievement__summary-header"},[e._v("\n                "+e._s(t.name)+"\n              ")]),e._v(" "),t.description?a("div",{staticClass:"tui-pathwayLearningPlanAchievement__summary-body",domProps:{innerHTML:e._s(t.description)}}):e._e(),e._v(" "),a("ActionLink",{class:"tui-pathwayLearningPlanAchievement__summary-button",attrs:{href:e.getPlanUrl(t.id),text:e.$str("view_plan","pathway_learning_plan"),styleclass:{primary:!0,small:!0}}})],1)]}}])})]},proxy:!0}])})],1):a("div",{staticClass:"tui-pathwayLearningPlanAchievement__empty"},[e._v("\n    "+e._s(e.$str("no_available_learning_plans","pathway_learning_plan"))+"\n  ")])])}),[],!1,null,null,null);"function"==typeof v&&v(f),f.options.__hasBlocks={script:!0,template:!0};n.default=f.exports},rsf9:function(e,n){e.exports=tui.require("tui/components/datatable/ExpandCell")},x6Yb:function(e,n,a){!function(){"use strict";"undefined"!=typeof tui&&tui._bundle.isLoaded("pathway_learning_plan")?console.warn('[tui bundle] The bundle "pathway_learning_plan" is already loaded, skipping initialisation.'):(tui._bundle.register("pathway_learning_plan"),tui._bundle.addModulesFromContext("pathway_learning_plan/components",a("PC4H")))}()},yikf:function(e,n){e.exports=tui.require("tui/components/datatable/Table")}});