define(["core/templates"],function(a){function b(){return this instanceof b?(this.contentChangeType="replace",this.eventListener="totara_core/paging",this.eventNode="",this.page=1,this.template="totara_competency/paging_content",void(this.widget="")):new b}b.prototype.bubbledEventsListener=function(){var a=this;this.eventNode.addEventListener(this.eventListener+":changed",function(b){a.setPageNumber(b.detail.page),a.setContentChangeType(b.detail.changeType),a.onChange()})},b.prototype.extendRequestData=function(a){return a.args.page=this.getPageNumber(),a.callback.push(this.renderPaginationBtn.bind(this)),a},b.prototype.getContentChangeType=function(){return this.contentChangeType},b.prototype.getEventListener=function(){return this.eventListener},b.prototype.getPageNumber=function(){return this.page},b.prototype.onChange=function(){},b.prototype.onChangeAppendType=function(){},b.prototype.renderPaginationBtn=function(b){var c=this.widget,d=this;return new Promise(function(e){return c?void(b.next?a.renderReplace(d.template,b,c).then(function(){d.resetPageNumber(),e()}):(c.innerHTML="",b.page>0&&d.resetPageNumber(),e())):void e()})},b.prototype.resetPageNumber=function(){this.setPageNumber(1)},b.prototype.setContentChangeType=function(a){this.contentChangeType=a,this.onChangeAppendType(a)},b.prototype.setPageNumber=function(a){this.page=a},b.prototype.setParent=function(a){this.widget=a},b.prototype.setParentEventNode=function(a){this.eventNode=a};var c=function(a){var c=new b,d=a.querySelector("[data-tw-paging]");return c.setParent(d),c.setParentEventNode(a),c.bubbledEventsListener(),c};return{init:c}});