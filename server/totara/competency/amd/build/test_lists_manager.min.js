define(["totara_competency/action_list_manager","totara_competency/loader_manager"],function(a,b){var c=function(a,b){require(["core/notification"],function(c){c.clearNotifications(),c.addNotification({message:b,type:a})})},d=function(a,b){a.onListHierarchyLevelChange=function(a){c("info","hierarchy level for item with id '"+a.detail.val+"' changed")},a.onListHierarchyLevelChangeExtend=function(a){c("info","extended hierarchy level for item with id '"+a.detail.val+"' changed")},a.onItemSelected=function(a){c("info","item with id '"+a+"' selected")},a.onItemUnselected=function(a){c("info","item with id '"+a+"' unselected")},a.onItemUpdate=function(){c("info","item got updated")},a.onPreRequest=function(){c("info","update pre request"),b.show()},a.onPostRequest=function(){c("info","update post request"),b.hide()},a.onCustomAction=function(a){c("info","action '"+a.detail.key+"' for id '"+a.detail.val+"' triggered")}},e=function(){return[{name:"delete",icon:"delete",eventKey:"deleteClicked",disabled:!1,hidden:!1},{name:"archive",icon:"archive",eventKey:"archiveClicked",disabled:!1,hidden:!1},{name:"activate",icon:"activate",eventKey:"activateClicked",disabled:!1,hidden:!1}]},f=function(){return[{key:"delete",name:"delete",string:"delete",component:"totara_core"},{key:"activate",name:"check",string:"activate",component:"totara_core"},{key:"archive",name:"archive",string:"archive",component:"totara_core"}]},g=function(a,b){return{actions:e,cols:[{dataPath:"column1",headerString:{value:"Column 1"},expandedViewTrigger:!0},{dataPath:"column2",headerString:{value:"Column 2"}},{dataPath:"column3",headerString:{value:"Column 3"}},{dataPath:"column4",headerString:{value:"Column 4"},size:"sm"}],extraRowData:[{key:"column4",dataPath:"column4"}],hasHierarchy:a>0,hasCheckboxes:b>0,hasExpandedView:!0,expandTemplate:"totara_competency/test_lists_expand",expandWebservice:"totara_core_test_lists_manager_show",icons:f}},h=function(c){var e="TestListManagerPause";return new Promise(function(f){M.util.js_pending(e);var h=c.getAttribute("data-tw-list-hasHierarchy"),i=c.getAttribute("data-tw-list-hasCheckboxes"),j={map:g(h,i),service:"totara_core_test_lists_manager",serviceArgs:{page:0}},k=a.init(c,j),l=b.init(c);d(k,l),k.load().then(function(){M.util.js_complete(e)}),f()})};return{init:h}});