define([],function(){function a(){return this instanceof a?(this.eventKey=null,void(this.widget=null)):new a}a.prototype={events:function(){var a=this;this.widget.addEventListener("click",function(b){if(b.target&&b.target.closest("[data-tw-crumbtrailWithTitle-id]")){b.preventDefault();var c=b.target.closest("[data-tw-crumbtrailWithTitle-id]"),d=c.hasAttribute("data-tw-crumbtrailWithTitle-top-level"),e=c.getAttribute("data-tw-crumbtrailWithTitle-id"),f=c.getAttribute("data-tw-crumbtrailWithTitle-name");a.triggerEvent("click",{id:e,isTopLevel:d,name:f})}})},setEventKey:function(){this.eventKey=this.widget.getAttribute("data-tw-crumbtrailWithTitle-events")},setParent:function(a){this.widget=a},triggerEvent:function(a,b){var c=new CustomEvent(this.eventKey+":"+a,{bubbles:!0,detail:b});this.widget.dispatchEvent(c)}};var b=function(b){return new Promise(function(c){var d=new a;d.setParent(b),d.setEventKey(),d.events(),c(d)})};return{init:b}});