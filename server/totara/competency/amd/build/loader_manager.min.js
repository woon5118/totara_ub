define(["core/templates","core/notification"],function(a,b){function c(){return this instanceof c?(this.classOverlay="tw-loader__overlay",this.loadTarget="",void(this.loadText="[data-tw-loader-text]")):new c}c.prototype.show=function(){var b=this;this.loadTarget&&(this.loadTarget.classList.add(this.classOverlay),a.renderAppend("totara_competency/loader",null,this.loadTarget).then(function(){b.loadTarget.classList.contains(b.classOverlay)||b.hide()}))},c.prototype.hide=function(){var a,b=this.loadTarget.querySelectorAll(this.loadText);if(b)for(var c=0;c<b.length;c++)a=b[c],a.parentNode.removeChild(a);this.loadTarget&&this.loadTarget.classList.remove(this.classOverlay)},c.prototype.setLoadTarget=function(a){this.loadTarget=a};var d=function(a){if(!a||!a.parentElement||!a.parentElement.querySelector("[data-tw-loader-target]"))return b.exception({fileName:"loader_manager.js",message:"No loader target found",name:"Error initialising loader_manager"}),!1;var d=new c,e=a.parentElement.querySelector("[data-tw-loader-target]");return d.setLoadTarget(e),d};return{init:d}});