define(["totara_competency/basket_list","totara_competency/list_framework_hierarchy_events"],function(a,b){function c(){if(!(this instanceof c))return new c}c.prototype=new a,c.prototype.setExtendingFunctions=function(a){var b=this;a&&Object.keys(a).forEach(function(c){if(b[c])for(var d in a[c])a[c].hasOwnProperty(d)&&"function"==typeof a[c][d]&&(b[c][d]=a[c][d].bind(b))})},c.prototype.initExtend=function(){var a=this;b.init().then(function(b){a.setExtendingFunctions(b)})};var d=function(){return{cols:[{dataPath:"fullname",expandedViewTrigger:!0,headerString:{component:"totara_competency",key:"header_competency"}},{dataPath:"assignments_count",headerString:{component:"totara_competency",key:"assigned_user_groups"},size:"sm"}],extraRowData:[{key:"framework",dataPath:"frameworkid"}],hasExpandedView:!0,hasHierarchy:!0}},e=function(a){return new Promise(function(b){var e=new c,f={basketKey:"totara_competency_create_assignment",basketType:"session",crumbtrail:{service:"totara_competency_competency_show",stringList:[{component:"totara_competency",key:"all_competencies"},{component:"totara_competency",key:"all_competencies_framework"}]},list:{map:d(),service:"totara_competency_competency_index"},parent:a};e.init(f).then(function(){b(e)})})};return{init:e}});