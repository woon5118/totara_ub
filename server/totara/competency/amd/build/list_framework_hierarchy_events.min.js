define([],function(){function a(){if(!(this instanceof a))return new a}a.prototype.getEvents=function(){return{crumb:{formatCrumbData:function(a){return a.custom_top_label=this.crumb.strings.levelTop,new Promise(function(b){b(a)})},onCrumbtrailChanged:function(a){var b=this.listParent.querySelector('[data-tw-selecttree-urlkey="framework"]');return new Promise(function(c){a.frameworkid>0&&b&&b.setAttribute("data-tw-selector-manualset",a.frameworkid),c()})},onCrumbtrailChangeLevel:function(a){var b=a.id,c=this.listParent.querySelector(".tw-selectRegionPanel");this.filters.clearFilters(),c&&c.setAttribute("data-tw-selectorgroup-clear",!0),this.loader.show(),this.filters.setFilter("parent",b),this.crumb.setParentId(b),this.list.resetToggleLevel(),this.loader.show(),this.updatePage([this.list.getUpdateRequestArgs(),this.crumb.updateCrumbAndHeader()])},onCrumbtrailChangeToTopLevel:function(a){var b=a.id,c=this.listParent.querySelector(".tw-selectRegionPanel"),d=this.listParent.querySelector('[data-tw-selecttree-urlkey="framework"]');this.filters.clearFilters(),c&&c.setAttribute("data-tw-selectorgroup-clear",!0),this.loader.show(),this.filters.setFilter("framework",b),this.filters.setFilter("parent",0),this.list.resetToggleLevel(),this.list.update(),this.crumb.setHeadingToLevelTop(),this.crumb.clearCrumbtrail(),b>0?d.setAttribute("data-tw-selector-manualset",b):d.setAttribute("data-tw-selectorgroup-clear",!0)}},list:{onListHierarchyLevelChangeExtend:function(a){var b=this.listParent.querySelector('[data-tw-selecttree-urlkey="framework"]');b.setAttribute("data-tw-selector-manualset",a.detail.extra.framework)},onHideSubLevelItems:function(){var a=this.filters.getFilter("path");this.filters.removeFilter("path"),this.filters.setFilter("parent",a),this.list.update()},onShowSubLevelItems:function(){var a=this.filters.getFilter("parent");this.filters.removeFilter("parent"),this.filters.setFilter("path",a),this.list.update()}},selectors:{onPrimaryFilterTreeUpdate:function(){var a,b=this.filters.getFilter("framework");this.loader.show(),this.filters.hasFilter("basket")&&(a=this.filters.getFilter("basket")),this.filters.clearFilters(),a&&(this.filters.setFilter("basket",a),this.list.enabledActions=!1,this.list.enabledHierarchy=!1),b?(this.list.resetToggleLevel(),this.filters.setFilter("framework",b),this.filters.setFilter("parent",0),this.crumb.setHeadingToLevelTop()):(this.list.disableToggleLevel(),this.crumb.setHeadingToTop()),this.selectors.clearPrimarySearch(),this.crumb.clearCrumbtrail(),this.list.update()}}}};var b=function(){return new Promise(function(b){var c=new a;b(c.getEvents())})};return{init:b}});