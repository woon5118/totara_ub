{{!
   This file is part of Totara Learn

   Copyright (C) 2020 onwards Totara Learning Solutions LTD

   This program is free software; you can redistribute it and/or modify
   it under the terms of the GNU General Public License as published by
   the Free Software Foundation; either version 3 of the License, or
   (at your option) any later version.

   This program is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See  the
   GNU General Public License for more details.

   You should have received a copy of the GNU General Public License
   along with this program.  If not, see <http://www.gnu.org/licenses/>.

   @author Alastair Munro <alastair.munro@totaralearning.com>
   @package totara_completionimport
}}
{{!
    @template totara_completionimport/import_results

    This template is for the results page of completion import

    Context variables required for this template:
    * importmessage: a message for user after import is done
    * haserrors: a boolean flag if there were any errors
    * errors: an array of errors
    * results: array of details of file imported
    * reportlink.link: URL of report link
    * reportlink.text: Text for href tag

    Example content (json):
    {
        "importmessage": "File successfully imported",
        "haserrors": false,
        "errors" [],
        "results: [
            "2 records imported as courses",
            "3 records imported as evidence",
            "5 records imported total"
        ],
        "reportlink": {
            "link": "http://totara.local/totara/completionimport/viewreport.php?...",
            "text": "Course import report"
        }
    }
}}
<div>
    <h3>{{#str}}importresults, totara_completionimport{{/str}}</h3>
    <p>{{importmessage}}</p>
    {{#haserrors}}
        <ul>
        {{#errors}}
            <li>{{.}}</li>
        {{/errors}}
        </ul>
    {{/haserrors}}
    {{#results}}
        <p>{{.}}</p>
    {{/results}}

    {{#reportlink}}
        <div><a href="{{link}}">{{text}}</a></div>
    {{/reportlink}}

</div>
