define(["core/ajax"],function(a){function b(b){var c=document.querySelector(".completionimport_evidencetype_customfields");if(c){if(!b||0==b)return void c.classList.add("hidden");M.util.js_pending("totara_coursecompletion_evidence_type_fields_"+b),a.call([{methodname:"totara_evidence_type_import_fields",args:{type_id:b}}])[0].then(function(a){if(!a.length)return void c.classList.add("hidden");var d=a.join(","),e=c.querySelectorAll(".felement.fstatic");e.length<2||(e[1].innerHTML=d,c.classList.remove("hidden"),M.util.js_complete("totara_coursecompletion_evidence_type_fields_"+b))})}}function c(){var a=document.getElementById("id_evidencetype");if(a){a.addEventListener("change",function(a){b(a.currentTarget.value)});var c=a.value;b(c)}}return{init:c}});