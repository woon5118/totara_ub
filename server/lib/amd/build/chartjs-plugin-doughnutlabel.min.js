define([],function(){function a(a){"use strict";function b(b,c){if(c&&c.labels&&c.labels.length>0){var d=b.ctx,g=f.options.resolve,h=[];c.labels.forEach(function(f){var i="function"==typeof f.text?f.text(b):f.text,j={text:i,font:e.parseFont(g([f.font,c.font,{}],d,0)),color:g([f.color,c.color,a.defaults.global.defaultFontColor],d,0)};h.push(j)});var i=e.textSize(d,h),j=Math.sqrt(Math.pow(i.width,2)+Math.pow(i.height,2)),k=2*b.innerRadius,l=k/j;l<1&&(h.forEach(function(a){a.font.size=Math.floor(a.font.size*l),a.font.lineHeight=void 0,a.font=e.parseFont(g([a.font,{}],d,0))}),i=e.textSize(d,h)),d.textAlign="center",d.textBaseline="middle";var m,n=(b.chartArea.left+b.chartArea.right)/2,o=(b.chartArea.top+b.chartArea.bottom)/2,p=o-i.height/2,q=h.length,r=0;for(m=0;m<q;++m){d.fillStyle=h[m].color,d.font=h[m].font.string;var s=p+h[m].font.lineHeight/2+r;r+=h[m].font.lineHeight,d.fillText(h[m].text,n,s)}}}a=a&&a.hasOwnProperty("default")?a["default"]:a;var c={font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null}},d=a.helpers,e={parseFont:function(b){var c=a.defaults.global,f=d.valueOrDefault(b.size,c.defaultFontSize),g={family:d.valueOrDefault(b.family,c.defaultFontFamily),lineHeight:d.options.toLineHeight(b.lineHeight,f),size:f,style:d.valueOrDefault(b.style,c.defaultFontStyle),weight:d.valueOrDefault(b.weight,null),string:""};return g.string=e.toFontString(g),g},toFontString:function(a){return!a||d.isNullOrUndef(a.size)||d.isNullOrUndef(a.family)?null:(a.style?a.style+" ":"")+(a.weight?a.weight+" ":"")+a.size+"px "+a.family},textSize:function(a,b){var c,d=[].concat(b),e=d.length,f=a.font,g=0,h=0;for(c=0;c<e;++c)a.font=d[c].font.string,g=Math.max(a.measureText(d[c].text).width,g),h+=d[c].font.lineHeight;a.font=f;var i={height:h,width:g};return i}},f=a.helpers;a.defaults.global.plugins.doughnutlabel=c,a.plugins.register({id:"doughnutlabel",beforeDatasetDraw:function(a,c,d){b(a,d)}})}return{register:a}});