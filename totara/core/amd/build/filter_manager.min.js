define([],function(){function a(){return this instanceof a?(this.basketRequestArgs={action:"",basket:0,ids:[]},this.primarySearch=null,this.primaryTree=null,this.regionPanel=null,void(this.widget=null)):new a}a.prototype.bubbledEventsListener=function(){var a=this;this.primarySearch&&(this.primarySearch.addEventListener("totara_core/select_search_text:add",function(b){a.onPrimaryFilterSearchAdd(b)}),this.primarySearch.addEventListener("totara_core/select_search_text:changed",function(){a.onPrimaryFilterSearchUpdate()}),this.primarySearch.addEventListener("totara_core/select_search_text:remove",function(b){a.onPrimaryFilterSearchReset(b)})),this.primaryTree&&(this.primaryTree.addEventListener("totara_core/select_tree:add",function(b){a.onPrimaryFilterTreeAdd(b)}),this.primaryTree.addEventListener("totara_core/select_tree:changed",function(){a.onPrimaryFilterTreeUpdate()}),this.primaryTree.addEventListener("totara_core/select_tree:remove",function(b){a.onPrimaryFilterTreeReset(b)})),this.regionPanel&&(this.regionPanel.addEventListener("totara_core/select_region_panel:add",function(b){a.onFilterRegionPanelAdd(b)}),this.regionPanel.addEventListener("totara_core/select_region_panel:changed",function(){a.onFilterRegionPanelUpdate()}),this.regionPanel.addEventListener("totara_core/select_region_panel:remove",function(b){a.onFilterRegionPanelReset(b)}),this.regionPanel.addEventListener("totara_core/select_region_panel_toggle:changed",function(b){var c=a.regionPanel.querySelector(b.detail.target);c.classList.toggle(b.detail.toggleClass)}))},a.prototype.onFilterRegionPanelAdd=function(){},a.prototype.onFilterRegionPanelUpdate=function(){},a.prototype.onFilterRegionPanelReset=function(){},a.prototype.onPrimaryFilterSearchAdd=function(){},a.prototype.onPrimaryFilterSearchUpdate=function(){},a.prototype.onPrimaryFilterSearchReset=function(){},a.prototype.onPrimaryFilterTreeAdd=function(){},a.prototype.onPrimaryFilterTreeUpdate=function(){},a.prototype.onPrimaryFilterTreeReset=function(){},a.prototype.clearFiltersRegionPanel=function(){this.regionPanel&&this.regionPanel.querySelector(".tw-selectRegionPanel").setAttribute("data-tw-selectorgroup-clear",!0)},a.prototype.clearPrimarySearch=function(){this.primarySearch&&this.primarySearch.querySelector("[data-tw-selectorgroup]").setAttribute("data-tw-selectorgroup-clear",!0)},a.prototype.clearPrimaryTree=function(){this.primaryTree&&this.primaryTree.querySelector("[data-tw-selectorgroup]").setAttribute("data-tw-selectorgroup-clear",!0)},a.prototype.primarySearchToggleClass=function(a){this.primarySearch&&this.primarySearch.classList.toggle(a)},a.prototype.primarySearchRemoveClass=function(a){this.primarySearch&&this.primarySearch.classList.remove(a)},a.prototype.primaryTreeToggleClass=function(a){this.primaryTree&&this.primaryTree.classList.toggle(a)},a.prototype.primaryTreeRemoveClass=function(a){this.primaryTree&&this.primaryTree.classList.remove(a)},a.prototype.setPrimarySearch=function(a){this.primarySearch=a},a.prototype.setPrimaryTree=function(a){this.primaryTree=a},a.prototype.setRegionPanel=function(a){this.regionPanel=a};var b=function(b){var c=b.querySelector("[data-tw-filterRegionPanel]"),d=b.querySelector("[data-tw-basket-list-primaryFilterSearch]"),e=b.querySelector("[data-tw-basket-list-primaryFilterTree]"),f=new a;return d&&f.setPrimarySearch(d),e&&f.setPrimaryTree(e),c&&f.setRegionPanel(c),f.bubbledEventsListener(),f};return{init:b}});